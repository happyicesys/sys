import{_ as O}from"./Authenticated.17d315a8.js";import{_ as h}from"./Button.8b8f6598.js";import{_ as I}from"./Paginator.d9d0c574.js";import{_ as V}from"./SearchInput.ea2ae143.js";import{_ as D}from"./MultiSelect.44c659be.js";import{_ as v,a as _}from"./TableData.26473768.js";import{_ as B}from"./TableHeadSort.b8f99802.js";import{g,h as F,f as u,a as s,u as f,w as o,F as y,o as i,Z as T,b as e,i as S,d as c,t as n,k as $,l as x,c as j,O as C,n as U}from"./app.89589599.js";import{r as A}from"./PlusIcon.84ef8a46.js";import{r as E}from"./MagnifyingGlassIcon.4ffd898a.js";import{r as R}from"./BackspaceIcon.95000b32.js";import{r as z}from"./PencilSquareIcon.ea2751e8.js";import{r as J}from"./TrashIcon.4e559815.js";import"./keyboard.4357f74d.js";import"./use-resolve-button-type.8605431f.js";import"./RectangleStackIcon.7d7813c2.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.e9b94066.js";const Z=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Delivery Platform Product Mapping ",-1),q={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},G={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-3 px-3 md:px-3 py-3"},H={class:"flex justify-end"},Q=e("span",null," Create ",-1),W={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},X={class:"flex flex-col space-y-3 md:flex-row md:space-y-0 justify-between mt-5"},Y={class:"mt-3"},M={class:"flex space-x-1"},ee=e("span",null," Search ",-1),te=e("span",null," Reset ",-1),se={class:"flex flex-col space-y-2"},oe={class:"text-sm text-gray-700 leading-5 flex space-x-1"},le=e("span",null,"Showing",-1),ne={class:"font-medium"},ae=e("span",null,"to",-1),re={class:"font-medium"},de=e("span",null,"of",-1),ie={class:"font-medium"},ue=e("span",null,"results",-1),ce={class:"mt-6 flex flex-col"},me={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},fe={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},_e={class:"min-w-full border-separate",style:{"border-spacing":"0"}},pe={class:"bg-gray-100"},he={class:"divide-x divide-gray-200"},ge={class:"bg-white"},xe={key:0},ve=e("br",null,null,-1),ye={class:"divide-y divide-gray-200"},be={class:"flex py-1 px-3 space-x-2"},ke={class:"text-blue-700 text-md pr-2"},we={key:0},Be={class:"divide-y divide-gray-200"},$e={class:"flex py-1 px-3 space-x-2"},Ce={key:0},Le={key:1},Pe={key:2},Ve={class:"flex flex-col justify-center space-y-1"},Se=e("span",null," Edit ",-1),Ke={class:"flex space-x-1 items-center"},Ne=e("span",null," Delete ",-1),Oe={key:0},Ie={key:0},De=e("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Fe=[De],et={__name:"Index",props:{deliveryProductMappings:Object},setup(d){const l=g({name:"",vend_code:"",sortKey:"",sortBy:!0,numberPerPage:100});g(!1),g(),g("");const b=g([]);F(()=>{b.value=[{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],l.value.numberPerPage=b.value[0]});function K(p){!confirm("Are you sure to delete "+p.name+"?")||C.delete("/delivery-product-mappings/"+p.id)}function k(){C.get("/delivery-product-mappings",{...l.value,numberPerPage:l.value.numberPerPage.id},{preserveState:!0,replace:!0})}function N(){C.get("/delivery-product-mappings")}function w(p){l.value.sortKey=p,l.value.sortBy=!l.value.sortBy,k()}return(p,a)=>(i(),u(y,null,[s(f(T),{title:"Delivery Platform"}),s(O,null,{header:o(()=>[Z]),default:o(()=>{var L,P;return[e("div",q,[e("div",G,[e("div",H,[s(f(S),{href:"/delivery-product-mappings/create"},{default:o(()=>[s(h,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-5 py-3 md:px-4 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:o(()=>[s(f(A),{class:"h-4 w-4","aria-hidden":"true"}),Q]),_:1})]),_:1})]),e("div",W,[s(V,{placeholderStr:"Name",modelValue:l.value.name,"onUpdate:modelValue":a[0]||(a[0]=t=>l.value.name=t)},{default:o(()=>[c(" Name ")]),_:1},8,["modelValue"]),s(V,{placeholderStr:"Vend ID",modelValue:l.value.vend_code,"onUpdate:modelValue":a[1]||(a[1]=t=>l.value.vend_code=t)},{default:o(()=>[c(" Vend ID ")]),_:1},8,["modelValue"])]),e("div",X,[e("div",Y,[e("div",M,[s(h,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:a[2]||(a[2]=t=>k())},{default:o(()=>[s(f(E),{class:"h-4 w-4","aria-hidden":"true"}),ee]),_:1}),s(h,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-gray-300 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-gray-800 shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:a[3]||(a[3]=t=>N())},{default:o(()=>[s(f(R),{class:"h-4 w-4","aria-hidden":"true"}),te]),_:1})])]),e("div",se,[e("p",oe,[le,e("span",ne,n((L=d.deliveryProductMappings.meta.from)!=null?L:0),1),ae,e("span",re,n((P=d.deliveryProductMappings.meta.to)!=null?P:0),1),de,e("span",ie,n(d.deliveryProductMappings.meta.total),1),ue]),s(D,{modelValue:l.value.numberPerPage,"onUpdate:modelValue":a[4]||(a[4]=t=>l.value.numberPerPage=t),options:b.value,trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1",onSelected:k},null,8,["modelValue","options"])])])]),e("div",ce,[e("div",me,[e("div",fe,[e("table",_e,[e("thead",pe,[e("tr",he,[s(v,null,{default:o(()=>[c(" # ")]),_:1}),s(B,{modelName:"name",sortKey:l.value.sortKey,sortBy:l.value.sortBy,onSortTable:a[5]||(a[5]=t=>w("name"))},{default:o(()=>[c(" Name ")]),_:1},8,["sortKey","sortBy"]),s(B,{modelName:"operator_id",sortKey:l.value.sortKey,sortBy:l.value.sortBy,onSortTable:a[6]||(a[6]=t=>w("operator_id"))},{default:o(()=>[c(" Operator ")]),_:1},8,["sortKey","sortBy"]),s(B,{modelName:"delivery_platform_id",sortKey:l.value.sortKey,sortBy:l.value.sortBy,onSortTable:a[7]||(a[7]=t=>w("delivery_platform_id"))},{default:o(()=>[c(" Platform ")]),_:1},8,["sortKey","sortBy"]),s(v,null,{default:o(()=>[c(" Channel - Product ")]),_:1}),s(v,null,{default:o(()=>[c(" Binded Vending Machines ")]),_:1}),s(v)])]),e("tbody",ge,[(i(!0),u(y,null,$(d.deliveryProductMappings.data,(t,m)=>(i(),u("tr",{key:t.id,class:"divide-x divide-gray-200"},[s(_,{currentIndex:m,totalLength:d.deliveryProductMappings.length,inputClass:"text-center"},{default:o(()=>[c(n(d.deliveryProductMappings.meta.from+m),1)]),_:2},1032,["currentIndex","totalLength"]),s(_,{currentIndex:m,totalLength:d.deliveryProductMappings.length,inputClass:"text-left"},{default:o(()=>[c(n(t.name),1)]),_:2},1032,["currentIndex","totalLength"]),s(_,{currentIndex:m,totalLength:d.deliveryProductMappings.length,inputClass:"text-left"},{default:o(()=>[c(n(t.operator?t.operator.name:null),1)]),_:2},1032,["currentIndex","totalLength"]),s(_,{currentIndex:m,totalLength:d.deliveryProductMappings.length,inputClass:"text-center"},{default:o(()=>[c(n(t.deliveryPlatformOperator&&t.deliveryPlatformOperator.deliveryPlatform?t.deliveryPlatformOperator.deliveryPlatform.name:null)+" ",1),t.deliveryPlatformOperator?(i(),u("span",xe,[ve,c("("+n(t.deliveryPlatformOperator?t.deliveryPlatformOperator.type:null)+") ",1)])):x("",!0)]),_:2},1032,["currentIndex","totalLength"]),s(_,{currentIndex:m,totalLength:d.deliveryProductMappings.length,inputClass:"text-left"},{default:o(()=>[e("ul",ye,[(i(!0),u(y,null,$(t.deliveryProductMappingItemsJson,r=>(i(),u("li",be,[e("span",ke,n(r.channel_code),1),r.product.code?(i(),u("span",we,n(r.product.code),1)):x("",!0),e("span",null," - "+n(r.product.name),1)]))),256))])]),_:2},1032,["currentIndex","totalLength"]),s(_,{currentIndex:m,totalLength:d.deliveryProductMappings.length,inputClass:"text-left"},{default:o(()=>[e("ul",Be,[(i(!0),u(y,null,$(t.deliveryProductMappingVends,r=>(i(),u("li",$e,[r.vend.customer&&r.vend.customer.person_id?(i(),u("span",Ce,n(r.vend.code)+" - "+n(r.vend.customer.virtual_customer_code)+" ("+n(r.vend.customer.virtual_customer_prefix)+") - "+n(r.vend.customer.name),1)):r.vend.customer&&!r.vend.customer.person_id?(i(),u("span",Le,n(r.vend.code)+" - "+n(r.vend.customer.name),1)):(i(),u("span",Pe,n(r.vend.code),1))]))),256))])]),_:2},1032,["currentIndex","totalLength"]),s(_,{currentIndex:m,totalLength:d.deliveryProductMappings.length,inputClass:"text-center"},{default:o(()=>[e("div",Ve,[s(f(S),{href:"/delivery-product-mappings/"+t.id+"/edit"},{default:o(()=>[s(h,{type:"button",class:"bg-gray-300 hover:bg-gray-400 px-3 py-2 text-xs text-gray-800 flex space-x-1"},{default:o(()=>[s(f(z),{class:"w-4 h-4"}),Se]),_:1})]),_:2},1032,["href"]),s(h,{type:"button",class:U(["bg-red-300 hover:bg-red-400 px-3 py-2 text-xs text-red-800 flex-col space-y-1",[t.deliveryProductMappingVends&&t.deliveryProductMappingVends.length>0?"opacity-50 cursor-not-allowed":""]]),onClick:r=>K(t),disabled:t.deliveryProductMappingVends&&t.deliveryProductMappingVends.length>0},{default:o(()=>[e("span",Ke,[s(f(J),{class:"w-4 h-4"}),Ne]),t.deliveryProductMappingVends&&t.deliveryProductMappingVends.length>0?(i(),u("span",Oe," (Binded) ")):x("",!0)]),_:2},1032,["class","onClick","disabled"])])]),_:2},1032,["currentIndex","totalLength"])]))),128)),d.deliveryProductMappings.data.length?x("",!0):(i(),u("tr",Ie,Fe))])]),d.deliveryProductMappings.data.length?(i(),j(I,{key:0,links:d.deliveryProductMappings.links,meta:d.deliveryProductMappings.meta},null,8,["links","meta"])):x("",!0)])])])])]}),_:1})],64))}};export{et as default};
