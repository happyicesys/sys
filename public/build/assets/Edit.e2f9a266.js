import{o as a,f as r,b as e,g as m,T as B,K,h as oe,a as i,u as c,w as u,F as C,Z as ae,d as g,t as p,l as d,e as y,n as v,k as D,c as h,i as re,O as f}from"./app.4eb1cd79.js";import{_ as le}from"./Authenticated.a137bf29.js";import{_ as x}from"./Button.c732f7e7.js";import"./main.cab9e743.js";import{_ as w}from"./FormInput.0eacf5a4.js";import{_ as U}from"./MultiSelect.c2db174e.js";import{r as T}from"./PlusCircleIcon.8da13133.js";import{r as M}from"./PauseCircleIcon.860f5dfe.js";import{r as ne}from"./ArrowUturnLeftIcon.6594a126.js";import{r as ie}from"./CheckCircleIcon.463fb030.js";import{r as E}from"./BackspaceIcon.0af1ab90.js";import"./open-closed.dc9bc631.js";import"./use-resolve-button-type.571f4898.js";import"./RectangleStackIcon.38ec2653.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.a5bb48fd.js";function q(O,l){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2 10a8 8 0 1116 0 8 8 0 01-16 0zm6.39-2.908a.75.75 0 01.766.027l3.5 2.25a.75.75 0 010 1.262l-3.5 2.25A.75.75 0 018 12.25v-4.5a.75.75 0 01.39-.658z","clip-rule":"evenodd"})])}const de={class:"font-semibold text-xl text-gray-800 leading-tight"},ce={key:0},pe={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},ue={class:"mt-6 flex flex-col"},me={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},_e={class:"shadow-sm ring-1 ring-black ring-opacity-5 p-5"},ve=["onSubmit"],xe={class:"grid grid-cols-1 gap-3 sm:grid-cols-6 pb-2"},ge={class:"sm:col-span-6"},ye={class:"sm:col-span-6"},fe=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Operator ",-1),he={class:"mt-1"},be=["value"],we={class:"sm:col-span-6"},ke=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Platform ",-1),Se={class:"mt-1"},Ce=["value"],Oe={class:"sm:col-span-6"},Ve=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Platform Category ",-1),je={class:"mt-1"},Pe=["value"],Ae={class:"sm:col-span-6"},$e=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Refer to Product Mapping ",-1),Be={class:"mt-1"},De=["value"],Ue={class:"sm:col-span-3"},Me={class:"sm:col-span-3"},qe=e("div",{class:"sm:col-span-6"},[e("label",{for:"reserved",class:"italic text-blue-800"},' By setting "Reserved Percentage", the sellable qty equivalent to un-reserved percent, then that value if lower than "Reserved Quantity", channel becomes inactive, both default value are 0. ')],-1),Ne=e("div",{class:"sm:col-span-6 pt-2 pb-1 md:pt-5 md:pb-3"},[e("div",{class:"relative"},[e("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center"},[e("span",{class:"px-3 bg-white text-lg font-medium text-gray-900 rounded"},"Delivery Platform Product(s) ")])])],-1),Re={key:0},Fe={key:1},Ke=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Product ",-1),Te={key:0,class:"text-sm text-red-600"},Ee={key:2},Je={key:3},ze=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Platform SubCategory ",-1),Le={key:4,class:"sm:col-span-1"},Qe=e("span",null," Add ",-1),Ze={key:5,class:"sm:col-span-6 flex flex-col mt-3"},Ge={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-3 lg:-mx-5"},He={class:"inline-block min-w-full py-2 align-middle md:px-4 lg:px-6"},We={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},Xe={class:"table-fixed min-w-full divide-y divide-gray-300"},Ye=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," # "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Channel ID "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Thumbnail "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Product "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Status "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Price "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Platform SubCategory "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Action ")])],-1),Ie={class:"bg-white"},et={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},tt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},st={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},ot={class:"flex justify-center"},at=["src"],rt={class:"whitespace-normal py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-left flex flex-col"},lt={key:0},nt={key:1,class:"break-words"},it={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},dt={key:0,class:"inline-flex items-center rounded-md bg-green-300 px-1.5 py-0.5 text-xs font-medium text-green-800 ring-1 ring-inset ring-indigo-700/10"},ct={key:1,class:"inline-flex items-center rounded-md bg-red-200 px-1.5 py-0.5 text-xs font-medium text-red-700 ring-1 ring-inset ring-indigo-700/10"},pt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},ut={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},mt={class:"whitespace-nowrap py-4 text-sm text-center flex flex-col space-y-1 px-2"},_t={key:2,class:"text-xs"},vt={key:3,class:"text-xs"},xt=e("span",{class:"text-xs"}," Unbind SKU ",-1),gt={key:0},yt=e("td",{colspan:"7",class:"whitespace-nowrap py-4 text-sm font-medium text-gray-600 text-center"}," No Records Found ",-1),ft=[yt],ht={key:6,class:"sm:col-span-6 pt-2 pb-1 md:pt-5 md:pb-3"},bt=e("div",{class:"relative"},[e("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center"},[e("span",{class:"px-3 bg-white text-lg font-medium text-gray-900 rounded"}," Vending Machine Binding ")])],-1),wt=[bt],kt={key:7,class:"sm:col-span-5"},St=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Vending Machine ",-1),Ct={key:0,class:"text-sm text-red-600"},Ot={key:8,class:"sm:col-span-1"},Vt=e("span",null," Add ",-1),jt={key:9,class:"sm:col-span-6 flex flex-col mt-3"},Pt={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-3 lg:-mx-5"},At={class:"inline-block min-w-full py-2 align-middle md:px-4 lg:px-6"},$t={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},Bt={class:"min-w-full divide-y divide-gray-300"},Dt=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," # "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Vend ID "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Vend Name "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Channel Status "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," VM Status "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Action ")])],-1),Ut={class:"bg-white"},Mt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},qt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},Nt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-left"},Rt={key:0},Ft=e("br",null,null,-1),Kt={key:1},Tt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},Et=["onClick"],Jt={class:"text-blue-600"},zt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},Lt={key:0,class:"inline-flex items-center rounded-md bg-green-300 px-1.5 py-0.5 text-xs font-medium text-green-800 ring-1 ring-inset ring-indigo-700/10"},Qt={key:1,class:"inline-flex items-center rounded-md bg-red-200 px-1.5 py-0.5 text-xs font-medium text-red-700 ring-1 ring-inset ring-indigo-700/10"},Zt={class:"whitespace-nowrap py-2 text-xs text-center p-3"},Gt={class:"flex flex-col space-y-1"},Ht={key:2,class:"text-xs"},Wt={key:3,class:"text-xs"},Xt=e("span",{class:"text-xs"}," Unbind VM ",-1),Yt={key:0},It=e("td",{colspan:"5",class:"whitespace-nowrap py-4 text-sm font-medium text-gray-600 text-center"}," No Records Found ",-1),es=[It],ts={class:"sm:col-span-3"},ss={class:"flex space-x-1 mt-5 justify-start"},os={key:2},as={key:3},rs={class:"sm:col-span-3"},ls={class:"flex space-x-1 mt-5 justify-end"},ns=e("span",null," Back ",-1),is=e("span",null," Save ",-1),Ss={__name:"Edit",props:{categoryApiOptions:[Array,Object],deliveryProductMapping:Object,operatorOptions:Object,productMappingItems:Object,productMappingOptions:[Array,Object],productOptions:Object,type:String,unbindedVendOptions:[Array,Object]},setup(O){const l=O,J=m([]),V=m([]),z=m([]),L=m([]),t=m(B(F()));m(!1);const k=K().props.auth.operatorCountry,j=m([]),P=m([]),Q=m([]),N=m([]),R=m([]),A=m(""),Z=K().props.auth.permissions,G=m([]),$=m([]);oe(()=>{l.type=="create"?A.value="Create New":A.value="Edit",J.value=l.categoryApiOptions[0].categories.map(o=>({id:o.id,name:o.name,subCategories:o.subCategories})),V.value=[...l.operatorOptions.data.find(o=>o.id===l.deliveryProductMapping.data.operator_id).deliveryPlatformOperators.map(o=>({id:o.id,name:o.deliveryPlatform.name}))],L.value=l.deliveryProductMapping?l.deliveryProductMapping.data.deliveryProductMappingItems:[],j.value=[...l.operatorOptions.data.map(o=>({id:o.id,full_name:o.full_name}))],P.value=[...l.productMappingOptions[0].data.map(o=>({id:o.id,name:o.name}))],N.value=l.productOptions.data,t.value=l.deliveryProductMapping?B({...l.deliveryProductMapping.data,operator_id:j.value.find(o=>o.id===l.deliveryProductMapping.data.operator_id),operator_field:j.value.find(o=>o.id===l.deliveryProductMapping.data.operator_id).full_name,product_mapping_id:P.value.find(o=>o.id===l.deliveryProductMapping.data.product_mapping_id),product_mapping_field:P.value.find(o=>o.id===l.deliveryProductMapping.data.product_mapping_id).name,delivery_platform_operator_id:V.value.find(o=>o.id===l.deliveryProductMapping.data.delivery_platform_operator_id),delivery_platform_operator_field:V.value.find(o=>o.id===l.deliveryProductMapping.data.delivery_platform_operator_id).name}):B(F()),R.value=l.deliveryProductMapping?l.deliveryProductMapping.data.category_json.subCategories:[],$.value=[...l.unbindedVendOptions.data.map(o=>({id:o.id,full_name:o.full_name}))],G.value=l.deliveryProductMapping?l.deliveryProductMapping.data.vends:[]});function F(){return{id:"",category_json:"",delivery_platform_operator_id:"",name:"",operator_id:"",product_mapping_id:"",reserved_percent:0,reserved_qty:0,sub_category_json:""}}function H(){Q.value.map(function(o){return o.channel_code}).indexOf(t.value.channel_code)<0&&f.post("/delivery-product-mapping-items/delivery-product-mapping/"+t.value.id+"/store",{...t.value,product_id:t.value.product_id?t.value.product_id.id:null},{preserveState:!1,preserveScroll:!0,replace:!0})}function W(o){f.post("/delivery-product-mappings/"+t.value.id+"/bind-vend/"+o,{},{preserveState:!1,preserveScroll:!0,replace:!0})}function X(){t.value.clearErrors(),t.value.transform(o=>({name:o.name})).post("/delivery-product-mappings/"+t.value.id+"/update",{preserveState:!0,replace:!0})}function Y(o){let n=t.value.is_active?"Are you sure to pause all vending machines?":"Are you sure to resume all vending machines?";!confirm(n)||f.post("/delivery-product-mappings/"+o+"/toggle-pause-all-vends",{preserveState:!1,preserveScroll:!0,replace:!0})}function I(o){let n=o.is_active?"Are you sure to pause this SKU?":"Are you sure to resume this SKU?";!confirm(n)||f.post("/delivery-product-mapping-items/"+o.id+"/toggle-pause",{preserveState:!1,preserveScroll:!0,replace:!0})}function ee(o){let n=o.is_active?"Are you sure to pause this vending machine?":"Are you sure to resume this vending machine?";!confirm(n)||f.post("/delivery-product-mappings/vends/"+o.id+"/toggle-pause-vend",{preserveState:!0,preserveScroll:!0,replace:!0})}function te(o){!confirm("Are you sure to delete this entry?")||f.delete("/delivery-product-mapping-items/"+o,{preserveState:!1,preserveScroll:!0,replace:!0})}function se(o){!confirm("Are you sure to delete this entry?")||f.delete("/delivery-product-mappings/"+t.value.id+"/unbind-vend/"+o,{preserveState:!1,preserveScroll:!0,replace:!0,onSuccess:()=>{f.reload({only:["unbindedVendOptions"]}),$.value=l.unbindedVendOptions?l.unbindedVendOptions.data:[]}})}return(o,n)=>(a(),r(C,null,[i(c(ae),{title:"Delivery Product Mapping"}),i(le,null,{header:u(()=>[e("h2",de,[g(p(A.value)+" Delivery Product Mapping ",1),O.type=="update"?(a(),r("span",ce,p(z.value.name),1)):d("",!0)])]),default:u(()=>[e("div",pe,[e("div",ue,[e("div",me,[e("div",_e,[e("form",{onSubmit:y(X,["prevent"]),id:"submit"},[e("div",xe,[e("div",ge,[i(w,{modelValue:t.value.name,"onUpdate:modelValue":n[0]||(n[0]=s=>t.value.name=s),error:t.value.errors.name},{default:u(()=>[g(" Name ")]),_:1},8,["modelValue","error"])]),e("div",ye,[fe,e("div",he,[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:t.value.operator_field},null,8,be)])]),e("div",we,[ke,e("div",Se,[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:t.value.delivery_platform_operator_field},null,8,Ce)])]),e("div",Oe,[Ve,e("div",je,[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:t.value.category_json.name},null,8,Pe)])]),e("div",Ae,[$e,e("div",Be,[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:t.value.product_mapping_field},null,8,De)])]),e("div",Ue,[i(w,{modelValue:t.value.reserved_percent,"onUpdate:modelValue":n[1]||(n[1]=s=>t.value.reserved_percent=s),error:t.value.errors.reserved_percent},{default:u(()=>[g(" Reserved Percentage (%) ")]),_:1},8,["modelValue","error"])]),e("div",Me,[i(w,{modelValue:t.value.reserved_qty,"onUpdate:modelValue":n[2]||(n[2]=s=>t.value.reserved_qty=s),error:t.value.errors.reserved_qty},{default:u(()=>[g(" Reserved Quantity ")]),_:1},8,["modelValue","error"])]),qe,Ne,t.value.id?(a(),r("div",Re,[i(w,{modelValue:t.value.channel_code,"onUpdate:modelValue":n[3]||(n[3]=s=>t.value.channel_code=s),error:t.value.errors.channel_code,placeholderStr:"Channel ID"},{default:u(()=>[g(" Channel ID ")]),_:1},8,["modelValue","error"])])):d("",!0),t.value.id?(a(),r("div",Fe,[Ke,i(U,{modelValue:t.value.product_id,"onUpdate:modelValue":n[4]||(n[4]=s=>t.value.product_id=s),options:N.value,trackBy:"id",valueProp:"id",label:"full_name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),t.value.errors.product_id?(a(),r("div",Te,p(t.value.errors.product_id),1)):d("",!0)])):d("",!0),t.value.id?(a(),r("div",Ee,[i(w,{modelValue:t.value.amount,"onUpdate:modelValue":n[5]||(n[5]=s=>t.value.amount=s),error:t.value.errors.amount,placeholderStr:"Platform Price"},{default:u(()=>[g(" Price ")]),_:1},8,["modelValue","error"])])):d("",!0),t.value.id?(a(),r("div",Je,[ze,i(U,{modelValue:t.value.sub_category_json,"onUpdate:modelValue":n[6]||(n[6]=s=>t.value.sub_category_json=s),options:R.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])):d("",!0),t.value.product_mapping_id?(a(),r("div",Le,[i(x,{type:"button",onClick:n[7]||(n[7]=y(s=>H(),["prevent"])),class:v(["bg-green-500 hover:bg-green-600 text-white flex space-x-1 sm:mt-6",[!t.value.channel_code||!t.value.product_id?"opacity-50 cursor-not-allowed":""]]),disabled:!t.value.channel_code||!t.value.product_id},{default:u(()=>[i(c(T),{class:"w-4 h-4"}),Qe]),_:1},8,["class","disabled"])])):d("",!0),t.value.product_mapping_id?(a(),r("div",Ze,[e("div",Ge,[e("div",He,[e("div",We,[e("table",Xe,[Ye,e("tbody",Ie,[(a(!0),r(C,null,D(l.deliveryProductMapping.data.deliveryProductMappingItems,(s,b)=>(a(),r("tr",{key:s.id,class:v(b%2===0?void 0:"bg-gray-50")},[e("td",et,p(b+1),1),e("td",tt,p(s.channel_code),1),e("td",st,[e("div",ot,[s.product&&s.product.thumbnail?(a(),r("img",{key:0,class:"h-24 w-24 md:h-20 md:w-20 rounded-full",src:s.product.thumbnail.full_url,alt:""},null,8,at)):d("",!0)])]),e("td",rt,[s.product.code?(a(),r("span",lt,p(s.product.code),1)):d("",!0),s.product.name?(a(),r("span",nt,p(s.product.name),1)):d("",!0)]),e("td",it,[s.is_active==1?(a(),r("span",dt," Active ")):d("",!0),s.is_active==0?(a(),r("span",ct," Paused ")):d("",!0)]),e("td",pt,p(s.amount.toLocaleString(void 0,{minimumFractionDigits:c(k).is_currency_exponent_hidden?0:c(k).currency_exponent,maximumFractionDigits:c(k).is_currency_exponent_hidden?0:c(k).currency_exponent})),1),e("td",ut,p(s.sub_category_json.name),1),e("td",mt,[i(x,{class:v(["flex space-x-1",[s.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:y(_=>I(s),["prevent"])},{default:u(()=>[s.is_active?(a(),h(c(M),{key:0,class:"w-3 h-3"})):(a(),h(c(q),{key:1,class:"w-3 h-3"})),s.is_active?(a(),r("span",_t," Pause SKU ")):(a(),r("span",vt," Resume SKU "))]),_:2},1032,["class","onClick"]),i(x,{class:"bg-red-400 hover:bg-red-500 text-white flex space-x-1",onClick:y(_=>te(s.id),["prevent"])},{default:u(()=>[i(c(E),{class:"w-3 h-3"}),xt]),_:2},1032,["onClick"])])],2))),128)),!l.deliveryProductMapping.data.deliveryProductMappingItems||!l.deliveryProductMapping.data.deliveryProductMappingItems.length?(a(),r("tr",gt,ft)):d("",!0)])])])])])])):d("",!0),t.value.product_mapping_id?(a(),r("div",ht,wt)):d("",!0),t.value.product_mapping_id?(a(),r("div",kt,[St,i(U,{modelValue:t.value.vend_id,"onUpdate:modelValue":n[8]||(n[8]=s=>t.value.vend_id=s),options:$.value,trackBy:"id",valueProp:"id",label:"full_name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),t.value.errors.vend_id?(a(),r("div",Ct,p(t.value.errors.vend_id),1)):d("",!0)])):d("",!0),t.value.product_mapping_id?(a(),r("div",Ot,[i(x,{type:"button",onClick:n[9]||(n[9]=y(s=>W(t.value.vend_id.id),["prevent"])),class:v(["bg-green-500 hover:bg-green-600 text-white flex space-x-1 sm:mt-6",[t.value.vend_id?"":"opacity-50 cursor-not-allowed"]]),disabled:!t.value.vend_id},{default:u(()=>[i(c(T),{class:"w-4 h-4"}),Vt]),_:1},8,["class","disabled"])])):d("",!0),t.value.product_mapping_id?(a(),r("div",jt,[e("div",Pt,[e("div",At,[e("div",$t,[e("table",Bt,[Dt,e("tbody",Ut,[(a(!0),r(C,null,D(l.deliveryProductMapping.data.deliveryProductMappingVends,(s,b)=>(a(),r("tr",{key:s.id,class:v(b%2===0?void 0:"bg-gray-50")},[e("td",Mt,p(b+1),1),e("td",qt,p(s.vend.code),1),e("td",Nt,[s.vend.latestVendBinding&&s.vend.latestVendBinding.customer?(a(),r("span",Rt,[g(p(s.vend.latestVendBinding.customer.code)+" ",1),Ft,g(" "+p(s.vend.latestVendBinding.customer.name),1)])):(a(),r("span",Kt,p(s.vend.name),1))]),e("td",Tt,[s.vend.vendChannelsJson?(a(),r("ul",{key:0,class:"sm:grid sm:grid-cols-[105px_minmax(110px,_1fr)_100px] hover:cursor-pointer",onClick:_=>o.onChannelOverviewClicked(s.vend)},[(a(!0),r(C,null,D(s.vend.vendChannelsJson,(_,S)=>(a(),r("li",{class:v(["quick-look",[S>0&&String(_.code)[0]!==String(s.vend.vendChannelsJson[S-1].code)[0]?"col-start-1":""]])},[e("span",{class:v([S>0&&String(_.code)[0]!==String(s.vend.vendChannelsJson[S-1].code)[0]?"border-t-4 pt-1":""])},[e("span",null," #"+p(_.code)+", ",1),e("span",Jt,p(_.capacity-_.qty)+", ",1),e("span",{class:v([_.qty<=2?"text-red-700":"text-green-700"])},p(_.qty)+"/"+p(_.capacity),3)],2)],2))),256))],8,Et)):d("",!0)]),e("td",zt,[s.is_active==1?(a(),r("span",Lt," Operating ")):d("",!0),s.is_active==0?(a(),r("span",Qt," Paused ")):d("",!0)]),e("td",Zt,[e("div",Gt,[i(x,{class:v(["flex space-x-1",[s.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:y(_=>ee(s),["prevent"])},{default:u(()=>[s.is_active?(a(),h(c(M),{key:0,class:"w-3 h-3"})):(a(),h(c(q),{key:1,class:"w-3 h-3"})),s.is_active?(a(),r("span",Ht," Pause VM ")):(a(),r("span",Wt," Resume VM "))]),_:2},1032,["class","onClick"]),i(x,{class:"bg-red-400 hover:bg-red-500 text-white flex space-x-1",onClick:y(_=>se(s.id),["prevent"])},{default:u(()=>[i(c(E),{class:"w-3 h-3"}),Xt]),_:2},1032,["onClick"])])])],2))),128)),l.deliveryProductMapping.data.deliveryProductMappingVends.length?d("",!0):(a(),r("tr",Yt,es))])])])])])])):d("",!0),e("div",ts,[e("div",ss,[i(x,{class:v(["flex space-x-1",[t.value.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black-700":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:n[10]||(n[10]=y(s=>Y(t.value.id),["prevent"]))},{default:u(()=>[t.value.is_active?(a(),h(c(M),{key:0,class:"w-4 h-4"})):(a(),h(c(q),{key:1,class:"w-4 h-4"})),t.value.is_active?(a(),r("span",os," Pause All Vending Machines ")):(a(),r("span",as," Resume All Vending Machines "))]),_:1},8,["class"])])]),e("div",rs,[e("div",ls,[i(c(re),{href:"/delivery-product-mappings"},{default:u(()=>[i(x,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1"},{default:u(()=>[i(c(ne),{class:"w-4 h-4"}),ns]),_:1})]),_:1}),c(Z).includes("update vends")?(a(),h(x,{key:0,type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:u(()=>[i(c(ie),{class:"w-4 h-4"}),is]),_:1})):d("",!0)])])])],40,ve)])])])])]),_:1})],64))}};export{Ss as default};
