import{g as b,T as u,h as x,c,a as r,w as t,q as y,o as p,b as s,d,u as f,l as h,e as V}from"./app.61a2f055.js";import{_ as v}from"./Button.7ffe81a1.js";import{_ as n}from"./FormInput.93945a18.js";import{_ as C}from"./Modal.bfff0e4a.js";import{r as k}from"./ArrowUturnLeftIcon.c25fbbff.js";import{r as w}from"./CheckCircleIcon.4fd20f41.js";import"./open-closed.296efdbe.js";const M=s("div",{class:"flex flex-col md:flex-row space-x-2"},[s("span",{class:"text-gray-600"}," Create New Machine ")],-1),$=["onSubmit"],B={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6 pb-2"},S={class:"sm:col-span-6"},N={class:"sm:col-span-6"},T={class:"sm:col-span-6"},U={class:"sm:col-span-6"},j={class:"flex space-x-1 mt-5 justify-end"},q=s("span",null," Back ",-1),D=s("span",null," Save ",-1),P={__name:"Create",props:{permissions:[Array,Object],type:String,showModal:Boolean},emits:["modalClose"],setup(l,{emit:_}){const e=b(u(i()));x(()=>{e.value=u(i())});function i(){return{begin_date:"",code:"",name:"",private_key:"",termination_date:""}}function g(){e.value.clearErrors(),e.value.post("/vends/create",{onSuccess:()=>{_("modalClose")},preserveState:!0,replace:!0})}return(m,a)=>(p(),c(y,{to:"body"},[r(C,{open:l.showModal,onModalClose:a[4]||(a[4]=o=>m.$emit("modalClose"))},{header:t(()=>[M]),default:t(()=>[s("form",{onSubmit:V(g,["prevent"]),id:"submit"},[s("div",B,[s("div",S,[r(n,{modelValue:e.value.code,"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.code=o),error:e.value.errors.code,required:"true"},{default:t(()=>[d(" Machine ID ")]),_:1},8,["modelValue","error"])]),s("div",N,[r(n,{modelValue:e.value.name,"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.name=o),error:e.value.errors.name},{default:t(()=>[d(" Name (Leave Blank if Bind from CMS) ")]),_:1},8,["modelValue","error"])]),s("div",T,[r(n,{modelValue:e.value.private_key,"onUpdate:modelValue":a[2]||(a[2]=o=>e.value.private_key=o),error:e.value.errors.private_key,disabled:!l.permissions.includes("update vends")},{default:t(()=>[d(" Private Key ")]),_:1},8,["modelValue","error","disabled"])])]),s("div",U,[s("div",j,[r(v,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1",onClick:a[3]||(a[3]=o=>m.$emit("modalClose")),form:"submit"},{default:t(()=>[r(f(k),{class:"w-4 h-4"}),q]),_:1}),l.permissions.includes("update vends")?(p(),c(v,{key:0,type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:t(()=>[r(f(w),{class:"w-4 h-4"}),D]),_:1})):h("",!0)])])],40,$)]),_:1},8,["open"])]))}};export{P as default};
