import{i as m,u,j as C,o as i,c as S,a,w as n,T as w,d as t,g as d,p as c,t as p,b,e as $,f as _}from"./app.0116af8b.js";import{_ as h}from"./Button.93626b7e.js";import{_ as V}from"./FormInput.12eba5e6.js";import{_ as B}from"./FormTextarea.0b713e06.js";import{_ as j}from"./Modal.1a9839a6.js";import{_ as k}from"./MultiSelect.c51c079b.js";import{r as N}from"./ArrowUturnLeftIcon.9302ba00.js";import{r as O}from"./CheckCircleIcon.e7da16b6.js";import"./open-closed.1411b711.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.f00d5867.js";const M={class:"flex flex-col md:flex-row space-x-2"},U={key:0,class:"text-gray-600"},T={key:1},E={key:2,class:"text-gray-600"},F=["onSubmit"],A={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6"},D={class:"sm:col-span-2"},P=_(" Code "),q={class:"sm:col-span-4"},R=_(" Name "),G={class:"sm:col-span-6"},H=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Country ",-1),I={key:0,class:"text-sm text-red-600"},J={class:"sm:col-span-6"},K=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Timezone ",-1),L={key:0,class:"text-sm text-red-600"},Q={class:"sm:col-span-6"},W=_(" Remarks "),X={class:"sm:col-span-6"},Y={class:"flex space-x-1 mt-5 justify-end"},Z=t("span",null," Back ",-1),ee=t("span",null," Save ",-1),ue={__name:"Form",props:{countries:[Array,Object],operator:Object,timezones:[Array,Object],type:String,showModal:Boolean},emits:["modalClose"],setup(f,{emit:v}){const l=f,y=m([]),e=m(u(g())),x=m([]);C(()=>{y.value=l.countries.data,x.value=l.timezones.map((s,o)=>({id:o,name:s})),e.value=l.operator?u(l.operator):u(g())});function g(){return{code:"",name:"",country_id:"",timezone:"",remarks:""}}function z(){e.value.clearErrors(),l.type==="create"&&e.value.transform(s=>({...s,timezone:s.timezone.name,country_id:s.country_id.id})).post("/operators/create",{onSuccess:()=>{v("modalClose")},preserveState:!0,replace:!0}),l.type==="update"&&e.value.transform(s=>({...s,timezone:s.timezone.name,country_id:s.country_id.id})).post("/operators/"+e.value.id+"/update",{onSuccess:()=>{v("modalClose")},preserveState:!0,replace:!0})}return(s,o)=>(i(),S(w,{to:"body"},[a(j,{open:f.showModal,onModalClose:o[6]||(o[6]=r=>s.$emit("modalClose"))},{header:n(()=>[t("div",M,[l.operator?(i(),d("span",U," Editing ")):c("",!0),l.operator?(i(),d("span",T,p(l.operator.name),1)):(i(),d("span",E," Create New Operator "))])]),default:n(()=>[t("form",{onSubmit:$(z,["prevent"]),id:"submit"},[t("div",A,[t("div",D,[a(V,{modelValue:e.value.code,"onUpdate:modelValue":o[0]||(o[0]=r=>e.value.code=r),error:e.value.errors.code},{default:n(()=>[P]),_:1},8,["modelValue","error"])]),t("div",q,[a(V,{modelValue:e.value.name,"onUpdate:modelValue":o[1]||(o[1]=r=>e.value.name=r),error:e.value.errors.name,required:"true"},{default:n(()=>[R]),_:1},8,["modelValue","error"])]),t("div",G,[H,a(k,{modelValue:e.value.country_id,"onUpdate:modelValue":o[2]||(o[2]=r=>e.value.country_id=r),options:y.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),e.value.errors.country_id?(i(),d("div",I,p(e.value.errors.country_id),1)):c("",!0)]),t("div",J,[K,a(k,{modelValue:e.value.timezone,"onUpdate:modelValue":o[3]||(o[3]=r=>e.value.timezone=r),options:x.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),e.value.errors.timezone?(i(),d("div",L,p(e.value.errors.timezone),1)):c("",!0)]),t("div",Q,[a(B,{modelValue:e.value.remarks,"onUpdate:modelValue":o[4]||(o[4]=r=>e.value.remarks=r),error:e.value.errors.remarks},{default:n(()=>[W]),_:1},8,["modelValue","error"])])]),t("div",X,[t("div",Y,[a(h,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1",onClick:o[5]||(o[5]=r=>s.$emit("modalClose")),form:"submit"},{default:n(()=>[a(b(N),{class:"w-4 h-4"}),Z]),_:1}),a(h,{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:n(()=>[a(b(O),{class:"w-4 h-4"}),ee]),_:1})])])],40,F)]),_:1},8,["open"])]))}};export{ue as default};
