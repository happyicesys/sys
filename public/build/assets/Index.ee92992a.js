import{_ as z}from"./Authenticated.759f9595.js";import{_ as F}from"./Button.79bfa1f1.js";import{o as a,c as g,a as d,L as C,D as m,g as h,d as e,w as c,n as l,C as f,t as s,F as w,l as L,f as i,p as N,E as B,H as E,e as j,m as U}from"./app.d10b5e2c.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";import{S as P}from"./SearchInput.2a41e977.js";function A(y,o){return a(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])}function D(y,o){return a(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}const O={components:{ChevronLeftIcon:A,ChevronRightIcon:D,Link:C},props:{links:Object,meta:Object}},T={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},H={class:"flex-1 flex justify-between sm:hidden"},M=i(" Previous "),R=i(" Next "),I={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},q={class:"text-sm text-gray-700"},G=i(" Showing "+s(" ")+" "),J={class:"font-medium"},K=i(" "+s(" ")+" to "+s(" ")+" "),Q={class:"font-medium"},W=i(" "+s(" ")+" of "+s(" ")+" "),X={class:"font-medium"},Y=i(" "+s(" ")+" results "),Z={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},$=e("span",{class:"sr-only"},"Previous",-1),ee=e("span",{class:"sr-only"},"Next",-1);function te(y,o,t,S,p,b){const k=m("ChevronLeftIcon"),u=m("Link"),v=m("ChevronRightIcon");return a(),h("div",T,[e("div",H,[(a(),g(f(t.links.prev?"Link":"span"),{href:t.links.prev,class:l(["relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md",[t.links.prev?"text-gray-700 bg-white hover:bg-gray-50":"opacity-25 cursor-not-allowed"]]),disabled:!t.links.prev,"preserve-scroll":""},{default:c(()=>[M]),_:1},8,["href","class","disabled"])),(a(),g(f(t.links.next?"Link":"span"),{href:t.links.next,class:l(["ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md",[t.links.next?"text-gray-700 bg-white hover:bg-gray-50":"opacity-25 cursor-not-allowed"]]),disabled:!t.links.next,"preserve-scroll":""},{default:c(()=>[R]),_:1},8,["href","class","disabled"]))]),e("div",I,[e("div",null,[e("p",q,[G,e("span",J,s(t.meta.from),1),K,e("span",Q,s(t.meta.to),1),W,e("span",X,s(t.meta.total),1),Y])]),e("div",null,[e("nav",Z,[(a(),g(f(t.links.prev?"Link":"span"),{href:t.links.prev,class:l(["relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium",[t.links.prev?"text-gray-500 hover:bg-gray-50":"opacity-25 cursor-not-allowed"]]),disabled:!t.links.prev,"preserve-scroll":""},{default:c(()=>[$,d(k,{class:"h-5 w-5","aria-hidden":"true"})]),_:1},8,["href","class","disabled"])),(a(!0),h(w,null,L(t.meta.links,(x,_)=>N((a(),g(u,{href:x.url,class:l(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",[x.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"]]),"preserve-scroll":""},{default:c(()=>[i(s(x.label),1)]),_:2},1032,["href","class"])),[[B,_!=0&&_!=t.meta.links.length-1]])),256)),(a(),g(f(t.links.next?"Link":"span"),{href:t.links.next,class:l(["relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium",[t.links.next?"text-gray-500 hover:bg-gray-50":"opacity-25 cursor-not-allowed"]]),disabled:!t.links.next,"preserve-scroll":""},{default:c(()=>[ee,d(v,{class:"h-5 w-5","aria-hidden":"true"})]),_:1},8,["href","class","disabled"]))])])])])}const re=V(O,[["render",te]]),se={components:{BreezeAuthenticatedLayout:z,Button:F,Head:E,Link:C,Paginator:re,SearchInput:P},props:{vendingMachines:Object,filters:Object},data(){return{searchFilters:{code:this.filters.code,serial_num:this.filters.serial_num,name:this.filters.name}}},methods:{onSearchFilterUpdated(){this.$inertia.get("/vending-machine",{code:this.searchFilters.code,serial_num:this.searchFilters.serial_num,name:this.searchFilters.name},{preserveState:!0,replace:!0})},onVendingMachineTempClicked(y){this.$inertia.get("/vending-machine/"+y+"/temp")},onVendingMachineChannelErrorLogEmailClicked(){this.$inertia.get("/vending-machines/channel-error-logs-email")}}},oe=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Vending Machine ",-1),le={class:"p-4 sm:px-6 lg:px-8"},ae={class:"sm:flex sm:items-center"},ne={class:"sm:flex sm:space-x-5 space-y-2 sm:space-y-0"},ie=i(" Code "),de=i(" Serial Num "),ce=i(" Name "),me=i(" Send Vending Machine Channel Error Log Mail "),pe={class:"px-2 mt-8 flex flex-col"},ge={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},be={class:"inline-block min-w-full py-2 align-middle"},he={class:"shadow-sm ring-1 ring-black ring-opacity-5"},ye={class:"min-w-full border-separate",style:{"border-spacing":"0"}},ue=e("thead",{class:"bg-gray-100"},[e("tr",{class:"divide-x divide-gray-200"},[e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," #"),e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Code"),e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Serial Num"),e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Name"),e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Temp(C)"),e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Last Temp"),e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Coin Amount($)"),e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Firmware Ver"),e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 px-3 py-3.5 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter"}," Door Opening?"),e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 px-3 py-3.5 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter"}," Sensor Normal?"),e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pr-4 pl-3 backdrop-blur backdrop-filter sm:pr-6 lg:pr-8"},[e("span",{class:"sr-only"},"Edit")])])],-1),xe={class:"divide-y divide-gray-200 bg-white"},_e=["onClick"],fe={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800"},ke={href:"#",class:"text-indigo-600 hover:text-indigo-900"},ve=i("Edit"),we={class:"sr-only"};function Ce(y,o,t,S,p,b){const k=m("Head"),u=m("SearchInput"),v=m("Button"),x=m("Paginator"),_=m("BreezeAuthenticatedLayout");return a(),h(w,null,[d(k,{title:"Vending Machine"}),d(_,null,{header:c(()=>[oe]),default:c(()=>[e("div",le,[e("div",ae,[e("section",ne,[d(u,{placeholderStr:"Code",modelValue:p.searchFilters.code,"onUpdate:modelValue":o[0]||(o[0]=r=>p.searchFilters.code=r),onInput:o[1]||(o[1]=r=>b.onSearchFilterUpdated())},{default:c(()=>[ie]),_:1},8,["modelValue"]),d(u,{placeholderStr:"Serial Num",modelValue:p.searchFilters.serial_num,"onUpdate:modelValue":o[2]||(o[2]=r=>p.searchFilters.serial_num=r),onInput:o[3]||(o[3]=r=>b.onSearchFilterUpdated())},{default:c(()=>[de]),_:1},8,["modelValue"]),d(u,{placeholderStr:"Name",modelValue:p.searchFilters.name,"onUpdate:modelValue":o[4]||(o[4]=r=>p.searchFilters.name=r),onInput:o[5]||(o[5]=r=>b.onSearchFilterUpdated())},{default:c(()=>[ce]),_:1},8,["modelValue"]),d(v,{type:"button",onClick:o[6]||(o[6]=j(r=>b.onVendingMachineChannelErrorLogEmailClicked(),["prevent"]))},{default:c(()=>[me]),_:1})])]),e("div",pe,[e("div",ge,[e("div",be,[e("div",he,[e("table",ye,[ue,e("tbody",xe,[(a(!0),h(w,null,L(t.vendingMachines.data,(r,n)=>(a(),h("tr",{key:r.id,class:"divide-x divide-gray-200"},[e("td",{class:l([[n!==t.vendingMachines.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-right"])},s(t.vendingMachines.meta.from+n),3),e("td",{class:l([[n!==t.vendingMachines.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-right"])},s(r.code),3),e("td",{class:l([[n!==t.vendingMachines.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-center"])},s(r.serial_num),3),e("td",{class:l([[n!==t.vendingMachines.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-center"])},s(r.name),3),e("td",{class:l([[n!==t.vendingMachines.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-600 sm:pl-6 lg:pl-8"],"text-right flex flex-col"])},[e("span",{class:"hover:cursor-pointer",onClick:Le=>b.onVendingMachineTempClicked(r.id)},s(r.temp),9,_e),r.is_temp_error?(a(),h("span",fe," Abnormal")):U("",!0)],2),e("td",{class:l([[n!==t.vendingMachines.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},s(r.temp_updated_at),3),e("td",{class:l([[n!==t.vendingMachines.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-right"])},s(r.coin_amount),3),e("td",{class:l([[n!==t.vendingMachines.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},s(r.firmware_ver),3),e("td",{class:l([[n!==t.vendingMachines.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},s(r.is_door_open),3),e("td",{class:l([[n!==t.vendingMachines.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},s(r.is_sensor_normal),3),e("td",{class:l([n!==t.vendingMachines.length-1?"border-b border-gray-200":"","relative whitespace-nowrap py-4 pr-4 pl-3 text-right text-sm font-medium sm:pr-6 lg:pr-8"])},[e("a",ke,[ve,e("span",we,", "+s(r.name),1)])],2)]))),128))])]),d(x,{links:t.vendingMachines.links,meta:t.vendingMachines.meta},null,8,["links","meta"])])])])])])]),_:1})],64)}const Be=V(se,[["render",Ce]]);export{Be as default};
