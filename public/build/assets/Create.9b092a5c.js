import{h as b,T as u,j as x,c,a as r,w as t,s as y,o as p,b as s,d,u as v,m as h,e as V}from"./app.7811e101.js";import{_ as f}from"./Button.93c42e28.js";import{_ as n}from"./FormInput.ff54112c.js";import{_ as C,r as k}from"./Modal.e1703d37.js";import{r as w}from"./ArrowUturnLeftIcon.4ff11597.js";import"./open-closed.c5dc4d9f.js";const M=s("div",{class:"flex flex-col md:flex-row space-x-2"},[s("span",{class:"text-gray-600"}," Create New Machine ")],-1),$=["onSubmit"],B={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6 pb-2"},S={class:"sm:col-span-6"},N={class:"sm:col-span-6"},j={class:"sm:col-span-6"},T={class:"sm:col-span-6"},U={class:"flex space-x-1 mt-5 justify-end"},D=s("span",null," Back ",-1),q=s("span",null," Save ",-1),O={__name:"Create",props:{permissions:[Array,Object],type:String,showModal:Boolean},emits:["modalClose"],setup(l,{emit:_}){const e=b(u(i()));x(()=>{e.value=u(i())});function i(){return{begin_date:"",code:"",name:"",private_key:"",termination_date:""}}function g(){e.value.clearErrors(),e.value.post("/vends/create",{onSuccess:()=>{_("modalClose")},preserveState:!0,replace:!0})}return(m,a)=>(p(),c(y,{to:"body"},[r(C,{open:l.showModal,onModalClose:a[4]||(a[4]=o=>m.$emit("modalClose"))},{header:t(()=>[M]),default:t(()=>[s("form",{onSubmit:V(g,["prevent"]),id:"submit"},[s("div",B,[s("div",S,[r(n,{modelValue:e.value.code,"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.code=o),error:e.value.errors.code,required:"true"},{default:t(()=>[d(" Machine ID ")]),_:1},8,["modelValue","error"])]),s("div",N,[r(n,{modelValue:e.value.name,"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.name=o),error:e.value.errors.name},{default:t(()=>[d(" Name (Leave Blank if Bind from CMS) ")]),_:1},8,["modelValue","error"])]),s("div",j,[r(n,{modelValue:e.value.private_key,"onUpdate:modelValue":a[2]||(a[2]=o=>e.value.private_key=o),error:e.value.errors.private_key,disabled:!l.permissions.includes("update vends")},{default:t(()=>[d(" Private Key ")]),_:1},8,["modelValue","error","disabled"])])]),s("div",T,[s("div",U,[r(f,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1",onClick:a[3]||(a[3]=o=>m.$emit("modalClose")),form:"submit"},{default:t(()=>[r(v(w),{class:"w-4 h-4"}),D]),_:1}),l.permissions.includes("update vends")?(p(),c(f,{key:0,type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:t(()=>[r(v(k),{class:"w-4 h-4"}),q]),_:1})):h("",!0)])])],40,$)]),_:1},8,["open"])]))}};export{O as default};
