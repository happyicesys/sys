import{g as f,T as q,h as ee,j,f as r,a as s,u as y,w as n,F as k,o as i,Z as te,b as t,d,t as u,l as m,e as w,i as ae,n as O,k as P,O as S}from"./app.618f9640.js";import{_ as le}from"./Authenticated.da216ddf.js";import{_ as C}from"./Button.efd44fce.js";import{_ as R}from"./DatetimePicker.04c21e0a.js";import{_ as x}from"./FormInput.e4daa8fc.js";import{_ as V}from"./MultiSelect.406b750b.js";import{_ as h,a as b}from"./TableData.c6021079.js";import{r as se}from"./ArrowUturnLeftIcon.18175fd5.js";import{r as M}from"./CheckCircleIcon.07786eb4.js";import{r as oe}from"./XCircleIcon.486308bd.js";import"./keyboard.3257e83d.js";import"./use-resolve-button-type.574e9d9e.js";import"./RectangleStackIcon.4c7343de.js";import"./main.85ef2149.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.9900262b.js";const re={class:"font-semibold text-xl text-gray-800 leading-tight"},ie={key:0},ne={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},de={class:"mt-6 flex flex-col"},me={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},ue={class:"shadow-sm ring-1 ring-black ring-opacity-5 p-5 mb-3"},pe={class:"grid grid-cols-1 gap-3 sm:grid-cols-6 pb-5 mb-3"},_e={class:"sm:col-span-6"},ce={class:"sm:col-span-6"},ve=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Product Mapping ",-1),fe={class:"mt-1"},ge=["value"],ye={class:"sm:col-span-6"},xe=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Platform ",-1),he={class:"mt-1"},be=["value"],Ve={class:"sm:col-span-6"},ke={class:"flex space-x-1 mt-5 justify-end"},we=t("span",null," Back ",-1),Ce=t("span",null," Save ",-1),je=t("div",{class:"sm:col-span-6 pt-2 pb-1 md:pt-5 md:pb-3"},[t("div",{class:"relative"},[t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})]),t("div",{class:"relative flex justify-center"},[t("span",{class:"px-3 bg-white text-lg font-medium text-gray-900 rounded"},"Campaign Item(s)")])])],-1),Pe={key:0,class:"sm:col-span-6"},Se={class:"inline-flex justify-center items-center rounded px-3 py-1 my-1 text-lg font-medium border min-w-fit bg-red-300 text-gray-800"},De={class:"flex flex-col"},Oe={key:1,class:"sm:col-span-6"},Me=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Type "),t("span",{class:"text-red-500"}," * ")],-1),Ue={key:2,class:"sm:col-span-2"},Le={key:3,class:"sm:col-span-2"},qe={key:4,class:"sm:col-span-2"},Be={key:5,class:"sm:col-span-2"},Ie={key:6,class:"sm:col-span-2"},Ne={key:7,class:"sm:col-span-5"},$e=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Scope "),t("span",{class:"text-red-500"}," * ")],-1),Fe={key:8,class:"sm:col-span-3"},Ye=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" User "),t("span",{class:"text-red-500"}," * ")],-1),Ae={key:9,class:"sm:col-span-2"},Te={key:10,class:"sm:col-span-6"},Ee=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Product "),t("span",{class:"text-red-500"}," * ")],-1),Re={key:0,class:"text-red-500 text-sm"},He={key:11,class:"sm:col-span-6"},ze=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Category "),t("span",{class:"text-red-500"}," * ")],-1),Qe={key:12,class:"sm:col-span-6"},Ze={key:13,class:"sm:col-span-6"},Ge=t("span",null," Create Campaign Item ",-1),Je={key:14,class:"sm:col-span-6 flex flex-col mt-2 mx-2 mb-3"},Ke={class:"mt-6 flex flex-col"},We={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8 px-3"},Xe={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},et={class:"min-w-full border-separate",style:{"border-spacing":"0"}},tt={class:"bg-gray-100"},at={class:"divide-x divide-gray-200"},lt=t("br",null,null,-1),st={class:"bg-white"},ot=t("br",null,null,-1),rt={class:"text-blue-700"},it={key:0,role:"list",class:"divide-y divide-gray-100 overflow-scroll bg-white"},nt={class:"flex justify-between gap-x-1 px-1 py-0.5"},dt={class:"flex min-w-0 gap-x-4"},mt={class:"text-sm"},ut={class:"min-w-0 flex-auto"},pt={class:"text-sm font-semibold leading-2 text-gray-900"},_t={key:0,role:"list",class:"divide-y divide-gray-100 overflow-scroll bg-white"},ct={class:"flex justify-between gap-x-2 px-1 py-0.5"},vt={class:"flex min-w-0 gap-x-3"},ft={class:"min-w-0 flex-auto pt-1"},gt={key:0,class:"text-sm font-semibold leading-2 text-gray-900"},yt={key:1},xt={key:0,class:"text-xs"},ht={key:0},bt=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Vt=[bt],kt=t("div",{class:"sm:col-span-6 pt-2 pb-1 md:pt-5 md:pb-3"},[t("div",{class:"relative"},[t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})]),t("div",{class:"relative flex justify-center"},[t("span",{class:"px-3 bg-white text-lg font-medium text-gray-900 rounded"},"Binded Campaign(s)")])])],-1),wt={key:15,class:"sm:col-span-6"},Ct=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Campaign Item(s) "),t("span",{class:"text-red-500"}," * ")],-1),jt={key:16,class:"sm:col-span-6"},Pt=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Vend "),t("span",{class:"text-red-500"}," * ")],-1),St={class:"sm:col-span-3"},Dt=t("span",{class:"text-red-500"}," * ",-1),Ot={class:"sm:col-span-3"},Mt=t("span",{class:"text-red-500"}," * ",-1),Ut={key:17,class:"sm:col-span-6 flex justify-between"},Lt=t("span",null," Bind Campaign to VM ",-1),qt=t("span",null," Submit to Platform ",-1),Bt={key:18,class:"sm:col-span-6 flex flex-col mt-2 mx-2 mb-3"},It={class:"mt-6 flex flex-col"},Nt={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8 px-3"},$t={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},Ft={class:"min-w-full border-separate",style:{"border-spacing":"0"}},Yt={class:"bg-gray-100"},At={class:"divide-x divide-gray-200"},Tt={class:"bg-white"},Et=t("br",null,null,-1),Rt={class:"flex flex-col space-y-1 max-w-fit"},Ht={type:"button",class:"group -mr-1 h-4 w-4 rounded-sm hover:bg-blue-700/20"},zt=t("span",{class:"sr-only"},"Remove",-1),Qt=["onClick"],Zt=t("path",{d:"M4 4l6 6m0-6l-6 6"},null,-1),Gt=[Zt],Jt={key:0},Kt=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Wt=[Kt],ca={__name:"Edit",props:{deliveryPlatformCampaign:Object,deliveryPlatformCampaignItemOptions:Object,deliveryProductMappingVends:Object,type:String},setup(g){const c=g,B=f([]),p=f([]),I=f([]),N=f([]),$=f([]),e=f(q(F())),D=f(!1);f(!1);const U=f("");function F(){return{id:"",cap:"",datetime_from:"",datetime_to:"",delivery_platform_campaign_item:"",delivery_platform_campaign_item_scope:"",delivery_product_mapping_items:"",min_basket_amount:0,qty:"",total_count:"",total_count_per_user:"",promo_value:""}}ee(()=>{c.type=="create"?U.value="Create New":U.value="Edit",p.value=c.deliveryPlatformCampaign.data,I.value=c.deliveryPlatformCampaign.data.deliveryProductMapping.deliveryProductMappingItems.map(l=>({id:l.id,full_name:"(#"+l.channel_code+") "+l.product.code+" "+l.product.name,img_url:l.product.thumbnail?l.product.thumbnail.full_url:"",product_id:l.product.id})),N.value=c.deliveryProductMappingVends.data.map(l=>({id:l.id,name:l.vend.cust_full_name,code:l.vend.code})),$.value=c.deliveryPlatformCampaign.data.deliveryPlatformCampaignItems.map(l=>({id:l.id,name:l.settings_name,settings_json:l.settings_json,items_json:l.items_json})),B.value=[c.deliveryPlatformCampaign.data.deliveryProductMapping.category_json?{id:c.deliveryPlatformCampaign.data.deliveryProductMapping.category_json.id,name:c.deliveryPlatformCampaign.data.deliveryProductMapping.category_json.name}:{id:"",name:""}],e.value=p.value?q(p.value):q(F()),e.value.datetime_from=Y.value});const Y=j(function(){return moment().add(30,"minutes").format("YYYY-MM-DD HH:mm:ss")}),L=j(function(){let l="";return e.value.delivery_platform_campaign_item&&e.value.promo_value&&(e.value.delivery_platform_campaign_item.phrase1&&(l+=e.value.delivery_platform_campaign_item.phrase1),e.value.delivery_platform_campaign_item.qty?l+=e.value.qty?e.value.qty:"":l+=e.value.promo_value?e.value.promo_value:"",e.value.delivery_platform_campaign_item.phrase2&&(l+=e.value.delivery_platform_campaign_item.phrase2),e.value.delivery_platform_campaign_item.cap&&(l+=e.value.cap?e.value.cap:""),e.value.delivery_platform_campaign_item.qty?l+=e.value.promo_value?e.value.promo_value:"":l+=e.value.qty?e.value.qty:"",e.value.delivery_platform_campaign_item.phrase3&&(l+=" "+e.value.delivery_platform_campaign_item.phrase3),e.value.delivery_platform_campaign_item_scope&&(l+=" "+e.value.delivery_platform_campaign_item_scope.name)),l}),H=j(function(){return moment(e.value.datetime_from).add(2,"hours").format("YYYY-MM-DD HH:mm:ss")}),A=j(function(){let l=!0;return(!e.value.delivery_platform_campaign_item||!e.value.promo_value||!e.value.delivery_platform_campaign_item_scope)&&(l=!1),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.qty&&!e.value.qty&&(l=!1),e.value.delivery_platform_campaign_item_scope_eater_type||(l=!1),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isProduct&&(e.value.delivery_product_mapping_items?(e.value.delivery_product_mapping_items.length==0&&(l=!1),e.value.delivery_platform_campaign_item_scope.singleObjectOnly&&e.value.delivery_product_mapping_items.length>1&&(l=!1)):l=!1),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isCategory&&e.value.category&&e.value.category.length==0&&(e.value.category?(e.value.category.length==0&&(l=!1),e.value.category.singleObjectOnly&&e.value.category.length>1&&(l=!1)):l=!1),l}),T=j(function(){let l=!0;return(!e.value.bind_delivery_platform_campaign_item||!e.value.bind_delivery_product_mapping_vend||!e.value.datetime_from||!e.value.datetime_to)&&(l=!1),l});function z(){S.post("/delivery-platform-campaigns/"+e.value.id+"/item-vend",{...e.value,delivery_platform_campaign_item_id:e.value.bind_delivery_platform_campaign_item?e.value.bind_delivery_platform_campaign_item.id:"",delivery_product_mapping_vend_id:e.value.bind_delivery_product_mapping_vend?e.value.bind_delivery_product_mapping_vend.id:"",vend_code:e.value.bind_delivery_product_mapping_vend?e.value.bind_delivery_product_mapping_vend.code:""},{preserveState:!1,preserveScroll:!0,replace:!0})}function Q(l){!confirm("Are you sure to delete this entry?")||S.delete("/delivery-platform-campaigns/item-vend/"+l,{preserveState:!1,preserveScroll:!0,replace:!0})}function Z(){D.value=!0,e.value.delivery_platform_campaign_item_scope="",e.value.delivery_platform_campaign_item_scope_eater_type="",e.value.category="",e.value.qty="",e.value.promo_value="",e.value.cap="",e.value.total_count="",e.value.total_count_per_user=""}function G(){D.value=!0}function J(l){!confirm("Are you sure to delete this entry?")||S.delete("/delivery-platform-campaigns/item/"+l,{preserveState:!1,preserveScroll:!0,replace:!0})}function K(){S.post("/delivery-platform-campaigns/"+e.value.id+"/create-item",{...e.value,delivery_platform_campaign_item:e.value.delivery_platform_campaign_item?e.value.delivery_platform_campaign_item.id:"",delivery_platform_campaign_item_scope:e.value.delivery_platform_campaign_item_scope?e.value.delivery_platform_campaign_item_scope.id:"",delivery_platform_campaign_item_scope_eater_type:e.value.delivery_platform_campaign_item_scope_eater_type?e.value.delivery_platform_campaign_item_scope_eater_type.id:"",settings_label:L.value},{preserveState:!1,preserveScroll:!0,replace:!0})}function W(){e.value.clearErrors(),e.value.transform(l=>({name:l.name,reserved_percent:l.reserved_percent,reserved_qty:l.reserved_qty})).post("/delivery-product-mappings/"+e.value.id+"/update",{preserveState:!0,replace:!0})}function X(l){!confirm("Are you sure to submit this campaign and its items to platform?")||S.post("/delivery-platform-campaigns/"+l+"/submit-platform",{},{preserveState:!1,preserveScroll:!0,replace:!0})}return(l,o)=>(i(),r(k,null,[s(y(te),{title:"Delivery Product Mapping"}),s(le,null,{header:n(()=>[t("h2",re,[d(u(U.value)+" Delivery Platform Campaign ",1),g.type=="update"?(i(),r("span",ie,u(p.value.name),1)):m("",!0)])]),default:n(()=>[t("div",ne,[t("div",de,[t("div",me,[t("div",ue,[t("form",{onSubmit:w(W,["prevent"]),id:"submit"},[t("div",pe,[t("div",_e,[s(x,{modelValue:e.value.name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.value.name=a),error:e.value.errors.name,required:"true"},{default:n(()=>[d(" Name ")]),_:1},8,["modelValue","error"])]),t("div",ce,[ve,t("div",fe,[t("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:c.deliveryPlatformCampaign.data.deliveryProductMapping.name,disabled:""},null,8,ge)])]),t("div",ye,[xe,t("div",he,[t("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:c.deliveryPlatformCampaign.data.deliveryPlatformOperator.deliveryPlatform.name+" ("+c.deliveryPlatformCampaign.data.deliveryPlatformOperator.type+")",disabled:""},null,8,be)])]),t("div",Ve,[t("div",ke,[s(y(ae),{href:"/delivery-platform-campaigns"},{default:n(()=>[s(C,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1"},{default:n(()=>[s(y(se),{class:"w-4 h-4"}),we]),_:1})]),_:1}),s(C,{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:n(()=>[s(y(M),{class:"w-4 h-4"}),Ce]),_:1})])]),je,L.value?(i(),r("div",Pe,[t("div",Se,[t("div",De,u(L.value),1)])])):m("",!0),e.value.id?(i(),r("div",Oe,[Me,s(V,{modelValue:e.value.delivery_platform_campaign_item,"onUpdate:modelValue":o[1]||(o[1]=a=>e.value.delivery_platform_campaign_item=a),options:g.deliveryPlatformCampaignItemOptions,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1",onSelected:o[2]||(o[2]=a=>Z())},null,8,["modelValue","options"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.cap?(i(),r("div",Ue,[s(x,{modelValue:e.value.cap,"onUpdate:modelValue":o[3]||(o[3]=a=>e.value.cap=a),error:e.value.errors.cap,placeholderStr:"Number"},{default:n(()=>[d(" Cap (Max Discount Dollar) ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.qty?(i(),r("div",Le,[s(x,{modelValue:e.value.qty,"onUpdate:modelValue":o[4]||(o[4]=a=>e.value.qty=a),error:e.value.errors.qty,placeholderStr:"Number",required:"true"},{default:n(()=>[d(" Bundle Total Qty ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.id?(i(),r("div",qe,[s(x,{modelValue:e.value.promo_value,"onUpdate:modelValue":o[5]||(o[5]=a=>e.value.promo_value=a),error:e.value.errors.promo_value,placeholderStr:"Number",required:"true"},{default:n(()=>[d(" Value ("+u(e.value.delivery_platform_campaign_item.id)+") ",1)]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item?(i(),r("div",Be,[s(x,{modelValue:e.value.total_count,"onUpdate:modelValue":o[6]||(o[6]=a=>e.value.total_count=a),error:e.value.errors.total_count,placeholderStr:"Default Unlimited"},{default:n(()=>[d(" Redemption Limit ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item?(i(),r("div",Ie,[s(x,{modelValue:e.value.total_count_per_user,"onUpdate:modelValue":o[7]||(o[7]=a=>e.value.total_count_per_user=a),error:e.value.errors.total_count_per_user,placeholderStr:"Default Unlimited"},{default:n(()=>[d(" Redemtion Limit/ User ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item?(i(),r("div",Ne,[$e,s(V,{modelValue:e.value.delivery_platform_campaign_item_scope,"onUpdate:modelValue":o[8]||(o[8]=a=>e.value.delivery_platform_campaign_item_scope=a),options:e.value.delivery_platform_campaign_item.scope,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1",onSelected:o[9]||(o[9]=a=>G())},null,8,["modelValue","options"])])):m("",!0),e.value.delivery_platform_campaign_item_scope?(i(),r("div",Fe,[Ye,s(V,{modelValue:e.value.delivery_platform_campaign_item_scope_eater_type,"onUpdate:modelValue":o[10]||(o[10]=a=>e.value.delivery_platform_campaign_item_scope_eater_type=a),options:e.value.delivery_platform_campaign_item_scope.eaterType,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1"},null,8,["modelValue","options"])])):m("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.minBasketAmount?(i(),r("div",Ae,[s(x,{modelValue:e.value.min_basket_amount,"onUpdate:modelValue":o[11]||(o[11]=a=>e.value.min_basket_amount=a),error:e.value.errors.min_basket_amount,placeholderStr:"Number"},{default:n(()=>[d(" Minimum Basket Amount ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isProduct?(i(),r("span",Te,[Ee,s(V,{modelValue:e.value.delivery_product_mapping_items,"onUpdate:modelValue":o[12]||(o[12]=a=>e.value.delivery_product_mapping_items=a),options:I.value,trackBy:"id",valueProp:"id",label:"full_name",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1",clear:D.value,max:e.value.delivery_platform_campaign_item_scope.singleObjectOnly?1:-1},null,8,["modelValue","options","clear","max"]),t("span",null,[e.value.delivery_platform_campaign_item_scope.singleObjectOnly?(i(),r("span",Re," * Single Object Only ")):m("",!0)])])):m("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isCategory?(i(),r("span",He,[ze,s(V,{modelValue:e.value.category,"onUpdate:modelValue":o[13]||(o[13]=a=>e.value.category=a),options:B.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1",clear:D.value,max:e.value.delivery_platform_campaign_item_scope.singleObjectOnly?1:-1},null,8,["modelValue","options","clear","max"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item_scope?(i(),r("div",Qe,[s(x,{modelValue:e.value.settings_name,"onUpdate:modelValue":o[14]||(o[14]=a=>e.value.settings_name=a),error:e.value.errors.settings_name,placeholderStr:"Campaign Item Name"},{default:n(()=>[d(" Campaign Item Name (Optional) ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.id?(i(),r("div",Ze,[s(C,{type:"button",onClick:o[15]||(o[15]=w(a=>K(),["prevent"])),class:O(["bg-green-500 hover:bg-green-600 text-white flex space-x-1 sm:mt-1",[A.value?"":"opacity-50 cursor-not-allowed"]]),disabled:!A.value},{default:n(()=>[s(y(M),{class:"w-4 h-4"}),Ge]),_:1},8,["class","disabled"])])):m("",!0),e.value.id?(i(),r("div",Je,[t("div",Ke,[t("div",We,[t("div",Xe,[t("table",et,[t("thead",tt,[t("tr",at,[s(h,null,{default:n(()=>[d(" # ")]),_:1}),s(h,null,{default:n(()=>[d(" Name "),lt,d(" Label ")]),_:1}),s(h,null,{default:n(()=>[d(" Settings ")]),_:1}),s(h,null,{default:n(()=>[d(" Items ")]),_:1}),s(h,null,{default:n(()=>[d(" Action ")]),_:1})])]),t("tbody",st,[(i(!0),r(k,null,P(p.value.deliveryPlatformCampaignItems,(a,v)=>(i(),r("tr",{key:a.id,class:"divide-x divide-gray-300"},[s(b,{currentIndex:v,totalLength:p.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[d(u(v+1),1)]),_:2},1032,["currentIndex","totalLength"]),s(b,{currentIndex:v,totalLength:p.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[d(u(a.settings_name)+" ",1),ot,t("span",rt,u(a.settings_label),1)]),_:2},1032,["currentIndex","totalLength"]),s(b,{currentIndex:v,totalLength:p.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[a.settings_json?(i(),r("ul",it,[(i(!0),r(k,null,P(a.settings_json,(_,E)=>(i(),r("li",nt,[t("div",dt,[t("span",mt,u(E)+": ",1),t("div",ut,[t("p",pt,u(_),1)])])]))),256))])):m("",!0)]),_:2},1032,["currentIndex","totalLength"]),s(b,{currentIndex:v,totalLength:p.value.deliveryPlatformCampaignItems.length,inputClass:"text-left"},{default:n(()=>[a.items_json?(i(),r("ul",_t,[(i(!0),r(k,null,P(a.items_json,_=>(i(),r("li",ct,[t("div",vt,[t("div",ft,[_&&"full_name"in _?(i(),r("p",gt,u(_.full_name?_.full_name:_.name),1)):m("",!0)])])]))),256))])):m("",!0),a.items_json?m("",!0):(i(),r("div",yt," NA "))]),_:2},1032,["currentIndex","totalLength"]),s(b,{currentIndex:v,totalLength:p.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[s(C,{onClick:w(_=>J(a.id),["prevent"]),class:O(["flex flex-col bg-red-500 hover:bg-red-600 text-white",[a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0?"opacity-50 cursor-not-allowed":""]]),disabled:a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0},{default:n(()=>[s(y(oe),{class:"w-4 h-4"}),a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0?(i(),r("span",xt," Campaigns running, cannot delete ")):m("",!0)]),_:2},1032,["onClick","disabled","class"])]),_:2},1032,["currentIndex","totalLength"])]))),128)),p.value.deliveryPlatformCampaignItems.length?m("",!0):(i(),r("tr",ht,Vt))])])])])])])):m("",!0),kt,e.value.id?(i(),r("div",wt,[Ct,s(V,{modelValue:e.value.bind_delivery_platform_campaign_item,"onUpdate:modelValue":o[16]||(o[16]=a=>e.value.bind_delivery_platform_campaign_item=a),options:$.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1"},null,8,["modelValue","options"])])):m("",!0),e.value.id?(i(),r("div",jt,[Pt,s(V,{modelValue:e.value.bind_delivery_product_mapping_vend,"onUpdate:modelValue":o[17]||(o[17]=a=>e.value.bind_delivery_product_mapping_vend=a),options:N.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1"},null,8,["modelValue","options"])])):m("",!0),t("div",St,[s(R,{modelValue:e.value.datetime_from,"onUpdate:modelValue":o[18]||(o[18]=a=>e.value.datetime_from=a),error:e.value.errors.datetime_from,minDate:Y.value},{default:n(()=>[d(" Begin Date "),Dt]),_:1},8,["modelValue","error","minDate"])]),t("div",Ot,[s(R,{modelValue:e.value.datetime_to,"onUpdate:modelValue":o[19]||(o[19]=a=>e.value.datetime_to=a),error:e.value.errors.datetime_to,minDate:H.value},{default:n(()=>[d(" End Date "),Mt]),_:1},8,["modelValue","error","minDate"])]),e.value.id?(i(),r("div",Ut,[s(C,{type:"button",onClick:o[20]||(o[20]=w(a=>z(),["prevent"])),class:O(["bg-green-500 hover:bg-green-600 text-white flex space-x-1 sm:mt-1",[T.value?"":"opacity-50 cursor-not-allowed"]]),disabled:!T.value},{default:n(()=>[s(y(M),{class:"w-4 h-4"}),Lt]),_:1},8,["class","disabled"]),s(C,{class:"bg-yellow-500 hover:bg-yellow-600 text-black flex space-x-1 sm:mt-1",onClick:o[21]||(o[21]=w(a=>X(p.value.id),["prevent"]))},{default:n(()=>[s(y(M),{class:"w-4 h-4"}),qt]),_:1})])):m("",!0),e.value.id?(i(),r("div",Bt,[t("div",It,[t("div",Nt,[t("div",$t,[t("table",Ft,[t("thead",Yt,[t("tr",At,[s(h,null,{default:n(()=>[d(" # ")]),_:1}),s(h,null,{default:n(()=>[d(" Vend ")]),_:1}),s(h,null,{default:n(()=>[d(" Campaign(s) ")]),_:1})])]),t("tbody",Tt,[(i(!0),r(k,null,P(g.deliveryProductMappingVends.data,(a,v)=>(i(),r("tr",{key:a.id,class:"divide-x divide-gray-300"},[s(b,{currentIndex:v,totalLength:g.deliveryProductMappingVends.data.length,inputClass:"text-center"},{default:n(()=>[d(u(v+1),1)]),_:2},1032,["currentIndex","totalLength"]),s(b,{currentIndex:v,totalLength:g.deliveryProductMappingVends.data.length,inputClass:"text-left"},{default:n(()=>[d(u(a.vend.code)+" ",1),Et,d(" "+u(a.vend.cust_full_name),1)]),_:2},1032,["currentIndex","totalLength"]),s(b,{currentIndex:v,totalLength:g.deliveryProductMappingVends.data.length,inputClass:"text-center"},{default:n(()=>[t("div",Rt,[(i(!0),r(k,null,P(a.deliveryPlatformCampaignItemVends,_=>(i(),r("span",{class:O(["flex justify-between items-center gap-x-0.5 rounded-md px-2 py-1 text-sm font-medium",[_.platform_ref_id?"bg-green-100 text-green-700":"bg-red-100 text-red-700"]])},[d(u(_.settings_name)+" ",1),t("button",Ht,[zt,(i(),r("svg",{viewBox:"0 0 14 14",class:"h-4 w-4 stroke-blue-900/50 group-hover:stroke-blue-900/75",onClick:w(E=>Q(_.id),["prevent"])},Gt,8,Qt))])],2))),256))])]),_:2},1032,["currentIndex","totalLength"])]))),128)),g.deliveryProductMappingVends.data.length?m("",!0):(i(),r("tr",Jt,Wt))])])])])])])):m("",!0)])],32)])])])])]),_:1})],64))}};export{ca as default};
