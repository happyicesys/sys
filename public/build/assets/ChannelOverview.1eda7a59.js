import{o as s,f as o,b as e,g as u,K as y,c as _,a as g,w as x,p as b,t as r,l as i,d as c,u as d,k,F as C,n as h,e as M,O as P}from"./app.27f7e8d5.js";import{_ as S}from"./Button.baf7894d.js";import{_ as O}from"./Modal.fb69d91f.js";import{r as B}from"./PauseCircleIcon.40f904ef.js";function V(n,p){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2 10a8 8 0 1116 0 8 8 0 01-16 0zm6.39-2.908a.75.75 0 01.766.027l3.5 2.25a.75.75 0 010 1.262l-3.5 2.25A.75.75 0 018 12.25v-4.5a.75.75 0 01.39-.658z","clip-rule":"evenodd"})])}const $={class:"flex flex-col md:flex-row space-x-2"},D=e("span",{class:"text-gray-600"}," Delivery Product Mapping Channel ",-1),j={key:0},z={key:1},A={class:"flex flex-col"},N={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-3 lg:-mx-5"},T={class:"inline-block min-w-full py-2 align-middle md:px-4 lg:px-6"},F={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},R={class:"table-fixed min-w-full divide-y divide-gray-300"},q={class:"bg-gray-50"},I=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," # ",-1),L=e("th",{scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Image ",-1),Q=e("th",{scope:"col",class:"w-3/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Product ",-1),E={scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},K={key:0},G=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[c(" Reserved "),e("br"),c(" (%) ")],-1),H=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[c(" Reserved "),e("br"),c(" Qty ")],-1),J=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[c(" Current "),e("br"),c(" Qty ")],-1),U=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[c(" Current "),e("br"),c(" Capacity ")],-1),W=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Status ",-1),X=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},null,-1),Y={class:"bg-white"},Z={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},ee={class:"whitespace-nowrap text-sm font-semibold text-gray-900 text-center"},te={class:"flex justify-center items-center"},se=["src"],oe={class:"py-4 text-sm font-semibold text-gray-900 text-center"},re={key:0},ne={key:1,class:"break-normal text-xs"},ce=e("br",null,null,-1),ie={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},de={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-red-700 sm:pl-6 text-center"},ae={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-red-700 sm:pl-6 text-center"},le={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},pe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},me={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},_e={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},xe={key:0,class:"inline-flex items-center rounded-md bg-green-300 px-1.5 py-0.5 text-xs font-medium text-green-800 ring-1 ring-inset ring-indigo-700/10"},ue={key:1,class:"inline-flex items-center rounded-md bg-red-200 px-1.5 py-0.5 text-xs font-medium text-red-700 ring-1 ring-inset ring-indigo-700/10"},ye={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},ge={key:2,class:"text-xs"},he={key:3,class:"text-xs"},fe={__name:"ChannelOverview",props:{vend:Object,showModal:Boolean},emits:["modalClose"],setup(n,{emit:p}){const f=n;u([]),y().props.auth.permissions;const m=y().props.auth.profile;u(!1);function v(a){let l=a.is_active?"Are you sure to pause this channel?":"Are you sure to resume this channel?";!confirm(l)||(P.post("/delivery-product-mappings/channels/"+a.id+"/toggle-pause",{preserveState:!1,preserveScroll:!0,replace:!0,onSuccess:()=>{p("modalClose")}}),p("modalClose"))}return(a,l)=>(s(),_(b,{to:"body"},[g(O,{open:n.showModal,onModalClose:l[0]||(l[0]=t=>a.$emit("modalClose"))},{header:x(()=>[e("div",$,[D,n.vend.code?(s(),o("span",j," ID# "+r(n.vend.code),1)):i("",!0),n.vend.customer_code?(s(),o("span",z," ("+r(n.vend.customer_code?n.vend.customer_code:null)+") "+r(n.vend.customer_name?n.vend.customer_name:null),1)):i("",!0)])]),default:x(()=>[e("div",A,[e("div",N,[e("div",T,[e("div",F,[e("table",R,[e("thead",q,[e("tr",null,[I,L,Q,e("th",E,[c(" Price "),d(m)&&d(m).base_currency?(s(),o("span",K," ("+r(d(m).base_currency.currency_symbol)+") ",1)):i("",!0)]),G,H,J,U,W,X])]),e("tbody",Y,[(s(!0),o(C,null,k(f.vend.deliveryProductMappingVendChannels,(t,w)=>(s(),o("tr",{key:t.id,class:h(w%2===0?void 0:"bg-gray-50")},[e("td",Z,r(t.vend_channel_code),1),e("td",ee,[e("div",te,[t.delivery_product_mapping_item.product&&t.delivery_product_mapping_item.product.thumbnail?(s(),o("img",{key:0,class:"h-16 w-16 rounded-full",src:t.delivery_product_mapping_item.product.thumbnail.full_url,alt:""},null,8,se)):i("",!0)])]),e("td",oe,[t.delivery_product_mapping_item.product&&t.delivery_product_mapping_item.product.code?(s(),o("span",re,r(t.delivery_product_mapping_item.product.code),1)):i("",!0),t.delivery_product_mapping_item.product&&t.delivery_product_mapping_item.product.name?(s(),o("span",ne,[ce,c(" "+r(t.delivery_product_mapping_item.product.name),1)])):i("",!0)]),e("td",ie,r(t.amount.toLocaleString(void 0,{minimumFractionDigits:2})),1),e("td",de,r(t.reserved_percent),1),e("td",ae,r(t.reserved_qty),1),e("td",le,r(t.vend_channel.qty),1),e("td",pe,r(t.vend_channel.capacity),1),e("td",me,[e("td",_e,[t.is_active==1?(s(),o("span",xe," Active ")):i("",!0),t.is_active==0?(s(),o("span",ue," Paused ")):i("",!0)])]),e("td",ye,[g(S,{class:h(["flex space-x-1",[t.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:M(ve=>v(t),["prevent"])},{default:x(()=>[t.is_active?(s(),_(d(B),{key:0,class:"w-3 h-3"})):(s(),_(d(V),{key:1,class:"w-3 h-3"})),t.is_active?(s(),o("span",ge," Pause ")):(s(),o("span",he," Resume "))]),_:2},1032,["class","onClick"])])],2))),128))])])])])])])]),_:1},8,["open"])]))}},Me=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"}));export{Me as C,fe as _,V as r};
