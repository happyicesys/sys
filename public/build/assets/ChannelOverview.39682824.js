import{o,f as r,b as e,g as f,K as C,c as p,a as y,w as x,p as V,t as i,l as c,d as a,k as S,F as $,n as v,e as h,u as _,O as b}from"./app.d9ac913d.js";import{_ as w}from"./Button.0405c8a5.js";import{_ as M}from"./FormInput.6935e00e.js";import{_ as O}from"./Modal.9c2416d1.js";import{r as B}from"./CheckCircleIcon.a54099b6.js";import{r as j}from"./PencilSquareIcon.dad7528b.js";import{r as q}from"./PauseCircleIcon.a673a3d8.js";function D(s,m){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2 10a8 8 0 1116 0 8 8 0 01-16 0zm6.39-2.908a.75.75 0 01.766.027l3.5 2.25a.75.75 0 010 1.262l-3.5 2.25A.75.75 0 018 12.25v-4.5a.75.75 0 01.39-.658z","clip-rule":"evenodd"})])}const z={class:"flex flex-col md:flex-row space-x-2"},A=e("span",{class:"text-gray-600"}," Delivery Product Mapping Channel ",-1),N={key:0},T={key:1},U={class:"flex flex-col"},E={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-3 lg:-mx-5"},F={class:"inline-block min-w-full py-2 align-middle md:px-4 lg:px-6"},I={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},Q={class:"table-auto min-w-full divide-y divide-gray-300"},R={class:"bg-gray-50"},L=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," # ",-1),K=e("th",{scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Image ",-1),G=e("th",{scope:"col",class:"w-3/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Product ",-1),H={scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},J={key:0},W=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[a(" Reserved "),e("br"),a(" (%) ")],-1),X=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[a(" Reserved "),e("br"),a(" Qty ")],-1),Y=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[a(" Booked "),e("br"),a(" Qty ")],-1),Z=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[a(" Current "),e("br"),a(" Qty ")],-1),ee=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[a(" Current "),e("br"),a(" Capacity ")],-1),te=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Status ",-1),se=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},null,-1),oe={class:"bg-white"},re={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},de={class:"whitespace-nowrap text-sm font-semibold text-gray-900 text-center"},ie={class:"flex justify-center items-center"},ae=["src"],le={class:"py-4 text-sm font-semibold text-gray-900 text-center"},ce={key:0},ne={key:1,class:"break-normal text-xs"},pe=e("br",null,null,-1),ue={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},me={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-red-700 sm:pl-6 text-center"},ye={key:0},xe={key:1},_e={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-red-700 sm:pl-6 text-center"},ge={key:0},ve={key:1},fe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},he={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},be={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},we={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},Me={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},Pe={key:0,class:"inline-flex items-center rounded-md bg-green-300 px-1.5 py-0.5 text-xs font-medium text-green-800 ring-1 ring-inset ring-indigo-700/10"},ke={key:1,class:"inline-flex items-center rounded-md bg-red-200 px-1.5 py-0.5 text-xs font-medium text-red-700 ring-1 ring-inset ring-indigo-700/10"},Ce={class:"whitespace-nowrap py-2 pl-4 pr-2 text-sm font-normal text-gray-900 sm:pl-3 text-center flex flex-col space-y-1 py-3"},Ve={key:2,class:"text-xs"},Se={key:3,class:"text-xs"},$e={key:2,class:"text-xs"},Oe={key:3,class:"text-xs"},Be={__name:"ChannelOverview",props:{deliveryProductMapping:Object,vend:Object,showModal:Boolean},emits:["modalClose"],setup(s,{emit:m}){const g=s;f([]),C().props.auth.permissions,f(!1);function P(l){let n=l.is_active?"Are you sure to pause this channel?":"Are you sure to resume this channel?";!confirm(n)||(b.post("/delivery-product-mappings/channels/"+l.id+"/toggle-pause",{preserveState:!1,preserveScroll:!0,replace:!0,onSuccess:()=>{m("modalClose")}}),m("modalClose"))}function k(l){g.vend.deliveryProductMappingVendChannels[g.vend.deliveryProductMappingVendChannels.findIndex(n=>n.id===l.id)].is_editable=!l.is_editable,l.is_editable||b.post("/delivery-product-mappings/channels/"+l.id+"/update",l,{preserveState:!1,preserveScroll:!0,replace:!0,onSuccess:()=>{m("modalClose")}})}return(l,n)=>(o(),p(V,{to:"body"},[y(O,{open:s.showModal,onModalClose:n[0]||(n[0]=t=>l.$emit("modalClose"))},{header:x(()=>[e("div",z,[A,s.vend.code?(o(),r("span",N," ID# "+i(s.vend.code),1)):c("",!0),s.vend.customer_code?(o(),r("span",T," ("+i(s.vend.customer_code?s.vend.customer_code:null)+") "+i(s.vend.customer_name?s.vend.customer_name:null),1)):c("",!0)])]),default:x(()=>[e("div",U,[e("div",E,[e("div",F,[e("div",I,[e("table",Q,[e("thead",R,[e("tr",null,[L,K,G,e("th",H,[a(" Price "),s.deliveryProductMapping.operator&&s.deliveryProductMapping.operator.country?(o(),r("span",J," ("+i(s.deliveryProductMapping.operator.country.currency_symbol)+") ",1)):c("",!0)]),W,X,Y,Z,ee,te,se])]),e("tbody",oe,[(o(!0),r($,null,S(g.vend.deliveryProductMappingVendChannels,(t,d)=>(o(),r("tr",{key:t.id,class:v(d%2===0?void 0:"bg-gray-50")},[e("td",re,i(t.vend_channel_code),1),e("td",de,[e("div",ie,[s.deliveryProductMapping.deliveryProductMappingItems[d]&&s.deliveryProductMapping.deliveryProductMappingItems[d].product&&s.deliveryProductMapping.deliveryProductMappingItems[d].product.thumbnail&&s.deliveryProductMapping.deliveryProductMappingItems[d].channel_code==t.vend_channel_code?(o(),r("img",{key:0,class:"h-16 w-16 rounded-full",src:s.deliveryProductMapping.deliveryProductMappingItems[d].product.thumbnail.full_url,alt:""},null,8,ae)):c("",!0)])]),e("td",le,[s.deliveryProductMapping.deliveryProductMappingItems[d]&&s.deliveryProductMapping.deliveryProductMappingItems[d].product&&s.deliveryProductMapping.deliveryProductMappingItems[d].channel_code==t.vend_channel_code?(o(),r("span",ce,i(s.deliveryProductMapping.deliveryProductMappingItems[d].product.code),1)):c("",!0),s.deliveryProductMapping.deliveryProductMappingItems[d]&&s.deliveryProductMapping.deliveryProductMappingItems[d].product&&s.deliveryProductMapping.deliveryProductMappingItems[d].channel_code==t.vend_channel_code?(o(),r("span",ne,[pe,a(" "+i(s.deliveryProductMapping.deliveryProductMappingItems[d].product.name),1)])):c("",!0)]),e("td",ue,i(t.amount.toLocaleString(void 0,{minimumFractionDigits:2})),1),e("td",me,[t.is_editable?(o(),r("span",xe,[y(M,{modelValue:t.reserved_percent,"onUpdate:modelValue":u=>t.reserved_percent=u},null,8,["modelValue","onUpdate:modelValue"])])):(o(),r("span",ye,i(t.reserved_percent),1))]),e("td",_e,[t.is_editable?(o(),r("span",ve,[y(M,{modelValue:t.reserved_qty,"onUpdate:modelValue":u=>t.reserved_qty=u},null,8,["modelValue","onUpdate:modelValue"])])):(o(),r("span",ge,i(t.reserved_qty),1))]),e("td",fe,i(t.order_qty),1),e("td",he,i(t.vend_channel.qty),1),e("td",be,i(t.vend_channel.capacity),1),e("td",we,[e("td",Me,[t.is_active==1?(o(),r("span",Pe," Active ")):c("",!0),t.is_active==0?(o(),r("span",ke," Paused ")):c("",!0)])]),e("td",Ce,[y(w,{class:v(["flex space-x-1",[t.is_editable?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-400 hover:bg-gray-800 text-black"]]),onClick:h(u=>k(t),["prevent"])},{default:x(()=>[t.is_editable?(o(),p(_(B),{key:0,class:"w-3 h-3"})):(o(),p(_(j),{key:1,class:"w-3 h-3"})),t.is_editable?(o(),r("span",Ve," Save ")):(o(),r("span",Se," Edit "))]),_:2},1032,["class","onClick"]),t.is_editable?c("",!0):(o(),p(w,{key:0,class:v(["flex space-x-1",[t.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:h(u=>P(t),["prevent"])},{default:x(()=>[t.is_active?(o(),p(_(q),{key:0,class:"w-3 h-3"})):(o(),p(_(D),{key:1,class:"w-3 h-3"})),t.is_active?(o(),r("span",$e," Pause ")):(o(),r("span",Oe," Resume "))]),_:2},1032,["class","onClick"]))])],2))),128))])])])])])])]),_:1},8,["open"])]))}},Ue=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"}));export{Ue as C,Be as _,D as r};
