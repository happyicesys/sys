import{u as N,c as ee,l as U,o as C,K as te,H as F,T as X,t as K,N as _,p as oe,a as D}from"./open-closed.16b2efb9.js";import{b as le}from"./use-resolve-button-type.ae77ff10.js";import{m as ae,y as ne,f as ue,a as ie,O as re,n as se}from"./CheckCircleIcon.af0814c5.js";import{s as H,g as V,j as O,x as L,a9 as g,B as ve,h as q,A as z,z as G,F as de,y as pe,G as A,C as ce,o as be,f as fe,b as W}from"./app.34cd873a.js";function me(e){throw new Error("Unexpected object: "+e)}var I=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(I||{});function xe(e,a){let l=a.resolveItems();if(l.length<=0)return null;let b=a.resolveActiveIndex(),t=b!=null?b:-1,o=(()=>{switch(e.focus){case 0:return l.findIndex(u=>!a.resolveDisabled(u));case 1:{let u=l.slice().reverse().findIndex((x,r,m)=>t!==-1&&m.length-r-1>=t?!1:!a.resolveDisabled(x));return u===-1?u:l.length-1-u}case 2:return l.findIndex((u,x)=>x<=t?!1:!a.resolveDisabled(u));case 3:{let u=l.slice().reverse().findIndex(x=>!a.resolveDisabled(x));return u===-1?u:l.length-1-u}case 4:return l.findIndex(u=>a.resolveId(u)===e.id);case 5:return null;default:me(e)}})();return o===-1?b:o}function ge({container:e,accept:a,walk:l,enabled:b}){H(()=>{let t=e.value;if(!t||b!==void 0&&!b.value)return;let o=ae(e);if(!o)return;let u=Object.assign(r=>a(r),{acceptNode:a}),x=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;x.nextNode();)l(x.currentNode)})}function Y(e={},a=null,l=[]){for(let[b,t]of Object.entries(e))Z(l,Q(a,b),t);return l}function Q(e,a){return e?e+"["+a+"]":a}function Z(e,a,l){if(Array.isArray(l))for(let[b,t]of l.entries())Z(e,Q(a,b.toString()),t);else l instanceof Date?e.push([a,l.toISOString()]):typeof l=="boolean"?e.push([a,l?"1":"0"]):typeof l=="string"?e.push([a,l]):typeof l=="number"?e.push([a,`${l}`]):l==null?e.push([a,""]):Y(l,a,e)}function Oe(e,a,l){let b=V(l==null?void 0:l.value),t=O(()=>e.value!==void 0);return[O(()=>t.value?e.value:b.value),function(o){return t.value||(b.value=o),a==null?void 0:a(o)}]}function J(e){return[e.screenX,e.screenY]}function ye(){let e=V([-1,-1]);return{wasMoved(a){let l=J(a);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(a){e.value=J(a)}}}function Se(e,a){return e===a}var he=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(he||{}),Re=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Re||{}),Ie=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ie||{});let $=Symbol("ComboboxContext");function j(e){let a=ce($,null);if(a===null){let l=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,j),l}return a}let De=L({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Se},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:a,attrs:l,emit:b}){let t=V(1),o=V(null),u=V(null),x=V(null),r=V(null),m=V({static:!1,hold:!1}),y=V([]),h=V(null),w=V(1),T=V(!1);function k(i=c=>c){let c=h.value!==null?y.value[h.value]:null,f=re(i(y.value.slice()),S=>C(S.dataRef.domRef)),v=c?f.indexOf(c):null;return v===-1&&(v=null),{options:f,activeOptionIndex:v}}let n=O(()=>e.multiple?1:0),s=O(()=>e.nullable),[p,P]=Oe(O(()=>e.modelValue===void 0?N(n.value,{[1]:[],[0]:void 0}):e.modelValue),i=>b("update:modelValue",i),O(()=>e.defaultValue)),d={comboboxState:t,value:p,mode:n,compare(i,c){if(typeof e.by=="string"){let f=e.by;return(i==null?void 0:i[f])===(c==null?void 0:c[f])}return e.by(i,c)},defaultValue:O(()=>e.defaultValue),nullable:s,inputRef:u,labelRef:o,buttonRef:x,optionsRef:r,disabled:O(()=>e.disabled),options:y,change(i){P(i)},activeOptionIndex:O(()=>{if(T.value&&h.value===null&&y.value.length>0){let i=y.value.findIndex(c=>!c.dataRef.disabled);if(i!==-1)return i}return h.value}),activationTrigger:w,optionsPropsRef:m,closeCombobox(){T.value=!1,!e.disabled&&t.value!==1&&(t.value=1,h.value=null)},openCombobox(){if(T.value=!0,e.disabled||t.value===0)return;let i=y.value.findIndex(c=>{let f=g(c.dataRef.value);return N(n.value,{[0]:()=>d.compare(g(d.value.value),g(f)),[1]:()=>g(d.value.value).some(v=>d.compare(g(v),g(f)))})});i!==-1&&(h.value=i),t.value=0},goToOption(i,c,f){if(T.value=!1,e.disabled||r.value&&!m.value.static&&t.value===1)return;let v=k();if(v.activeOptionIndex===null){let R=v.options.findIndex(M=>!M.dataRef.disabled);R!==-1&&(v.activeOptionIndex=R)}let S=xe(i===I.Specific?{focus:I.Specific,id:c}:{focus:i},{resolveItems:()=>v.options,resolveActiveIndex:()=>v.activeOptionIndex,resolveId:R=>R.id,resolveDisabled:R=>R.dataRef.disabled});h.value=S,w.value=f!=null?f:1,y.value=v.options},selectOption(i){let c=y.value.find(v=>v.id===i);if(!c)return;let{dataRef:f}=c;P(N(n.value,{[0]:()=>f.value,[1]:()=>{let v=g(d.value.value).slice(),S=g(f.value),R=v.findIndex(M=>d.compare(S,g(M)));return R===-1?v.push(S):v.splice(R,1),v}}))},selectActiveOption(){if(d.activeOptionIndex.value===null)return;let{dataRef:i,id:c}=y.value[d.activeOptionIndex.value];P(N(n.value,{[0]:()=>i.value,[1]:()=>{let f=g(d.value.value).slice(),v=g(i.value),S=f.findIndex(R=>d.compare(v,g(R)));return S===-1?f.push(v):f.splice(S,1),f}})),d.goToOption(I.Specific,c)},registerOption(i,c){let f={id:i,dataRef:c},v=k(S=>[...S,f]);if(h.value===null){let S=c.value.value;N(n.value,{[0]:()=>d.compare(g(d.value.value),g(S)),[1]:()=>g(d.value.value).some(R=>d.compare(g(R),g(S)))})&&(v.activeOptionIndex=v.options.indexOf(f))}y.value=v.options,h.value=v.activeOptionIndex,w.value=1},unregisterOption(i){var c;d.activeOptionIndex.value!==null&&((c=d.options.value[d.activeOptionIndex.value])==null?void 0:c.id)===i&&(T.value=!0);let f=k(v=>{let S=v.findIndex(R=>R.id===i);return S!==-1&&v.splice(S,1),v});y.value=f.options,h.value=f.activeOptionIndex,w.value=1}};ne([u,x,r],()=>d.closeCombobox(),O(()=>t.value===0)),ve($,d),ee(O(()=>N(t.value,{[0]:U.Open,[1]:U.Closed})));let B=O(()=>d.activeOptionIndex.value===null?null:y.value[d.activeOptionIndex.value].dataRef.value),E=O(()=>{var i;return(i=C(u))==null?void 0:i.closest("form")});return q(()=>{z([E],()=>{if(!E.value||e.defaultValue===void 0)return;function i(){d.change(e.defaultValue)}return E.value.addEventListener("reset",i),()=>{var c;(c=E.value)==null||c.removeEventListener("reset",i)}},{immediate:!0})}),()=>{let{name:i,disabled:c,form:f,...v}=e,S={open:t.value===0,disabled:c,activeIndex:d.activeOptionIndex.value,activeOption:B.value,value:p.value};return G(de,[...i!=null&&p.value!=null?Y({[i]:p.value}).map(([R,M])=>G(ue,te({features:ie.Hidden,key:R,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:f,name:R,value:M}))):[],F({theirProps:{...l,...X(v,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:S,slots:a,attrs:l,name:"Combobox"})])}}}),Ve=L({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:()=>`headlessui-combobox-label-${K()}`}},setup(e,{attrs:a,slots:l}){let b=j("ComboboxLabel");function t(){var o;(o=C(b.inputRef))==null||o.focus({preventScroll:!0})}return()=>{let o={open:b.comboboxState.value===0,disabled:b.disabled.value},{id:u,...x}=e,r={id:u,ref:b.labelRef,onClick:t};return F({ourProps:r,theirProps:x,slot:o,attrs:a,slots:l,name:"ComboboxLabel"})}}}),Ee=L({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${K()}`}},setup(e,{attrs:a,slots:l,expose:b}){let t=j("ComboboxButton");b({el:t.buttonRef,$el:t.buttonRef});function o(r){t.disabled.value||(t.comboboxState.value===0?t.closeCombobox():(r.preventDefault(),t.openCombobox()),A(()=>{var m;return(m=C(t.inputRef))==null?void 0:m.focus({preventScroll:!0})}))}function u(r){switch(r.key){case D.ArrowDown:r.preventDefault(),r.stopPropagation(),t.comboboxState.value===1&&t.openCombobox(),A(()=>{var m;return(m=t.inputRef.value)==null?void 0:m.focus({preventScroll:!0})});return;case D.ArrowUp:r.preventDefault(),r.stopPropagation(),t.comboboxState.value===1&&(t.openCombobox(),A(()=>{t.value.value||t.goToOption(I.Last)})),A(()=>{var m;return(m=t.inputRef.value)==null?void 0:m.focus({preventScroll:!0})});return;case D.Escape:if(t.comboboxState.value!==0)return;r.preventDefault(),t.optionsRef.value&&!t.optionsPropsRef.value.static&&r.stopPropagation(),t.closeCombobox(),A(()=>{var m;return(m=t.inputRef.value)==null?void 0:m.focus({preventScroll:!0})});return}}let x=le(O(()=>({as:e.as,type:a.type})),t.buttonRef);return()=>{var r,m;let y={open:t.comboboxState.value===0,disabled:t.disabled.value,value:t.value.value},{id:h,...w}=e,T={ref:t.buttonRef,id:h,type:x.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(r=C(t.optionsRef))==null?void 0:r.id,"aria-expanded":t.disabled.value?void 0:t.comboboxState.value===0,"aria-labelledby":t.labelRef.value?[(m=C(t.labelRef))==null?void 0:m.id,h].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:u,onClick:o};return F({ourProps:T,theirProps:w,slot:y,attrs:a,slots:l,name:"ComboboxButton"})}}}),Ne=L({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${K()}`}},emits:{change:e=>!0},setup(e,{emit:a,attrs:l,slots:b,expose:t}){let o=j("ComboboxInput"),u={value:!1};t({el:o.inputRef,$el:o.inputRef});let x=O(()=>{var n;let s=o.value.value;return C(o.inputRef)?typeof e.displayValue<"u"&&s!==void 0?(n=e.displayValue(s))!=null?n:"":typeof s=="string"?s:"":""});q(()=>{z([x,o.comboboxState],([n,s],[p,P])=>{if(u.value)return;let d=C(o.inputRef);d&&(P===0&&s===1||n!==p)&&(d.value=n)},{immediate:!0}),z([o.comboboxState],([n],[s])=>{if(n===0&&s===1){let p=C(o.inputRef);if(!p)return;let P=p.value,{selectionStart:d,selectionEnd:B,selectionDirection:E}=p;p.value="",p.value=P,E!==null?p.setSelectionRange(d,B,E):p.setSelectionRange(d,B)}})});let r=V(!1);function m(){r.value=!0}function y(){setTimeout(()=>{r.value=!1})}function h(n){switch(u.value=!0,n.key){case D.Backspace:case D.Delete:if(o.mode.value!==0||!o.nullable.value)return;let s=n.currentTarget;requestAnimationFrame(()=>{if(s.value===""){o.change(null);let p=C(o.optionsRef);p&&(p.scrollTop=0),o.goToOption(I.Nothing)}});break;case D.Enter:if(u.value=!1,o.comboboxState.value!==0||r.value)return;if(n.preventDefault(),n.stopPropagation(),o.activeOptionIndex.value===null){o.closeCombobox();return}o.selectActiveOption(),o.mode.value===0&&o.closeCombobox();break;case D.ArrowDown:return u.value=!1,n.preventDefault(),n.stopPropagation(),N(o.comboboxState.value,{[0]:()=>o.goToOption(I.Next),[1]:()=>o.openCombobox()});case D.ArrowUp:return u.value=!1,n.preventDefault(),n.stopPropagation(),N(o.comboboxState.value,{[0]:()=>o.goToOption(I.Previous),[1]:()=>{o.openCombobox(),A(()=>{o.value.value||o.goToOption(I.Last)})}});case D.Home:if(n.shiftKey)break;return u.value=!1,n.preventDefault(),n.stopPropagation(),o.goToOption(I.First);case D.PageUp:return u.value=!1,n.preventDefault(),n.stopPropagation(),o.goToOption(I.First);case D.End:if(n.shiftKey)break;return u.value=!1,n.preventDefault(),n.stopPropagation(),o.goToOption(I.Last);case D.PageDown:return u.value=!1,n.preventDefault(),n.stopPropagation(),o.goToOption(I.Last);case D.Escape:if(u.value=!1,o.comboboxState.value!==0)return;n.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&n.stopPropagation(),o.closeCombobox();break;case D.Tab:if(u.value=!1,o.comboboxState.value!==0)return;o.mode.value===0&&o.selectActiveOption(),o.closeCombobox();break}}function w(n){o.openCombobox(),a("change",n)}function T(){u.value=!1}let k=O(()=>{var n,s,p,P;return(P=(p=(s=e.defaultValue)!=null?s:o.defaultValue.value!==void 0?(n=e.displayValue)==null?void 0:n.call(e,o.defaultValue.value):null)!=null?p:o.defaultValue.value)!=null?P:""});return()=>{var n,s,p,P,d,B;let E={open:o.comboboxState.value===0},{id:i,displayValue:c,onChange:f,...v}=e,S={"aria-controls":(n=o.optionsRef.value)==null?void 0:n.id,"aria-expanded":o.disabled.value?void 0:o.comboboxState.value===0,"aria-activedescendant":o.activeOptionIndex.value===null||(s=o.options.value[o.activeOptionIndex.value])==null?void 0:s.id,"aria-labelledby":(d=(p=C(o.labelRef))==null?void 0:p.id)!=null?d:(P=C(o.buttonRef))==null?void 0:P.id,"aria-autocomplete":"list",id:i,onCompositionstart:m,onCompositionend:y,onKeydown:h,onInput:w,onBlur:T,role:"combobox",type:(B=l.type)!=null?B:"text",tabIndex:0,ref:o.inputRef,defaultValue:k.value,disabled:o.disabled.value===!0?!0:void 0};return F({ourProps:S,theirProps:v,slot:E,attrs:l,slots:b,features:_.RenderStrategy|_.Static,name:"ComboboxInput"})}}}),ke=L({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:a,slots:l,expose:b}){let t=j("ComboboxOptions"),o=`headlessui-combobox-options-${K()}`;b({el:t.optionsRef,$el:t.optionsRef}),H(()=>{t.optionsPropsRef.value.static=e.static}),H(()=>{t.optionsPropsRef.value.hold=e.hold});let u=oe(),x=O(()=>u!==null?(u.value&U.Open)===U.Open:t.comboboxState.value===0);return ge({container:O(()=>C(t.optionsRef)),enabled:O(()=>t.comboboxState.value===0),accept(r){return r.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}}),()=>{var r,m,y;let h={open:t.comboboxState.value===0},w={"aria-labelledby":(y=(r=C(t.labelRef))==null?void 0:r.id)!=null?y:(m=C(t.buttonRef))==null?void 0:m.id,id:o,ref:t.optionsRef,role:"listbox","aria-multiselectable":t.mode.value===1?!0:void 0},T=X(e,["hold"]);return F({ourProps:w,theirProps:T,slot:h,attrs:a,slots:l,features:_.RenderStrategy|_.Static,visible:x.value,name:"ComboboxOptions"})}}}),Be=L({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:a,attrs:l,expose:b}){let t=j("ComboboxOption"),o=`headlessui-combobox-option-${K()}`,u=V(null);b({el:u,$el:u});let x=O(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===o:!1),r=O(()=>N(t.mode.value,{[0]:()=>t.compare(g(t.value.value),g(e.value)),[1]:()=>g(t.value.value).some(s=>t.compare(g(s),g(e.value)))})),m=O(()=>({disabled:e.disabled,value:e.value,domRef:u}));q(()=>t.registerOption(o,m)),pe(()=>t.unregisterOption(o)),H(()=>{t.comboboxState.value===0&&x.value&&t.activationTrigger.value!==0&&A(()=>{var s,p;return(p=(s=C(u))==null?void 0:s.scrollIntoView)==null?void 0:p.call(s,{block:"nearest"})})});function y(s){if(e.disabled)return s.preventDefault();t.selectOption(o),t.mode.value===0&&t.closeCombobox(),se()||requestAnimationFrame(()=>{var p;return(p=C(t.inputRef))==null?void 0:p.focus()})}function h(){if(e.disabled)return t.goToOption(I.Nothing);t.goToOption(I.Specific,o)}let w=ye();function T(s){w.update(s)}function k(s){w.wasMoved(s)&&(e.disabled||x.value||t.goToOption(I.Specific,o,0))}function n(s){w.wasMoved(s)&&(e.disabled||x.value&&(t.optionsPropsRef.value.hold||t.goToOption(I.Nothing)))}return()=>{let{disabled:s}=e,p={active:x.value,selected:r.value,disabled:s},P={id:o,ref:u,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":r.value,disabled:void 0,onClick:y,onFocus:h,onPointerenter:T,onMouseenter:T,onPointermove:k,onMousemove:k,onPointerleave:n,onMouseleave:n};return F({ourProps:P,theirProps:e,slot:p,attrs:l,slots:a,name:"ComboboxOption"})}}});function Ae(e,a){return be(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[W("path",{d:"M6.5 9a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}),W("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9 5a4 4 0 102.248 7.309l1.472 1.471a.75.75 0 101.06-1.06l-1.471-1.472A4 4 0 009 5z","clip-rule":"evenodd"})])}export{Ne as $,Ve as H,Ee as K,De as N,ke as U,Be as _,Ae as r};
