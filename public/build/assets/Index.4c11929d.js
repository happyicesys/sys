import{_ as U}from"./Authenticated.86224c81.js";import{_ as O}from"./Button.3042cdab.js";import{r as G,a as D,T as h,_ as f,b as F,c}from"./TableHeadSort.e7699220.js";import{_ as x}from"./SearchInput.c6f39e59.js";import{_ as b}from"./MultiSelect.ef8633d3.js";import{i as y,j as H,o as g,g as _,a as n,b as T,w as s,F as V,H as q,d as t,t as r,m as w,p as v,c as A,f as l,J as P,n as C}from"./app.6dd90b6c.js";import"./open-closed.c4a26994.js";import"./use-resolve-button-type.dd89030f.js";import"./RectangleStackIcon.85fd074d.js";import"./_plugin-vue_export-helper.cdc0426e.js";const M=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Vending Machines (List) ",-1),R={class:"m-2 sm:mx-5 sm:my-3 px-2 sm:px-4 lg:px-6"},z={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-5 px-3 md:px-6 py-6"},Q={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},W=l(" Vend ID "),X=l(" Serial Num "),Y=l(" Temp >> "),Z=t("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Errors? ",-1),ee=l(" Cust ID "),te=l(" Cust ID Name "),ne=t("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Category ",-1),oe=t("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Group ",-1),se={class:"flex flex-col space-y-3 md:flex-row md:space-y-0 justify-between mt-5"},le={class:"mt-3"},ae={class:"flex space-x-1"},re=t("span",null," Search ",-1),de=t("span",null," Reset ",-1),ie={class:"flex flex-col space-y-2"},ue={class:"text-sm text-gray-700 leading-5 flex space-x-1"},ce=t("span",null,"Showing",-1),me={class:"font-medium"},ge=t("span",null,"to",-1),_e={class:"font-medium"},he=t("span",null,"of",-1),pe={class:"font-medium"},fe=t("span",null,"results",-1),xe={class:"mt-6 flex flex-col"},ye={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},ve={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},be={class:"min-w-full border-separate",style:{"border-spacing":"0"}},Ve={class:"bg-gray-100"},Ce={class:"divide-x divide-gray-200"},Be=l(" # "),ke=l(" Code "),Se=l(" Name "),Le=l(" Category "),Te=l(" Error(s) "),we=l(" Inventory Status "),Pe=l(" Temp "),Ie=t("br",null,null,-1),Ne=l(" (Chamber) "),Ke=l(" Temp "),Je=t("br",null,null,-1),$e=l(" (Evaporator) "),je=l(" Balance Stock "),Oe=l(" Out of Stock SKU "),Ee=l(" Firmware Ver "),Ue=l(" Door Opening? "),Ge=l(" Sensor Normal? "),De=l(" Serial Num "),Fe={class:"bg-white"},He=t("br",null,null,-1),qe=t("br",null,null,-1),Ae={class:"flex flex-col"},Me={class:"font-bold"},Re={class:"grid grid-cols-[120px_minmax(120px,_1fr)_120px] gap-1"},ze={class:"font-semibold"},Qe={class:"text-blue-600 text-sm pl-1"},We={class:"pl-1"},Xe={class:"flex flex-col items-center"},Ye=["onClick"],Ze={class:"mt-1"},et={class:"flex flex-col items-center"},tt=["onClick"],nt={key:0},ot=t("br",null,null,-1),st={key:0},lt=t("br",null,null,-1),at={key:0},rt=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),dt=[rt],yt={__name:"Index",props:{categories:Object,categoryGroups:Object,vends:Object,vendChannelErrors:Object,constTempError:Number},setup(d){const B=d,o=y({code:"",serialNum:"",customer_code:"",customer_name:"",categories:[],categoryGroups:[],tempHigherThan:"",vend_channel_error_id:"",sortKey:"",sortBy:!0,numberPerPage:""}),k=y([]),S=y([]),I=y([]),N=y([]);H(()=>{k.value=[{id:"",desc:"All"},{id:"errors_only",desc:"Errors Only"},...B.vendChannelErrors.data],S.value=[{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],o.value.vend_channel_error_id=k.value[0],o.value.numberPerPage=S.value[0],I.value=B.categories.data.map(u=>({id:u.id,name:u.name})),N.value=B.categoryGroups.data.map(u=>({id:u.id,name:u.name}))});function L(){P.Inertia.get("/vends",{...o.value,vend_channel_error_id:o.value.vend_channel_error_id.id,categories:o.value.categories.map(u=>u.id),categoryGroups:o.value.categoryGroups.map(u=>u.id),numberPerPage:o.value.numberPerPage.id},{preserveState:!0,replace:!0})}function K(u,a){P.Inertia.get("/vends/"+u+"/temp/"+a)}function E(){P.Inertia.get("/vends")}function p(u){o.value.sortKey=u,o.value.sortBy=!this.filters.sortBy,L()}return(u,a)=>(g(),_(V,null,[n(T(q),{title:"Vending Machines"}),n(U,null,{header:s(()=>[M]),default:s(()=>{var J,$;return[t("div",R,[t("div",z,[t("div",Q,[n(x,{placeholderStr:"Code",modelValue:o.value.code,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value.code=e)},{default:s(()=>[W]),_:1},8,["modelValue"]),n(x,{placeholderStr:"Serial Num",modelValue:o.value.serialNum,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value.serialNum=e)},{default:s(()=>[X]),_:1},8,["modelValue"]),n(x,{placeholderStr:"Number",modelValue:o.value.tempHigherThan,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.tempHigherThan=e)},{default:s(()=>[Y]),_:1},8,["modelValue"]),t("div",null,[Z,n(b,{modelValue:o.value.vend_channel_error_id,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.vend_channel_error_id=e),options:k.value,trackBy:"id",valueProp:"id",label:"desc",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])]),n(x,{placeholderStr:"Cust ID",modelValue:o.value.customer_code,"onUpdate:modelValue":a[4]||(a[4]=e=>o.value.customer_code=e)},{default:s(()=>[ee]),_:1},8,["modelValue"]),n(x,{placeholderStr:"Cust ID Name",modelValue:o.value.customer_name,"onUpdate:modelValue":a[5]||(a[5]=e=>o.value.customer_name=e)},{default:s(()=>[te]),_:1},8,["modelValue"]),t("div",null,[ne,n(b,{modelValue:o.value.categories,"onUpdate:modelValue":a[6]||(a[6]=e=>o.value.categories=e),options:I.value,trackBy:"id",valueProp:"id",label:"name",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])]),t("div",null,[oe,n(b,{modelValue:o.value.categoryGroups,"onUpdate:modelValue":a[7]||(a[7]=e=>o.value.categoryGroups=e),options:N.value,trackBy:"id",valueProp:"id",label:"name",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])]),t("div",se,[t("div",le,[t("div",ae,[n(O,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:a[8]||(a[8]=e=>L())},{default:s(()=>[n(T(G),{class:"h-4 w-4","aria-hidden":"true"}),re]),_:1}),n(O,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-gray-300 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-gray-800 shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:a[9]||(a[9]=e=>E())},{default:s(()=>[n(T(D),{class:"h-4 w-4","aria-hidden":"true"}),de]),_:1})])]),t("div",ie,[t("p",ue,[ce,t("span",me,r((J=d.vends.meta.from)!=null?J:0),1),ge,t("span",_e,r(($=d.vends.meta.to)!=null?$:0),1),he,t("span",pe,r(d.vends.meta.total),1),fe]),n(b,{modelValue:o.value.numberPerPage,"onUpdate:modelValue":a[10]||(a[10]=e=>o.value.numberPerPage=e),options:S.value,trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1",onSelected:L},null,8,["modelValue","options"])])])]),t("div",xe,[t("div",ye,[t("div",ve,[t("table",be,[t("thead",Ve,[t("tr",Ce,[n(h,null,{default:s(()=>[Be]),_:1}),n(f,{modelName:"code",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:a[11]||(a[11]=e=>p("code"))},{default:s(()=>[ke]),_:1},8,["sortKey","sortBy"]),n(h,null,{default:s(()=>[Se]),_:1}),n(h,null,{default:s(()=>[Le]),_:1}),n(h,null,{default:s(()=>[Te]),_:1}),n(h,null,{default:s(()=>[we]),_:1}),n(f,{modelName:"temp",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:a[12]||(a[12]=e=>p("temp"))},{default:s(()=>[Pe,Ie,Ne]),_:1},8,["sortKey","sortBy"]),n(f,{modelName:"parameter_json->t2",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:a[13]||(a[13]=e=>p("parameter_json->t2"))},{default:s(()=>[Ke,Je,$e]),_:1},8,["sortKey","sortBy"]),n(f,{modelName:"vend_channel_totals_json->balancePercent",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:a[14]||(a[14]=e=>p("vend_channel_totals_json->balancePercent"))},{default:s(()=>[je]),_:1},8,["sortKey","sortBy"]),n(f,{modelName:"vend_channel_totals_json->outOfStockSkuPercent",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:a[15]||(a[15]=e=>p("vend_channel_totals_json->outOfStockSkuPercent"))},{default:s(()=>[Oe]),_:1},8,["sortKey","sortBy"]),n(h,null,{default:s(()=>[Ee]),_:1}),n(h,null,{default:s(()=>[Ue]),_:1}),n(h,null,{default:s(()=>[Ge]),_:1}),n(h,null,{default:s(()=>[De]),_:1})])]),t("tbody",Fe,[(g(!0),_(V,null,w(d.vends.data,(e,i)=>(g(),_("tr",{key:e.id,class:"divide-x divide-gray-200"},[n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[l(r(d.vends.meta.from+i),1)]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[l(r(e.code),1)]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-left"},{default:s(()=>[l(r(e.latestVendBinding&&e.latestVendBinding.customer?e.latestVendBinding.customer.code:null)+" ",1),He,l(" "+r(e.latestVendBinding&&e.latestVendBinding.customer?e.latestVendBinding.customer.name:null),1)]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-left"},{default:s(()=>[l(r(e.latestVendBinding&&e.latestVendBinding.customer&&e.latestVendBinding.customer.category?e.latestVendBinding.customer.category.name:null)+" ",1),qe,l(" "+r(e.latestVendBinding&&e.latestVendBinding.customer&&e.latestVendBinding.customer.category&&e.latestVendBinding.customer.category.category_group?e.latestVendBinding.customer.category.category_group.name:null),1)]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[(g(!0),_(V,null,w(e.vendChannelErrorLogsJson,m=>(g(),_("span",{class:C(["inline-flex items-center rounded px-2.5 py-0.5 text-xs font-medium border",[m.is_error_cleared?"bg-green-100 text-green-800":"bg-red-100 text-red-800"]])},[t("div",Ae,[t("div",null,[l(" #"+r(m.vend_channel.code)+", ",1),t("span",Me," ("+r(m.vend_channel_error.code)+") ",1)]),t("div",null,r(m.created_at),1)])],2))),256))]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[t("div",Re,[(g(!0),_(V,null,w(e.vendChannelsJson,(m,j)=>(g(),_("div",{class:C(["inline-flex justify-between items-center rounded px-2.5 py-0.5 text-xs font-medium border min-w-full",[j>0&&String(m.code)[0]!==String(e.vendChannelsJson[j-1].code)[0]?"col-start-1":""]])},[t("div",ze," #"+r(m.code)+", ",1),t("div",Qe,r(m.capacity-m.qty)+", ",1),t("div",We,r(m.qty)+"/"+r(m.capacity),1)],2))),256))])]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[t("div",Xe,[t("button",{type:"button",class:C(["inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs tracking-wide focus:outline-none disabled:opacity-25 transition ease-in-out duration-150 text-black w-4/5 text-right justify-center",[e.temp>-15?"bg-red-400 active:bg-red-500 hover:bg-red-600":"bg-green-400 active:bg-green-500 hover:bg-green-600"]]),onClick:m=>K(e.id,1)},r(e.is_temp_error?"Error":e.temp),11,Ye),t("span",Ze,r(e.temp_updated_at),1)])]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[t("div",et,[e.parameterJson&&e.parameterJson.t2?(g(),_("button",{key:0,type:"button",class:C(["inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs tracking-wide focus:outline-none disabled:opacity-25 transition ease-in-out duration-150 text-black w-4/5 text-right justify-center",[e.temp>-15||e.parameterJson.t2==d.constTempError?"bg-red-400 active:bg-red-500 hover:bg-red-600":"bg-green-400 active:bg-green-500 hover:bg-green-600"]]),onClick:m=>K(e.id,2)},r(e.parameterJson.t2==d.constTempError?"Error":e.parameterJson.t2/10),11,tt)):v("",!0)])]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[e.vendChannelTotalsJson?(g(),_("span",nt,[l(r(e.vendChannelTotalsJson.qty)+"/ "+r(e.vendChannelTotalsJson.capacity)+" ",1),ot,l(" ("+r(e.vendChannelTotalsJson.balancePercent)+"%) ",1)])):v("",!0)]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[e.vendChannelTotalsJson?(g(),_("span",st,[l(r(e.vendChannelTotalsJson.outOfStockSku)+"/ "+r(e.vendChannelTotalsJson.count)+" ",1),lt,l(" ("+r(e.vendChannelTotalsJson.outOfStockSkuPercent)+"%) ",1)])):v("",!0)]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[l(r(e.firmware_ver),1)]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[l(r(e.is_door_open),1)]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[l(r(e.is_sensor_normal),1)]),_:2},1032,["currentIndex","totalLength"]),n(c,{currentIndex:i,totalLength:d.vends.length,inputClass:"text-center"},{default:s(()=>[l(r(e.serial_num),1)]),_:2},1032,["currentIndex","totalLength"])]))),128)),d.vends.data.length?v("",!0):(g(),_("tr",at,dt))])])]),d.vends.data.length?(g(),A(F,{key:0,links:d.vends.links,meta:d.vends.meta},null,8,["links","meta"])):v("",!0)])])])]}),_:1})],64))}};export{yt as default};
