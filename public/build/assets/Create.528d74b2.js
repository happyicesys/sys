import{g as d,T as y,Q as w,h as B,f as u,a as s,u as n,w as a,F as C,o as i,Z as O,b as t,e as S,d as m,t as g,l as c,i as j,c as N}from"./app.8bb9b662.js";import{_ as U}from"./Authenticated.1f2703e6.js";import{_ as h}from"./Button.30044973.js";import{_ as p}from"./FormInput.335533fe.js";import{_ as $}from"./FormTextarea.5effe2d1.js";import{_ as V}from"./MultiSelect.c61f7442.js";import{r as T}from"./ArrowUturnLeftIcon.ff0ce992.js";import{r as A}from"./CheckCircleIcon.502c7e42.js";import"./keyboard.b8370930.js";import"./use-resolve-button-type.b8600320.js";import"./RectangleStackIcon.de64f58d.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.05c6dd21.js";const F=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create New Operator ",-1),M={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},D={class:"mt-6 flex flex-col"},E={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},G={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll p-5"},P={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6"},R={class:"sm:col-span-2"},q={class:"sm:col-span-4"},Q={class:"sm:col-span-3"},Z=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Country ",-1),H={key:0,class:"text-sm text-red-600"},I={class:"sm:col-span-3"},J=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Timezone ",-1),K={key:0,class:"text-sm text-red-600"},L={class:"sm:col-span-4"},W=t("span",{class:"text-[9px]"}," (For Gross Margin Calculation) ",-1),X={class:"sm:col-span-6"},Y={class:"sm:col-span-6"},ee={class:"flex space-x-1 mt-5 justify-end"},te=t("span",null," Back ",-1),oe=t("span",null," Save ",-1),ve={__name:"Create",props:{countries:[Array,Object],timezones:[Array,Object],permissions:[Array,Object]},setup(b){const _=b,v=d([]),e=d(y(x())),k=w().props.auth.permissions,f=d([]);B(()=>{v.value=_.countries.data,e.value=y(x()),f.value=_.timezones.map((l,o)=>({id:o,name:l}))});function x(){return{code:"",name:"",gst_vat_rate:"",country_id:"",timezone:"",remarks:""}}function z(){e.value.clearErrors(),e.value.transform(l=>({...l,timezone:l.timezone?l.timezone.name:null,country_id:l.country_id?l.country_id.id:null})).post("/operators/store",{preserveState:!0,replace:!0})}return(l,o)=>(i(),u(C,null,[s(n(O),{title:"Operator"}),s(U,null,{header:a(()=>[F]),default:a(()=>[t("div",M,[t("div",D,[t("div",E,[t("div",G,[t("form",{onSubmit:S(z,["prevent"]),id:"submit"},[t("div",P,[t("div",R,[s(p,{modelValue:e.value.code,"onUpdate:modelValue":o[0]||(o[0]=r=>e.value.code=r),error:e.value.errors.code},{default:a(()=>[m(" Code ")]),_:1},8,["modelValue","error"])]),t("div",q,[s(p,{modelValue:e.value.name,"onUpdate:modelValue":o[1]||(o[1]=r=>e.value.name=r),error:e.value.errors.name,required:"true"},{default:a(()=>[m(" Name ")]),_:1},8,["modelValue","error"])]),t("div",Q,[Z,s(V,{modelValue:e.value.country_id,"onUpdate:modelValue":o[2]||(o[2]=r=>e.value.country_id=r),options:v.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),e.value.errors.country_id?(i(),u("div",H,g(e.value.errors.country_id),1)):c("",!0)]),t("div",I,[J,s(V,{modelValue:e.value.timezone,"onUpdate:modelValue":o[3]||(o[3]=r=>e.value.timezone=r),options:f.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),e.value.errors.timezone?(i(),u("div",K,g(e.value.errors.timezone),1)):c("",!0)]),t("div",L,[s(p,{modelValue:e.value.gst_vat_rate,"onUpdate:modelValue":o[4]||(o[4]=r=>e.value.gst_vat_rate=r),error:e.value.errors.gst_vat_rate},{default:a(()=>[m(" GST or VAT Rate (%) "),W]),_:1},8,["modelValue","error"])]),t("div",X,[s($,{modelValue:e.value.remarks,"onUpdate:modelValue":o[5]||(o[5]=r=>e.value.remarks=r),error:e.value.errors.remarks},{default:a(()=>[m(" Remarks ")]),_:1},8,["modelValue","error"])]),t("div",Y,[t("div",ee,[s(n(j),{href:"/operators"},{default:a(()=>[s(h,{type:"button",class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1"},{default:a(()=>[s(n(T),{class:"w-4 h-4"}),te]),_:1})]),_:1}),n(k).includes("update operators")?(i(),N(h,{key:0,type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:a(()=>[s(n(A),{class:"w-4 h-4"}),oe]),_:1})):c("",!0)])])])],32)])])])])]),_:1})],64))}};export{ve as default};
