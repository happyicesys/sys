import{_ as b}from"./Modal.85fa36f3.js";import{j as w,K as k,h as C,c as M,a as p,w as _,s as O,o as s,b as e,f as n,m as r,t as d,d as u,u as i,l as S,F as V,S as B,n as x}from"./app.5696c208.js";import"./open-closed.33461f34.js";const D={class:"flex flex-col md:flex-row space-x-2"},j={key:0,class:"text-gray-600"},N={key:1},E={key:2},F={class:"flex flex-col"},P={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-3 lg:-mx-5"},$={class:"inline-block min-w-full py-2 align-middle md:px-4 lg:px-6"},q={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},I={class:"table-fixed min-w-full divide-y divide-gray-300"},L={class:"bg-gray-50"},T=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," # ",-1),Y={key:0,scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},z=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Sold ",-1),A=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Bal ",-1),J=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Cap ",-1),K={scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},U={key:0},G=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Error ",-1),H={key:1,scope:"col",class:"w-3/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},Q={class:"bg-white"},R={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},W={key:0,class:"whitespace-nowrap text-sm font-semibold text-gray-900 text-center"},X={class:"flex justify-center items-center"},Z=["src"],ee={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-600 sm:pl-6 text-center"},te={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},se={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},oe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},ne={class:"py-1 pl-1 pr-1 text-xs font-medium text-gray-900 sm:pl-1 text-center"},re={key:0},de={class:"font-bold"},ce={key:1,class:"py-4 text-sm font-semibold text-gray-900 text-center"},le={key:0},ae={key:0},ie={key:1,class:"break-normal text-xs"},me=e("br",null,null,-1),pe={key:1},_e={class:"flex justify-between"},ue=e("span",null,null,-1),xe={key:0,class:"flex flex-col text-blue-800 text-sm p-3"},ye={key:0,class:""},he={key:1},we={__name:"ChannelOverview",props:{productOptions:Object,vend:Object,showModal:Boolean},emits:["modalClose"],setup(o,{emit:fe}){const m=o;w(()=>{console.log(m.productOptions)});const a=k().props.auth.profile,y=C(!1);function h(c){return moment(c).format("YYMMDD hh:mm A")}return(c,l)=>{const f=B("MultiSelect");return s(),M(O,{to:"body"},[p(b,{open:o.showModal,onModalClose:l[1]||(l[1]=t=>c.$emit("modalClose"))},{header:_(()=>[e("div",D,[m.profile?(s(),n("span",j," Channel Overview ")):r("",!0),o.vend.code?(s(),n("span",N," ID# "+d(o.vend.code),1)):r("",!0),o.vend.customer_code?(s(),n("span",E," ("+d(o.vend.customer_code?o.vend.customer_code:null)+") "+d(o.vend.customer_name?o.vend.customer_name:null),1)):r("",!0)])]),default:_(()=>[e("div",F,[e("div",P,[e("div",$,[e("div",q,[e("table",I,[e("thead",L,[e("tr",null,[T,o.vend.product_mapping_name?(s(),n("th",Y," Image ")):r("",!0),z,A,J,e("th",K,[u(" Price "),i(a)&&i(a).base_currency?(s(),n("span",U," ("+d(i(a).base_currency.currency_symbol)+") ",1)):r("",!0)]),G,o.vend.product_mapping_name?(s(),n("th",H," Product ")):r("",!0)])]),e("tbody",Q,[(s(!0),n(V,null,S(o.vend.vendChannelsJson,(t,g)=>(s(),n("tr",{key:t.id,class:x(g%2===0?void 0:"bg-gray-50")},[e("td",R,d(t.code),1),o.vend.product_mapping_name?(s(),n("td",W,[e("div",X,[t.product&&t.product.thumbnail?(s(),n("img",{key:0,class:"h-16 w-16 rounded-full",src:t.product.thumbnail.full_url,alt:""},null,8,Z)):r("",!0)])])):r("",!0),e("td",ee,d(t.capacity-t.qty),1),e("td",te,d(t.qty),1),e("td",se,d(t.capacity),1),e("td",oe,d((t.amount/100).toLocaleString(void 0,{minimumFractionDigits:2})),1),e("td",ne,[t.vend_channel_error_logs&&t.vend_channel_error_logs[0]&&t.vend_channel_error_logs[0].is_error_cleared==0?(s(),n("span",re,[e("div",{class:x([t.vend_channel_error_logs[0].vend_channel_error.code==4||t.vend_channel_error_logs[0].vend_channel_error.code==5||t.vend_channel_error_logs[0].vend_channel_error.code==7?" text-blue-800":" text-red-800"])},[e("span",de," ("+d(t.vend_channel_error_logs[0].vend_channel_error.code)+") ",1),e("div",null,d(h(t.vend_channel_error_logs[0].created_at)),1)],2)])):r("",!0)]),o.vend.product_mapping_name?(s(),n("td",ce,[y.value?(s(),n("span",pe,[p(f,{modelValue:c.filters.errors,"onUpdate:modelValue":l[0]||(l[0]=v=>c.filters.errors=v),options:c.vendChannelErrorsOptions,valueProp:"id",label:"desc",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])):(s(),n("span",le,[t.product&&t.product.code?(s(),n("span",ae,d(t.product.code),1)):r("",!0),t.product&&t.product.name?(s(),n("span",ie,[me,u(" "+d(t.product.name),1)])):r("",!0)]))])):r("",!0)],2))),128))])])])])])]),e("div",_e,[ue,o.vend.product_mapping_name?(s(),n("span",xe,[o.vend.product_mapping_name?(s(),n("span",ye,d(o.vend.product_mapping_name),1)):r("",!0),o.vend.product_mapping_remarks?(s(),n("span",he,d(o.vend.product_mapping_remarks),1)):r("",!0)])):r("",!0)])]),_:1},8,["open"])])}}};export{we as default};
