import{o as s,f as o,b as e,g as f,K as h,c as p,a as x,w as u,p as P,t as r,l,d,u as n,k as $,F as B,n as v,e as b,O as w}from"./app.d2ef966c.js";import{_ as k}from"./Button.f9e0ae98.js";import{_ as C}from"./FormInput.24b8869e.js";import{_ as O}from"./Modal.ec842c99.js";import{r as q}from"./CheckCircleIcon.b0fe3e5d.js";import{r as D}from"./PencilSquareIcon.fb97e99f.js";import{r as j}from"./PauseCircleIcon.26c4b0be.js";function z(i,m){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2 10a8 8 0 1116 0 8 8 0 01-16 0zm6.39-2.908a.75.75 0 01.766.027l3.5 2.25a.75.75 0 010 1.262l-3.5 2.25A.75.75 0 018 12.25v-4.5a.75.75 0 01.39-.658z","clip-rule":"evenodd"})])}const A={class:"flex flex-col md:flex-row space-x-2"},N=e("span",{class:"text-gray-600"}," Delivery Product Mapping Channel ",-1),T={key:0},U={key:1},E={class:"flex flex-col"},F={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-3 lg:-mx-5"},I={class:"inline-block min-w-full py-2 align-middle md:px-4 lg:px-6"},Q={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},R={class:"table-fixed min-w-full divide-y divide-gray-300"},L={class:"bg-gray-50"},K=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," # ",-1),G=e("th",{scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Image ",-1),H=e("th",{scope:"col",class:"w-3/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Product ",-1),J={scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},W={key:0},X=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[d(" Reserved "),e("br"),d(" (%) ")],-1),Y=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[d(" Reserved "),e("br"),d(" Qty ")],-1),Z=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[d(" Booked "),e("br"),d(" Qty ")],-1),ee=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[d(" Current "),e("br"),d(" Qty ")],-1),te=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[d(" Current "),e("br"),d(" Capacity ")],-1),se=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Status ",-1),oe=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},null,-1),re={class:"bg-white"},de={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},ie={class:"whitespace-nowrap text-sm font-semibold text-gray-900 text-center"},ae={class:"flex justify-center items-center"},le=["src"],ne={class:"py-4 text-sm font-semibold text-gray-900 text-center"},ce={key:0},pe={key:1,class:"break-normal text-xs"},_e=e("br",null,null,-1),me={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},xe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-red-700 sm:pl-6 text-center"},ue={key:0},ye={key:1},ge={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-red-700 sm:pl-6 text-center"},ve={key:0},fe={key:1},he={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},be={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},we={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},ke={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},Ce={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},Ve={key:0,class:"inline-flex items-center rounded-md bg-green-300 px-1.5 py-0.5 text-xs font-medium text-green-800 ring-1 ring-inset ring-indigo-700/10"},Se={key:1,class:"inline-flex items-center rounded-md bg-red-200 px-1.5 py-0.5 text-xs font-medium text-red-700 ring-1 ring-inset ring-indigo-700/10"},Me={class:"whitespace-nowrap py-2 pl-4 pr-2 text-sm font-normal text-gray-900 sm:pl-3 text-center flex flex-col space-y-1 py-3"},Pe={key:2,class:"text-xs"},$e={key:3,class:"text-xs"},Be={key:2,class:"text-xs"},Oe={key:3,class:"text-xs"},qe={__name:"ChannelOverview",props:{vend:Object,showModal:Boolean},emits:["modalClose"],setup(i,{emit:m}){const y=i;f([]),h().props.auth.permissions;const g=h().props.auth.profile;f(!1);function V(a){let c=a.is_active?"Are you sure to pause this channel?":"Are you sure to resume this channel?";!confirm(c)||(w.post("/delivery-product-mappings/channels/"+a.id+"/toggle-pause",{preserveState:!1,preserveScroll:!0,replace:!0,onSuccess:()=>{m("modalClose")}}),m("modalClose"))}function S(a){y.vend.deliveryProductMappingVendChannels[y.vend.deliveryProductMappingVendChannels.findIndex(c=>c.id===a.id)].is_editable=!a.is_editable,a.is_editable||w.post("/delivery-product-mappings/channels/"+a.id+"/update",a,{preserveState:!1,preserveScroll:!0,replace:!0,onSuccess:()=>{m("modalClose")}})}return(a,c)=>(s(),p(P,{to:"body"},[x(O,{open:i.showModal,onModalClose:c[0]||(c[0]=t=>a.$emit("modalClose"))},{header:u(()=>[e("div",A,[N,i.vend.code?(s(),o("span",T," ID# "+r(i.vend.code),1)):l("",!0),i.vend.customer_code?(s(),o("span",U," ("+r(i.vend.customer_code?i.vend.customer_code:null)+") "+r(i.vend.customer_name?i.vend.customer_name:null),1)):l("",!0)])]),default:u(()=>[e("div",E,[e("div",F,[e("div",I,[e("div",Q,[e("table",R,[e("thead",L,[e("tr",null,[K,G,H,e("th",J,[d(" Price "),n(g)&&n(g).base_currency?(s(),o("span",W," ("+r(n(g).base_currency.currency_symbol)+") ",1)):l("",!0)]),X,Y,Z,ee,te,se,oe])]),e("tbody",re,[(s(!0),o(B,null,$(y.vend.deliveryProductMappingVendChannels,(t,M)=>(s(),o("tr",{key:t.id,class:v(M%2===0?void 0:"bg-gray-50")},[e("td",de,r(t.vend_channel_code),1),e("td",ie,[e("div",ae,[t.delivery_product_mapping_item.product&&t.delivery_product_mapping_item.product.thumbnail?(s(),o("img",{key:0,class:"h-16 w-16 rounded-full",src:t.delivery_product_mapping_item.product.thumbnail.full_url,alt:""},null,8,le)):l("",!0)])]),e("td",ne,[t.delivery_product_mapping_item.product&&t.delivery_product_mapping_item.product.code?(s(),o("span",ce,r(t.delivery_product_mapping_item.product.code),1)):l("",!0),t.delivery_product_mapping_item.product&&t.delivery_product_mapping_item.product.name?(s(),o("span",pe,[_e,d(" "+r(t.delivery_product_mapping_item.product.name),1)])):l("",!0)]),e("td",me,r(t.amount.toLocaleString(void 0,{minimumFractionDigits:2})),1),e("td",xe,[t.is_editable?(s(),o("span",ye,[x(C,{modelValue:t.reserved_percent,"onUpdate:modelValue":_=>t.reserved_percent=_},null,8,["modelValue","onUpdate:modelValue"])])):(s(),o("span",ue,r(t.reserved_percent),1))]),e("td",ge,[t.is_editable?(s(),o("span",fe,[x(C,{modelValue:t.reserved_qty,"onUpdate:modelValue":_=>t.reserved_qty=_},null,8,["modelValue","onUpdate:modelValue"])])):(s(),o("span",ve,r(t.reserved_qty),1))]),e("td",he,r(t.order_qty),1),e("td",be,r(t.vend_channel.qty),1),e("td",we,r(t.vend_channel.capacity),1),e("td",ke,[e("td",Ce,[t.is_active==1?(s(),o("span",Ve," Active ")):l("",!0),t.is_active==0?(s(),o("span",Se," Paused ")):l("",!0)])]),e("td",Me,[x(k,{class:v(["flex space-x-1",[t.is_editable?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-400 hover:bg-gray-800 text-black"]]),onClick:b(_=>S(t),["prevent"])},{default:u(()=>[t.is_editable?(s(),p(n(q),{key:0,class:"w-3 h-3"})):(s(),p(n(D),{key:1,class:"w-3 h-3"})),t.is_editable?(s(),o("span",Pe," Save ")):(s(),o("span",$e," Edit "))]),_:2},1032,["class","onClick"]),t.is_editable?l("",!0):(s(),p(k,{key:0,class:v(["flex space-x-1",[t.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:b(_=>V(t),["prevent"])},{default:u(()=>[t.is_active?(s(),p(n(j),{key:0,class:"w-3 h-3"})):(s(),p(n(z),{key:1,class:"w-3 h-3"})),t.is_active?(s(),o("span",Be," Pause ")):(s(),o("span",Oe," Resume "))]),_:2},1032,["class","onClick"]))])],2))),128))])])])])])])]),_:1},8,["open"])]))}},Ee=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"}));export{Ee as C,qe as _,z as r};
