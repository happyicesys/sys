import{g as h,T as q,h as J,j as P,f as r,a as l,u as b,w as n,F as V,o as i,Z as K,b as t,d,t as u,l as m,e as k,i as W,n as M,k as w,O as D}from"./app.9a1671af.js";import{_ as X}from"./Authenticated.ab77d9e1.js";import{_ as C}from"./Button.ce36953c.js";import{_ as Y}from"./DatetimePicker.3977ec85.js";import{_ as g}from"./FormInput.28232379.js";import{_ as S}from"./MultiSelect.3ab77758.js";import{_ as y,a as x}from"./TableData.fc595575.js";import{r as ee}from"./ArrowUturnLeftIcon.bde51597.js";import{r as U}from"./CheckCircleIcon.74bfa35d.js";import{r as te}from"./XCircleIcon.3f4c463e.js";import"./keyboard.cb617b34.js";import"./use-resolve-button-type.2e329c8c.js";import"./RectangleStackIcon.5468cb70.js";import"./main.81b6aa0d.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.794575d6.js";const ae={class:"font-semibold text-xl text-gray-800 leading-tight"},le={key:0},se={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},oe={class:"mt-6 flex flex-col"},re={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},ie={class:"shadow-sm ring-1 ring-black ring-opacity-5 p-5 mb-3"},ne={class:"grid grid-cols-1 gap-3 sm:grid-cols-6 pb-5 mb-3"},de={class:"sm:col-span-6"},me={class:"sm:col-span-6"},ue=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Product Mapping ",-1),_e={class:"mt-1"},pe=["value"],ce={class:"sm:col-span-6"},ve=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Platform ",-1),fe={class:"mt-1"},ge=["value"],ye={class:"sm:col-span-3"},xe=t("span",{class:"text-red-500"}," * ",-1),he={class:"sm:col-span-3"},be=t("span",{class:"text-red-500"}," * ",-1),Ve={class:"sm:col-span-6"},ke={class:"flex space-x-1 mt-5 justify-end"},we=t("span",null," Back ",-1),Ce=t("span",null," Save ",-1),Se=t("span",null," Sync to VM & Submit to Platform ",-1),je=t("div",{class:"sm:col-span-6 pt-2 pb-1 md:pt-5 md:pb-3"},[t("div",{class:"relative"},[t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})]),t("div",{class:"relative flex justify-center"},[t("span",{class:"px-3 bg-white text-lg font-medium text-gray-900 rounded"},"Campaign Item(s)")])])],-1),Pe={key:0,class:"sm:col-span-6"},De={class:"inline-flex justify-center items-center rounded px-3 py-1 my-1 text-lg font-medium border min-w-fit bg-red-300 text-gray-800"},Oe={class:"flex flex-col"},Le={key:1,class:"sm:col-span-6"},qe=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Type "),t("span",{class:"text-red-500"}," * ")],-1),Me={key:2,class:"sm:col-span-2"},Ue={key:3,class:"sm:col-span-2"},Ne={key:4,class:"sm:col-span-2"},Ie={key:5,class:"sm:col-span-2"},$e={key:6,class:"sm:col-span-2"},Be={key:7,class:"sm:col-span-5"},Fe=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Scope "),t("span",{class:"text-red-500"}," * ")],-1),Ye={key:8,class:"sm:col-span-3"},Ae=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" User "),t("span",{class:"text-red-500"}," * ")],-1),Te={key:9,class:"sm:col-span-2"},Ee={key:10,class:"sm:col-span-6"},Re=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Product "),t("span",{class:"text-red-500"}," * ")],-1),He={key:0,class:"text-red-500 text-sm"},ze={key:11,class:"sm:col-span-6"},Qe=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Category "),t("span",{class:"text-red-500"}," * ")],-1),Ze={key:12,class:"sm:col-span-6"},Ge={key:13,class:"sm:col-span-6"},Je=t("span",null," Create Campaign Item ",-1),Ke={key:14,class:"sm:col-span-6 flex flex-col mt-2 mx-2 mb-3"},We={class:"mt-6 flex flex-col"},Xe={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8 px-3"},et={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},tt={class:"min-w-full border-separate",style:{"border-spacing":"0"}},at={class:"bg-gray-100"},lt={class:"divide-x divide-gray-200"},st=t("br",null,null,-1),ot={class:"bg-white"},rt=t("br",null,null,-1),it={class:"text-blue-700"},nt={key:0,role:"list",class:"divide-y divide-gray-100 overflow-scroll bg-white"},dt={class:"flex justify-between gap-x-1 px-1 py-0.5"},mt={class:"flex min-w-0 gap-x-4"},ut={class:"text-sm"},_t={class:"min-w-0 flex-auto"},pt={class:"text-sm font-semibold leading-2 text-gray-900"},ct={key:0,role:"list",class:"divide-y divide-gray-100 overflow-scroll bg-white"},vt={class:"flex justify-between gap-x-2 px-1 py-0.5"},ft={class:"flex min-w-0 gap-x-3"},gt={class:"min-w-0 flex-auto pt-1"},yt={class:"text-sm font-semibold leading-2 text-gray-900"},xt={key:1},ht={key:0,class:"text-xs"},bt={key:0},Vt=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),kt=[Vt],wt=t("div",{class:"sm:col-span-6 pt-2 pb-1 md:pt-5 md:pb-3"},[t("div",{class:"relative"},[t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})]),t("div",{class:"relative flex justify-center"},[t("span",{class:"px-3 bg-white text-lg font-medium text-gray-900 rounded"},"Binded Campaign(s)")])])],-1),Ct={key:15,class:"sm:col-span-6 flex flex-col mt-2 mx-2 mb-3"},St={class:"mt-6 flex flex-col"},jt={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8 px-3"},Pt={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},Dt={class:"min-w-full border-separate",style:{"border-spacing":"0"}},Ot={class:"bg-gray-100"},Lt={class:"divide-x divide-gray-200"},qt={class:"bg-white"},Mt=t("br",null,null,-1),Ut={class:"flex flex-col space-y-1 max-w-fit"},Nt={type:"button",class:"group -mr-1 h-4 w-4 rounded-sm hover:bg-blue-700/20"},It=t("span",{class:"sr-only"},"Remove",-1),$t=["onClick"],Bt=t("path",{d:"M4 4l6 6m0-6l-6 6"},null,-1),Ft=[Bt],Yt={key:0},At=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Tt=[At],sa={__name:"Edit",props:{deliveryPlatformCampaign:Object,deliveryPlatformCampaignItemOptions:Object,deliveryProductMappingVends:Object,type:String},setup(f){const v=f,N=h([]),_=h([]),I=h([]),e=h(q($())),j=h(!1);h(!1);const O=h("");function $(){return{id:"",cap:"",datetime_from:"",datetime_to:"",delivery_platform_campaign_item:"",delivery_platform_campaign_item_scope:"",delivery_product_mapping_items:"",min_basket_amount:0,qty:"",total_count:"",total_count_per_user:"",promo_value:""}}J(()=>{v.type=="create"?O.value="Create New":O.value="Edit",_.value=v.deliveryPlatformCampaign.data,I.value=v.deliveryPlatformCampaign.data.deliveryProductMapping.deliveryProductMappingItems.map(o=>({id:o.id,full_name:"(#"+o.channel_code+") "+o.product.code+" "+o.product.name,img_url:o.product.thumbnail?o.product.thumbnail.full_url:"",product_id:o.product.id})),N.value=[v.deliveryPlatformCampaign.data.deliveryProductMapping.category_json?{id:v.deliveryPlatformCampaign.data.deliveryProductMapping.category_json.id,name:v.deliveryPlatformCampaign.data.deliveryProductMapping.category_json.name}:{id:"",name:""}],e.value=_.value?q(_.value):q($())});const A=P(function(){return moment().add(30,"minutes").format("YYYY-MM-DD HH:mm:ss")}),L=P(function(){let o="";return e.value.delivery_platform_campaign_item&&e.value.promo_value&&(e.value.delivery_platform_campaign_item.phrase1&&(o+=e.value.delivery_platform_campaign_item.phrase1),e.value.delivery_platform_campaign_item.qty?o+=e.value.qty?e.value.qty:"":o+=e.value.promo_value?e.value.promo_value:"",e.value.delivery_platform_campaign_item.phrase2&&(o+=e.value.delivery_platform_campaign_item.phrase2),e.value.delivery_platform_campaign_item.cap&&(o+=e.value.cap?e.value.cap:""),e.value.delivery_platform_campaign_item.qty?o+=e.value.promo_value?e.value.promo_value:"":o+=e.value.qty?e.value.qty:"",e.value.delivery_platform_campaign_item.phrase3&&(o+=" "+e.value.delivery_platform_campaign_item.phrase3),e.value.delivery_platform_campaign_item_scope&&(o+=" "+e.value.delivery_platform_campaign_item_scope.name)),o}),T=P(function(){return moment(e.value.datetime_from).add(2,"hours").format("YYYY-MM-DD HH:mm:ss")}),B=P(function(){let o=!0;return(!e.value.delivery_platform_campaign_item||!e.value.promo_value||!e.value.delivery_platform_campaign_item_scope)&&(o=!1),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.qty&&!e.value.qty&&(o=!1),e.value.delivery_platform_campaign_item_scope_eater_type||(o=!1),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isProduct&&(e.value.delivery_product_mapping_items?(e.value.delivery_product_mapping_items.length==0&&(o=!1),e.value.delivery_platform_campaign_item_scope.singleObjectOnly&&e.value.delivery_product_mapping_items.length>1&&(o=!1)):o=!1),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isCategory&&e.value.category&&e.value.category.length==0&&(e.value.category?(e.value.category.length==0&&(o=!1),e.value.category.singleObjectOnly&&e.value.category.length>1&&(o=!1)):o=!1),o});function E(o){!confirm("Are you sure to delete this entry?")||D.delete("/delivery-platform-campaigns/item-vend/"+o,{preserveState:!1,preserveScroll:!0,replace:!0})}function R(){j.value=!0,e.value.delivery_platform_campaign_item_scope="",e.value.delivery_platform_campaign_item_scope_eater_type="",e.value.category="",e.value.qty="",e.value.promo_value="",e.value.cap="",e.value.total_count="",e.value.total_count_per_user=""}function H(){j.value=!0}function z(o){!confirm("Are you sure to delete this entry?")||D.delete("/delivery-platform-campaigns/item/"+o,{preserveState:!1,preserveScroll:!0,replace:!0})}function Q(){D.post("/delivery-platform-campaigns/"+e.value.id+"/create-item",{...e.value,delivery_platform_campaign_item:e.value.delivery_platform_campaign_item?e.value.delivery_platform_campaign_item.id:"",delivery_platform_campaign_item_scope:e.value.delivery_platform_campaign_item_scope?e.value.delivery_platform_campaign_item_scope.id:"",delivery_platform_campaign_item_scope_eater_type:e.value.delivery_platform_campaign_item_scope_eater_type?e.value.delivery_platform_campaign_item_scope_eater_type.id:"",settings_label:L.value},{preserveState:!1,preserveScroll:!0,replace:!0})}function Z(){e.value.clearErrors(),e.value.transform(o=>({name:o.name,reserved_percent:o.reserved_percent,reserved_qty:o.reserved_qty})).post("/delivery-product-mappings/"+e.value.id+"/update",{preserveState:!0,replace:!0})}function G(o){!confirm("Are you sure to submit this campaign and its items to platform?")||D.post("/delivery-platform-campaigns/"+o+"/submit-platform",{},{preserveState:!1,preserveScroll:!0,replace:!0})}return(o,s)=>(i(),r(V,null,[l(b(K),{title:"Delivery Product Mapping"}),l(X,null,{header:n(()=>[t("h2",ae,[d(u(O.value)+" Delivery Platform Campaign ",1),f.type=="update"?(i(),r("span",le,u(_.value.name),1)):m("",!0)])]),default:n(()=>[t("div",se,[t("div",oe,[t("div",re,[t("div",ie,[t("form",{onSubmit:k(Z,["prevent"]),id:"submit"},[t("div",ne,[t("div",de,[l(g,{modelValue:e.value.name,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value.name=a),error:e.value.errors.name,required:"true"},{default:n(()=>[d(" Name ")]),_:1},8,["modelValue","error"])]),t("div",me,[ue,t("div",_e,[t("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:v.deliveryPlatformCampaign.data.deliveryProductMapping.name,disabled:""},null,8,pe)])]),t("div",ce,[ve,t("div",fe,[t("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:v.deliveryPlatformCampaign.data.deliveryPlatformOperator.deliveryPlatform.name+" ("+v.deliveryPlatformCampaign.data.deliveryPlatformOperator.type+")",disabled:""},null,8,ge)])]),t("div",ye,[l(Y,{modelValue:e.value.datetime_from,"onUpdate:modelValue":s[1]||(s[1]=a=>e.value.datetime_from=a),error:e.value.errors.datetime_from,minDate:A.value,onInput:s[2]||(s[2]=a=>o.onDateFromChanged())},{default:n(()=>[d(" Begin Date "),xe]),_:1},8,["modelValue","error","minDate"])]),t("div",he,[l(Y,{modelValue:e.value.datetime_to,"onUpdate:modelValue":s[3]||(s[3]=a=>e.value.datetime_to=a),error:e.value.errors.datetime_to,minDate:T.value},{default:n(()=>[d(" End Date "),be]),_:1},8,["modelValue","error","minDate"])]),t("div",Ve,[t("div",ke,[l(b(W),{href:"/delivery-platform-campaigns"},{default:n(()=>[l(C,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1"},{default:n(()=>[l(b(ee),{class:"w-4 h-4"}),we]),_:1})]),_:1}),l(C,{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:n(()=>[l(b(U),{class:"w-4 h-4"}),Ce]),_:1}),l(C,{class:"bg-yellow-500 hover:bg-yellow-600 text-black flex space-x-1",onClick:s[4]||(s[4]=k(a=>G(_.value.id),["prevent"]))},{default:n(()=>[l(b(U),{class:"w-4 h-4"}),Se]),_:1})])]),je,L.value?(i(),r("div",Pe,[t("div",De,[t("div",Oe,u(L.value),1)])])):m("",!0),e.value.id?(i(),r("div",Le,[qe,l(S,{modelValue:e.value.delivery_platform_campaign_item,"onUpdate:modelValue":s[5]||(s[5]=a=>e.value.delivery_platform_campaign_item=a),options:f.deliveryPlatformCampaignItemOptions,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1",onSelected:s[6]||(s[6]=a=>R())},null,8,["modelValue","options"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.cap?(i(),r("div",Me,[l(g,{modelValue:e.value.cap,"onUpdate:modelValue":s[7]||(s[7]=a=>e.value.cap=a),error:e.value.errors.cap,placeholderStr:"Number"},{default:n(()=>[d(" Cap (Max Discount Dollar) ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.qty?(i(),r("div",Ue,[l(g,{modelValue:e.value.qty,"onUpdate:modelValue":s[8]||(s[8]=a=>e.value.qty=a),error:e.value.errors.qty,placeholderStr:"Number",required:"true"},{default:n(()=>[d(" Bundle Total Qty ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.id?(i(),r("div",Ne,[l(g,{modelValue:e.value.promo_value,"onUpdate:modelValue":s[9]||(s[9]=a=>e.value.promo_value=a),error:e.value.errors.promo_value,placeholderStr:"Number",required:"true"},{default:n(()=>[d(" Value ("+u(e.value.delivery_platform_campaign_item.id)+") ",1)]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item?(i(),r("div",Ie,[l(g,{modelValue:e.value.total_count,"onUpdate:modelValue":s[10]||(s[10]=a=>e.value.total_count=a),error:e.value.errors.total_count,placeholderStr:"Default Unlimited"},{default:n(()=>[d(" Redemption Limit ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item?(i(),r("div",$e,[l(g,{modelValue:e.value.total_count_per_user,"onUpdate:modelValue":s[11]||(s[11]=a=>e.value.total_count_per_user=a),error:e.value.errors.total_count_per_user,placeholderStr:"Default Unlimited"},{default:n(()=>[d(" Redemtion Limit/ User ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item?(i(),r("div",Be,[Fe,l(S,{modelValue:e.value.delivery_platform_campaign_item_scope,"onUpdate:modelValue":s[12]||(s[12]=a=>e.value.delivery_platform_campaign_item_scope=a),options:e.value.delivery_platform_campaign_item.scope,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1",onSelected:s[13]||(s[13]=a=>H())},null,8,["modelValue","options"])])):m("",!0),e.value.delivery_platform_campaign_item_scope?(i(),r("div",Ye,[Ae,l(S,{modelValue:e.value.delivery_platform_campaign_item_scope_eater_type,"onUpdate:modelValue":s[14]||(s[14]=a=>e.value.delivery_platform_campaign_item_scope_eater_type=a),options:e.value.delivery_platform_campaign_item_scope.eaterType,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1"},null,8,["modelValue","options"])])):m("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.minBasketAmount?(i(),r("div",Te,[l(g,{modelValue:e.value.min_basket_amount,"onUpdate:modelValue":s[15]||(s[15]=a=>e.value.min_basket_amount=a),error:e.value.errors.min_basket_amount,placeholderStr:"Number"},{default:n(()=>[d(" Minimum Basket Amount ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isProduct?(i(),r("span",Ee,[Re,l(S,{modelValue:e.value.delivery_product_mapping_items,"onUpdate:modelValue":s[16]||(s[16]=a=>e.value.delivery_product_mapping_items=a),options:I.value,trackBy:"id",valueProp:"id",label:"full_name",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1",clear:j.value,max:e.value.delivery_platform_campaign_item_scope.singleObjectOnly?1:-1},null,8,["modelValue","options","clear","max"]),t("span",null,[e.value.delivery_platform_campaign_item_scope.singleObjectOnly?(i(),r("span",He," * Single Object Only ")):m("",!0)])])):m("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isCategory?(i(),r("span",ze,[Qe,l(S,{modelValue:e.value.category,"onUpdate:modelValue":s[17]||(s[17]=a=>e.value.category=a),options:N.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1",clear:j.value,max:e.value.delivery_platform_campaign_item_scope.singleObjectOnly?1:-1},null,8,["modelValue","options","clear","max"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item_scope?(i(),r("div",Ze,[l(g,{modelValue:e.value.settings_name,"onUpdate:modelValue":s[18]||(s[18]=a=>e.value.settings_name=a),error:e.value.errors.settings_name,placeholderStr:"Campaign Item Name"},{default:n(()=>[d(" Campaign Item Name (Optional) ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.id?(i(),r("div",Ge,[l(C,{type:"button",onClick:s[19]||(s[19]=k(a=>Q(),["prevent"])),class:M(["bg-green-500 hover:bg-green-600 text-white flex space-x-1 sm:mt-1",[B.value?"":"opacity-50 cursor-not-allowed"]]),disabled:!B.value},{default:n(()=>[l(b(U),{class:"w-4 h-4"}),Je]),_:1},8,["class","disabled"])])):m("",!0),e.value.id?(i(),r("div",Ke,[t("div",We,[t("div",Xe,[t("div",et,[t("table",tt,[t("thead",at,[t("tr",lt,[l(y,null,{default:n(()=>[d(" # ")]),_:1}),l(y,null,{default:n(()=>[d(" Name "),st,d(" Label ")]),_:1}),l(y,null,{default:n(()=>[d(" Settings ")]),_:1}),l(y,null,{default:n(()=>[d(" Items ")]),_:1}),l(y,null,{default:n(()=>[d(" Action ")]),_:1})])]),t("tbody",ot,[(i(!0),r(V,null,w(_.value.deliveryPlatformCampaignItems,(a,p)=>(i(),r("tr",{key:a.id,class:"divide-x divide-gray-300"},[l(x,{currentIndex:p,totalLength:_.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[d(u(p+1),1)]),_:2},1032,["currentIndex","totalLength"]),l(x,{currentIndex:p,totalLength:_.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[d(u(a.settings_name)+" ",1),rt,t("span",it,u(a.settings_label),1)]),_:2},1032,["currentIndex","totalLength"]),l(x,{currentIndex:p,totalLength:_.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[a.settings_json?(i(),r("ul",nt,[(i(!0),r(V,null,w(a.settings_json,(c,F)=>(i(),r("li",dt,[t("div",mt,[t("span",ut,u(F)+": ",1),t("div",_t,[t("p",pt,u(c),1)])])]))),256))])):m("",!0)]),_:2},1032,["currentIndex","totalLength"]),l(x,{currentIndex:p,totalLength:_.value.deliveryPlatformCampaignItems.length,inputClass:"text-left"},{default:n(()=>[a.items_json?(i(),r("ul",ct,[(i(!0),r(V,null,w(a.items_json,c=>(i(),r("li",vt,[t("div",ft,[t("div",gt,[t("p",yt,u(c.full_name?c.full_name:c.name),1)])])]))),256))])):m("",!0),a.items_json?m("",!0):(i(),r("div",xt," NA "))]),_:2},1032,["currentIndex","totalLength"]),l(x,{currentIndex:p,totalLength:_.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[l(C,{onClick:k(c=>z(a.id),["prevent"]),class:M(["flex flex-col bg-red-500 hover:bg-red-600 text-white",[a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0?"opacity-50 cursor-not-allowed":""]]),disabled:a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0},{default:n(()=>[l(b(te),{class:"w-4 h-4"}),a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0?(i(),r("span",ht," Campaigns running, cannot delete ")):m("",!0)]),_:2},1032,["onClick","disabled","class"])]),_:2},1032,["currentIndex","totalLength"])]))),128)),_.value.deliveryPlatformCampaignItems.length?m("",!0):(i(),r("tr",bt,kt))])])])])])])):m("",!0),wt,e.value.id?(i(),r("div",Ct,[t("div",St,[t("div",jt,[t("div",Pt,[t("table",Dt,[t("thead",Ot,[t("tr",Lt,[l(y,null,{default:n(()=>[d(" # ")]),_:1}),l(y,null,{default:n(()=>[d(" Vend ")]),_:1}),l(y,null,{default:n(()=>[d(" Campaign(s) ")]),_:1})])]),t("tbody",qt,[(i(!0),r(V,null,w(f.deliveryProductMappingVends.data,(a,p)=>(i(),r("tr",{key:a.id,class:"divide-x divide-gray-300"},[l(x,{currentIndex:p,totalLength:f.deliveryProductMappingVends.data.length,inputClass:"text-center"},{default:n(()=>[d(u(p+1),1)]),_:2},1032,["currentIndex","totalLength"]),l(x,{currentIndex:p,totalLength:f.deliveryProductMappingVends.data.length,inputClass:"text-left"},{default:n(()=>[d(u(a.vend.code)+" ",1),Mt,d(" "+u(a.vend.cust_full_name),1)]),_:2},1032,["currentIndex","totalLength"]),l(x,{currentIndex:p,totalLength:f.deliveryProductMappingVends.data.length,inputClass:"text-center"},{default:n(()=>[t("div",Ut,[(i(!0),r(V,null,w(a.deliveryPlatformCampaignItemVends,c=>(i(),r("span",{class:M(["flex justify-between items-center gap-x-0.5 rounded-md px-2 py-1 text-sm font-medium",[c.is_submitted?"bg-green-100 text-green-700":"bg-red-100 text-red-700"]])},[d(u(c.settings_name)+" ",1),t("button",Nt,[It,(i(),r("svg",{viewBox:"0 0 14 14",class:"h-4 w-4 stroke-blue-900/50 group-hover:stroke-blue-900/75",onClick:k(F=>E(c.id),["prevent"])},Ft,8,$t))])],2))),256))])]),_:2},1032,["currentIndex","totalLength"])]))),128)),f.deliveryProductMappingVends.data.length?m("",!0):(i(),r("tr",Yt,Tt))])])])])])])):m("",!0)])],32)])])])])]),_:1})],64))}};export{sa as default};
