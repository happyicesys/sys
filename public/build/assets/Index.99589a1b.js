import{_ as T}from"./Authenticated.24167e3d.js";import{_ as j}from"./Button.d37096d8.js";import{M as z,O as N,P as E}from"./MultiSelect.fa37bae2.js";import{S as M}from"./SearchInput.100f5a13.js";import{G as P,I as h,o as i,g as a,a as m,w as b,F as y,d as e,t as l,m as u,l as k,f,n as d}from"./app.5132a92b.js";import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as U}from"./SearchIcon.e2025b28.js";const O={components:{BreezeAuthenticatedLayout:T,Button:j,MultiSelect:z,OptionDropdown:N,Paginator:E,SearchIcon:U,SearchInput:M},props:{vends:Object,vendChannelErrors:Object},created(){this.vendChannelErrorsOptions=[{id:"",desc:"All"},{id:"errors_only",desc:"Errors Only"},...this.vendChannelErrors.data]},data(){return{filters:this.getFiltersDefault(),vendChannelErrorsOptions:[]}},watch:{"filters.numberPerPage"(){this.onSearchFilterUpdated()}},methods:{getFiltersDefault(){return{code:"",serialNum:"",name:"",tempHigherThan:"",vend_channel_error_id:"",sortKey:"",sortBy:!0,numberPerPage:100}},getTotalQty(g){return g.vend_channels.filter(function(r){return r.capacity>0&&r.code<1e3}).reduce(function(r,o){return r+o.qty},0)},getTotalCapacity(g){return g.vend_channels.filter(function(r){return r.capacity>0&&r.code<1e3}).reduce(function(r,o){return r+o.capacity},0)},onSearchFilterUpdated:P.exports.debounce(function(){this.$inertia.get("/vends",this.filters,{preserveState:!0,replace:!0})},500),onVendTempClicked(g){this.$inertia.get("/vend/"+g+"/temp")},onVendChannelErrorLogEmailClicked(){this.$inertia.get("/vends/channel-error-logs-email")},resetFilters(){this.filters=this.getFiltersDefault(),this.filters.vend_channel_error_id=Object.values(this.vendChannelErrorsOptions)[0],this.onSearchFilterUpdated()},sortTable(g){this.filters.sortKey=g,this.filters.sortBy=!this.filters.sortBy,this.onSearchFilterUpdated()}}},K=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Vending Machines ",-1),A={class:"m-2 sm:mx-5 sm:my-3 px-2 sm:px-4 lg:px-6"},D={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-5 px-3 md:px-6 py-6"},L={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},H=f(" Code "),q=f(" Serial Num "),Q=f(" Name "),G=f(" Temp >> "),J=e("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Errors? ",-1),R={class:"flex justify-between mt-5"},W={class:"mt-3"},X=e("span",null," Search ",-1),Y={class:"flex flex-col space-y-2"},Z={class:"text-sm text-gray-700 leading-5 flex space-x-1"},I=e("span",null,"Showing",-1),$={class:"font-medium"},ee=e("span",null,"to",-1),te={class:"font-medium"},re=e("span",null,"of",-1),se={class:"font-medium"},oe=e("span",null,"results",-1),le={class:"mt-6 flex flex-col"},ne={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},ie={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},ae={class:"min-w-full border-separate",style:{"border-spacing":"0"}},de={class:"bg-gray-100"},ce={class:"divide-x divide-gray-200"},pe=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," #",-1),me={scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"},ge={class:"flex justify-center"},ue={class:"pt-0.5 pl-0.5 text-blue-600 hover:text-blue-800"},_e={key:0},he=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1),be=[he],ye={key:1},fe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1),xe=[fe],ke={scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"},we={class:"flex justify-center"},ve={class:"pt-0.5 pl-0.5 text-blue-600 hover:text-blue-800"},Ce={key:0},Se=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1),Be=[Se],Ve={key:1},Te=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1),je=[Te],ze=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Name",-1),Ne=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Channels Status",-1),Ee=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Inventory Status",-1),Me={scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"},Pe={class:"flex justify-center"},Fe={class:"pt-0.5 pl-0.5 text-blue-600 hover:text-blue-800"},Ue={key:0},Oe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1),Ke=[Oe],Ae={key:1},De=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1),Le=[De],He={scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"},qe={class:"flex justify-center"},Qe={class:"pt-0.5 pl-0.5 text-blue-600 hover:text-blue-800"},Ge={key:0},Je=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1),Re=[Je],We={key:1},Xe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1),Ye=[Xe],Ze=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Serial Num",-1),Ie=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Firmware Ver",-1),$e=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 px-3 py-3.5 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter"}," Door Opening?",-1),et=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 px-3 py-3.5 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter"}," Sensor Normal?",-1),tt=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pr-4 pl-3 backdrop-blur backdrop-filter sm:pr-6 lg:pr-8"},[e("span",{class:"sr-only"},"Edit")],-1),rt={class:"bg-white"},st={class:"flex flex-col"},ot=["onClick"],lt={class:"flex flex-col space-y-1"},nt={class:"grid grid-cols-[100px_minmax(100px,_1fr)_100px] gap-1"},it={class:"font-semibold"},at={class:"text-blue-600 text-sm pl-1"},dt={class:"pl-1"},ct={class:"col-span-3 inline-flex items-center rounded px-2.5 py-0.5 text-xs font-medium border min-w-full space-x-2"},pt=e("span",null," Total ",-1),mt={class:"text-blue-600 text-sm"},gt={href:"#",class:"text-indigo-600 hover:text-indigo-900"},ut=f("Edit"),_t={class:"sr-only"};function ht(g,r,o,bt,s,p){const v=h("Head"),x=h("SearchInput"),w=h("MultiSelect"),C=h("SearchIcon"),S=h("Button"),B=h("Paginator"),V=h("BreezeAuthenticatedLayout");return i(),a(y,null,[m(v,{title:"Vending Machine"}),m(V,null,{header:b(()=>[K]),default:b(()=>[e("div",A,[e("div",D,[e("div",L,[m(x,{placeholderStr:"Code",modelValue:s.filters.code,"onUpdate:modelValue":r[0]||(r[0]=t=>s.filters.code=t)},{default:b(()=>[H]),_:1},8,["modelValue"]),m(x,{placeholderStr:"Serial Num",modelValue:s.filters.serialNum,"onUpdate:modelValue":r[1]||(r[1]=t=>s.filters.serialNum=t)},{default:b(()=>[q]),_:1},8,["modelValue"]),m(x,{placeholderStr:"Name",modelValue:s.filters.name,"onUpdate:modelValue":r[2]||(r[2]=t=>s.filters.name=t)},{default:b(()=>[Q]),_:1},8,["modelValue"]),m(x,{placeholderStr:"Number",modelValue:s.filters.tempHigherThan,"onUpdate:modelValue":r[3]||(r[3]=t=>s.filters.tempHigherThan=t)},{default:b(()=>[G]),_:1},8,["modelValue"]),e("div",null,[J,m(w,{modelValue:s.filters.vend_channel_error_id,"onUpdate:modelValue":r[4]||(r[4]=t=>s.filters.vend_channel_error_id=t),options:s.vendChannelErrorsOptions,trackBy:"id",valueProp:"id",label:"desc",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])]),e("div",R,[e("div",W,[m(S,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:r[5]||(r[5]=t=>p.onSearchFilterUpdated())},{default:b(()=>[m(C,{class:"h-4 w-4","aria-hidden":"true"}),X]),_:1})]),e("div",Y,[e("p",Z,[I,e("span",$,l(o.vends.meta.from),1),ee,e("span",te,l(o.vends.meta.to),1),re,e("span",se,l(o.vends.meta.total),1),oe]),m(w,{modelValue:s.filters.numberPerPage,"onUpdate:modelValue":r[6]||(r[6]=t=>s.filters.numberPerPage=t),options:[{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1",onChange:r[7]||(r[7]=t=>p.onSearchFilterUpdated())},null,8,["modelValue"])])])]),e("div",le,[e("div",ne,[e("div",ie,[e("table",ae,[e("thead",de,[e("tr",ce,[pe,e("th",me,[e("div",ge,[e("a",{href:"#",class:"text-blue-600 hover:text-blue-800",onClick:r[8]||(r[8]=t=>p.sortTable("code"))}," Code "),e("div",ue,[s.filters.sortKey==="code"&&s.filters.sortBy?(i(),a("span",_e,be)):u("",!0),s.filters.sortKey==="code"&&!s.filters.sortBy?(i(),a("span",ye,xe)):u("",!0)])])]),e("th",ke,[e("div",we,[e("a",{href:"#",class:"text-blue-600 hover:text-blue-800",onClick:r[9]||(r[9]=t=>p.sortTable("temp"))}," Temp(C) "),e("div",ve,[s.filters.sortKey==="temp"&&s.filters.sortBy?(i(),a("span",Ce,Be)):u("",!0),s.filters.sortKey==="temp"&&!s.filters.sortBy?(i(),a("span",Ve,je)):u("",!0)])])]),ze,Ne,Ee,e("th",Me,[e("div",Pe,[e("a",{href:"#",class:"text-blue-600 hover:text-blue-800",onClick:r[10]||(r[10]=t=>p.sortTable("temp_updated_at"))}," Last Temp "),e("div",Fe,[s.filters.sortKey==="temp_updated_at"&&s.filters.sortBy?(i(),a("span",Ue,Ke)):u("",!0),s.filters.sortKey==="temp_updated_at"&&!s.filters.sortBy?(i(),a("span",Ae,Le)):u("",!0)])])]),e("th",He,[e("div",qe,[e("a",{href:"#",class:"text-blue-600 hover:text-blue-800",onClick:r[11]||(r[11]=t=>p.sortTable("coin_amount"))}," Coin Amount "),e("div",Qe,[s.filters.sortKey==="coin_amount"&&s.filters.sortBy?(i(),a("span",Ge,Re)):u("",!0),s.filters.sortKey==="coin_amount"&&!s.filters.sortBy?(i(),a("span",We,Ye)):u("",!0)])])]),Ze,Ie,$e,et,tt])]),e("tbody",rt,[(i(!0),a(y,null,k(o.vends.data,(t,c)=>(i(),a("tr",{key:t.id,class:"divide-x divide-gray-200"},[e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-right"])},l(o.vends.meta.from+c),3),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-right"])},l(t.code),3),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-600 sm:pl-6 lg:pl-8"],"text-right"])},[e("div",st,[e("button",{type:"button",class:d(["inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs tracking-wide focus:outline-none disabled:opacity-25 transition ease-in-out duration-150 text-black w-4/5 text-right justify-center",[t.temp>-15?"bg-red-400 active:bg-red-500 hover:bg-red-600":"bg-green-400 active:bg-green-500 hover:bg-green-600"]]),onClick:n=>p.onVendTempClicked(t.id)},l(t.is_temp_error?"Error":t.temp),11,ot)])],2),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-center"])},l(t.name),3),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-normal py-2 pl-2 pr-1 text-sm font-medium text-gray-800 sm:pl-1 lg:pl-2"],"text-center"])},[(i(!0),a(y,null,k(t.vend_channels.map(function(n){return n}).filter(function(n){var _;return(_=n.vend_channel_error_logs.length)!=null?_:n.vend_channel_error_logs}),n=>(i(),a("span",lt,[(i(!0),a(y,null,k(n.vend_channel_error_logs.filter(function(_){return!_.is_error_cleared}),_=>(i(),a("span",{class:d(["inline-flex items-center rounded px-2.5 py-0.5 text-xs font-medium border",[_.is_error_cleared?"bg-green-100 text-green-800":"bg-red-100 text-red-800"]])}," #"+l(n.code)+", "+l(_.vend_channel_error.desc),3))),256))]))),256))],2),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","py-1 pl-1 pr-1 text-sm font-medium text-gray-800"],"text-center"])},[e("div",nt,[(i(!0),a(y,null,k(t.vend_channels.map(function(n){return n}).filter(function(n){return n.capacity>0&&n.code<1e3}),n=>(i(),a("div",{class:d(["inline-flex items-center rounded px-2.5 py-0.5 text-xs font-medium border min-w-full",[n.capacity>0?"bg-gray-50 text-gray-900":"bg-red-100 text-red-800"]])},[e("div",it," #"+l(n.code)+", ",1),e("div",at,l(n.capacity-n.qty)+", ",1),e("div",dt,l(n.qty)+"/"+l(n.capacity),1)],2))),256)),e("div",ct,[pt,e("span",mt,l(p.getTotalCapacity(t)-p.getTotalQty(t))+", ",1),e("span",null,l(p.getTotalQty(t))+"/"+l(p.getTotalCapacity(t)),1)])])],2),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},l(t.temp_updated_at),3),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-right"])},l(t.coin_amount),3),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-center"])},l(t.serial_num),3),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},l(t.firmware_ver),3),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},l(t.is_door_open),3),e("td",{class:d([[c!==o.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},l(t.is_sensor_normal),3),e("td",{class:d([c!==o.vends.length-1?"border-b border-gray-200":"","relative whitespace-nowrap py-4 pr-4 pl-3 text-right text-sm font-medium sm:pr-6 lg:pr-8"])},[e("a",gt,[ut,e("span",_t,", "+l(t.name),1)])],2)]))),128))])]),m(B,{links:o.vends.links,meta:o.vends.meta},null,8,["links","meta"])])])])])]),_:1})],64)}const St=F(O,[["render",ht]]);export{St as default};
