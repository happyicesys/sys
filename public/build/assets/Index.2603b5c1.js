import{_ as B}from"./Authenticated.24167e3d.js";import{_ as P}from"./Button.d37096d8.js";import{M as E,O as j,P as T}from"./MultiSelect.fa37bae2.js";import{S as z}from"./SearchInput.100f5a13.js";import{G as V,I as h,o as a,g as c,a as u,w as y,F as _,d as e,t as s,m as g,l as f,f as x,n as d}from"./app.5132a92b.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";const F={components:{BreezeAuthenticatedLayout:B,Button:P,MultiSelect:E,OptionDropdown:j,Paginator:T,SearchInput:z},props:{vends:Object,vendChannelErrors:Object},created(){this.vendChannelErrorsOptions=[{id:"",desc:"All"},{id:"errors_only",desc:"Errors Only"},...this.vendChannelErrors.data]},data(){return{filters:this.getFiltersDefault(),vendChannelErrorsOptions:[]}},methods:{getFiltersDefault(){return{code:"",serialNum:"",name:"",tempHigherThan:"",hasError:"",sortKey:"",sortBy:!0,numberPerPage:100}},getHasErrorFiltersLabel(i){return`${i.desc}`},getNumberPerPageLabel({id:i,value:t}){return t!=="All"?`${t} results (page)`:`${t}`},getTotalQty(i){return i.vend_channels.filter(function(t){return t.capacity>0&&t.code<1e3}).reduce(function(t,l){return t+l.qty},0)},getTotalCapacity(i){return i.vend_channels.filter(function(t){return t.capacity>0&&t.code<1e3}).reduce(function(t,l){return t+l.capacity},0)},onNumberPerPageSelected(i){this.filters.numberPerPage=i.value,this.onSearchFilterUpdated()},onHasErrorSelected(i){this.filters.hasError=i,this.onSearchFilterUpdated()},onSearchFilterUpdated:V.exports.debounce(function(){this.$inertia.get("/vends",this.filters,{preserveState:!0,replace:!0})},500),onVendTempClicked(i){this.$inertia.get("/vend/"+i+"/temp")},onVendChannelErrorLogEmailClicked(){this.$inertia.get("/vends/channel-error-logs-email")},resetFilters(){this.filters=this.getFiltersDefault(),console.log(Object.values(this.vendChannelErrorsOptions)[0]),this.filters.hasError=Object.values(this.vendChannelErrorsOptions)[0],this.onSearchFilterUpdated()},sortTable(i){this.filters.sortKey=i,this.filters.sortBy=!this.filters.sortBy,this.onSearchFilterUpdated()}}},O=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Profiles ",-1),M={class:"m-2 sm:mx-5 sm:my-3 px-2 sm:px-4 lg:px-6"},U={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-5 px-3 md:px-6 py-6"},K={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},L=x(" Name "),A=x(" UEN "),D={class:"flex justify-end mt-5"},H={class:"flex flex-col space-y-2"},q={class:"text-sm text-gray-700 leading-5 flex space-x-1"},Q=e("span",null,"Showing",-1),G={class:"font-medium"},J=e("span",null,"to",-1),R={class:"font-medium"},W=e("span",null,"of",-1),X={class:"font-medium"},Y=e("span",null,"results",-1),Z={class:"flex justify-end"},I={class:"mt-6 flex flex-col"},$={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},ee={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},te={class:"min-w-full border-separate",style:{"border-spacing":"0"}},re={class:"bg-gray-100"},se={class:"divide-x divide-gray-200"},oe=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," #",-1),le={scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"},ne={class:"flex justify-center"},ie={class:"pt-0.5 pl-0.5 text-blue-600 hover:text-blue-800"},ae={key:0},ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1),de=[ce],pe={key:1},me=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1),ge=[me],be={scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"},ue={class:"flex justify-center"},he={class:"pt-0.5 pl-0.5 text-blue-600 hover:text-blue-800"},_e={key:0},ye=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1),fe=[ye],xe={key:1},ke=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1),we=[ke],ve=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Name",-1),Ce=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Channels Status",-1),Se=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Inventory Status",-1),Be={scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"},Pe={class:"flex justify-center"},Ee={class:"pt-0.5 pl-0.5 text-blue-600 hover:text-blue-800"},je={key:0},Te=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1),ze=[Te],Ve={key:1},Ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1),Fe=[Ne],Oe={scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"},Me={class:"flex justify-center"},Ue={class:"pt-0.5 pl-0.5 text-blue-600 hover:text-blue-800"},Ke={key:0},Le=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1),Ae=[Le],De={key:1},He=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1),qe=[He],Qe=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Serial Num",-1),Ge=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Firmware Ver",-1),Je=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 px-3 py-3.5 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter"}," Door Opening?",-1),Re=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 px-3 py-3.5 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter"}," Sensor Normal?",-1),We=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pr-4 pl-3 backdrop-blur backdrop-filter sm:pr-6 lg:pr-8"},[e("span",{class:"sr-only"},"Edit")],-1),Xe={class:"bg-white"},Ye={class:"flex flex-col"},Ze=["onClick"],Ie={class:"flex flex-col space-y-1"},$e={class:"grid grid-cols-[100px_minmax(100px,_1fr)_100px] gap-1"},et={class:"font-semibold"},tt={class:"text-blue-600 text-sm pl-1"},rt={class:"pl-1"},st={class:"col-span-3 inline-flex items-center rounded px-2.5 py-0.5 text-xs font-medium border min-w-full space-x-2"},ot=e("span",null," Total ",-1),lt={class:"text-blue-600 text-sm"},nt={href:"#",class:"text-indigo-600 hover:text-indigo-900"},it=x("Edit"),at={class:"sr-only"};function ct(i,t,l,dt,o,m){const w=h("Head"),k=h("SearchInput"),v=h("MultiSelect"),C=h("Paginator"),S=h("BreezeAuthenticatedLayout");return a(),c(_,null,[u(w,{title:"Profile"}),u(S,null,{header:y(()=>[O]),default:y(()=>[e("div",M,[e("div",U,[e("div",K,[u(k,{placeholderStr:"Name",modelValue:o.filters.name,"onUpdate:modelValue":t[0]||(t[0]=r=>o.filters.name=r),onInput:t[1]||(t[1]=r=>m.onSearchFilterUpdated())},{default:y(()=>[L]),_:1},8,["modelValue"]),u(k,{placeholderStr:"UEN",modelValue:o.filters.uen,"onUpdate:modelValue":t[2]||(t[2]=r=>o.filters.uen=r),onInput:t[3]||(t[3]=r=>m.onSearchFilterUpdated())},{default:y(()=>[A]),_:1},8,["modelValue"])]),e("div",D,[e("div",H,[e("p",q,[Q,e("span",G,s(i.profiles.meta.from),1),J,e("span",R,s(i.profiles.meta.to),1),W,e("span",X,s(i.profiles.meta.total),1),Y]),e("div",Z,[u(v,{modelValue:o.filters.numberPerPage,"onUpdate:modelValue":t[4]||(t[4]=r=>o.filters.numberPerPage=r),options:[{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],"custom-label":m.getNumberPerPageLabel,"close-on-select":!0,"clear-on-select":!1,placeholder:"Select","track-by":"id","open-direction":"bottom",onOnSelected:m.onNumberPerPageSelected},null,8,["modelValue","custom-label","onOnSelected"])])])])]),e("div",I,[e("div",$,[e("div",ee,[e("table",te,[e("thead",re,[e("tr",se,[oe,e("th",le,[e("div",ne,[e("a",{href:"#",class:"text-blue-600 hover:text-blue-800",onClick:t[5]||(t[5]=r=>m.sortTable("code"))}," Code "),e("div",ie,[o.filters.sortKey==="code"&&o.filters.sortBy?(a(),c("span",ae,de)):g("",!0),o.filters.sortKey==="code"&&!o.filters.sortBy?(a(),c("span",pe,ge)):g("",!0)])])]),e("th",be,[e("div",ue,[e("a",{href:"#",class:"text-blue-600 hover:text-blue-800",onClick:t[6]||(t[6]=r=>m.sortTable("temp"))}," Temp(C) "),e("div",he,[o.filters.sortKey==="temp"&&o.filters.sortBy?(a(),c("span",_e,fe)):g("",!0),o.filters.sortKey==="temp"&&!o.filters.sortBy?(a(),c("span",xe,we)):g("",!0)])])]),ve,Ce,Se,e("th",Be,[e("div",Pe,[e("a",{href:"#",class:"text-blue-600 hover:text-blue-800",onClick:t[7]||(t[7]=r=>m.sortTable("temp_updated_at"))}," Last Temp "),e("div",Ee,[o.filters.sortKey==="temp_updated_at"&&o.filters.sortBy?(a(),c("span",je,ze)):g("",!0),o.filters.sortKey==="temp_updated_at"&&!o.filters.sortBy?(a(),c("span",Ve,Fe)):g("",!0)])])]),e("th",Oe,[e("div",Me,[e("a",{href:"#",class:"text-blue-600 hover:text-blue-800",onClick:t[8]||(t[8]=r=>m.sortTable("coin_amount"))}," Coin Amount "),e("div",Ue,[o.filters.sortKey==="coin_amount"&&o.filters.sortBy?(a(),c("span",Ke,Ae)):g("",!0),o.filters.sortKey==="coin_amount"&&!o.filters.sortBy?(a(),c("span",De,qe)):g("",!0)])])]),Qe,Ge,Je,Re,We])]),e("tbody",Xe,[(a(!0),c(_,null,f(l.vends.data,(r,p)=>(a(),c("tr",{key:r.id,class:"divide-x divide-gray-200"},[e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-right"])},s(l.vends.meta.from+p),3),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-right"])},s(r.code),3),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-600 sm:pl-6 lg:pl-8"],"text-right"])},[e("div",Ye,[e("button",{type:"button",class:d(["inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs tracking-wide focus:outline-none disabled:opacity-25 transition ease-in-out duration-150 text-black w-4/5 text-right justify-center",[r.temp>-15?"bg-red-400 active:bg-red-500 hover:bg-red-600":"bg-green-400 active:bg-green-500 hover:bg-green-600"]]),onClick:n=>m.onVendTempClicked(r.id)},s(r.is_temp_error?"Error":r.temp),11,Ze)])],2),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-center"])},s(r.name),3),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-normal py-2 pl-2 pr-1 text-sm font-medium text-gray-800 sm:pl-1 lg:pl-2"],"text-center"])},[(a(!0),c(_,null,f(r.vend_channels.map(function(n){return n}).filter(function(n){var b;return(b=n.vend_channel_error_logs.length)!=null?b:n.vend_channel_error_logs}),n=>(a(),c("span",Ie,[(a(!0),c(_,null,f(n.vend_channel_error_logs.filter(function(b){return!b.is_error_cleared}),b=>(a(),c("span",{class:d(["inline-flex items-center rounded px-2.5 py-0.5 text-xs font-medium border",[b.is_error_cleared?"bg-green-100 text-green-800":"bg-red-100 text-red-800"]])}," #"+s(n.code)+", "+s(b.vend_channel_error.desc),3))),256))]))),256))],2),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","py-1 pl-1 pr-1 text-sm font-medium text-gray-800"],"text-center"])},[e("div",$e,[(a(!0),c(_,null,f(r.vend_channels.map(function(n){return n}).filter(function(n){return n.capacity>0&&n.code<1e3}),n=>(a(),c("div",{class:d(["inline-flex items-center rounded px-2.5 py-0.5 text-xs font-medium border min-w-full",[n.capacity>0?"bg-gray-50 text-gray-900":"bg-red-100 text-red-800"]])},[e("div",et," #"+s(n.code)+", ",1),e("div",tt,s(n.capacity-n.qty)+", ",1),e("div",rt,s(n.qty)+"/"+s(n.capacity),1)],2))),256)),e("div",st,[ot,e("span",lt,s(m.getTotalCapacity(r)-m.getTotalQty(r))+", ",1),e("span",null,s(m.getTotalQty(r))+"/"+s(m.getTotalCapacity(r)),1)])])],2),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},s(r.temp_updated_at),3),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-right"])},s(r.coin_amount),3),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-center"])},s(r.serial_num),3),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},s(r.firmware_ver),3),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},s(r.is_door_open),3),e("td",{class:d([[p!==l.vends.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},s(r.is_sensor_normal),3),e("td",{class:d([p!==l.vends.length-1?"border-b border-gray-200":"","relative whitespace-nowrap py-4 pr-4 pl-3 text-right text-sm font-medium sm:pr-6 lg:pr-8"])},[e("a",nt,[it,e("span",at,", "+s(r.name),1)])],2)]))),128))])]),u(C,{links:l.vends.links,meta:l.vends.meta},null,8,["links","meta"])])])])])]),_:1})],64)}const _t=N(F,[["render",ct]]);export{_t as default};
