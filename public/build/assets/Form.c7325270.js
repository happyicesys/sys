import{o as d,f as x,b as a,h as w,T as m,j as V,c,a as l,w as n,s as k,t as C,m as v,d as p,u as f,e as S}from"./app.30423f2f.js";import{_ as b}from"./Button.5a27c271.js";import{_}from"./FormInput.a759b357.js";import{_ as $}from"./Modal.5e4dbe27.js";import{r as B}from"./ArrowUturnLeftIcon.0a5fb242.js";import{r as M}from"./CheckCircleIcon.c30dd6de.js";import"./open-closed.dc0d3020.js";function N(s,u){return d(),x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M2.232 12.207a.75.75 0 011.06.025l3.958 4.146V6.375a5.375 5.375 0 0110.75 0V9.25a.75.75 0 01-1.5 0V6.375a3.875 3.875 0 00-7.75 0v10.003l3.957-4.146a.75.75 0 011.085 1.036l-5.25 5.5a.75.75 0 01-1.085 0l-5.25-5.5a.75.75 0 01.025-1.06z","clip-rule":"evenodd"})])}const j={class:"flex flex-col md:flex-row space-x-2"},U=a("span",{class:"text-gray-600"}," Editing ",-1),E={key:0},O=["onSubmit"],T={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6 pb-2"},D={class:"sm:col-span-6"},F={class:"sm:col-span-6"},q={class:"sm:col-span-6"},z={class:"sm:col-span-6"},A={class:"flex space-x-1 mt-5 justify-end"},K=a("span",null," Back ",-1),P=a("span",null," Unbind ",-1),G=a("span",null," Save ",-1),X={__name:"Form",props:{vend:Object,countries:Object,permissions:[Array,Object],type:String,showModal:Boolean},emits:["modalClose"],setup(s,{emit:u}){const r=s,e=w(m(g()));V(()=>{e.value=r.vend?m(r.vend):m(g()),e.value.name=r.vend.customer_code?r.vend.customer_code+"    "+r.vend.customer_name:r.vend.name});function g(){return{name:"",serial_num:"",private_key:""}}function y(){e.value.clearErrors(),e.value.post("/vends/"+e.value.id+"/update",{onSuccess:()=>{u("modalClose")},preserveState:!0,replace:!0})}function h(i){e.value.post("/vends/"+i+"/unbind",{onSuccess:()=>{u("modalClose")},preserveState:!0,replace:!0})}return(i,t)=>(d(),c(k,{to:"body"},[l($,{open:s.showModal,onModalClose:t[5]||(t[5]=o=>i.$emit("modalClose"))},{header:n(()=>[a("div",j,[U,s.vend?(d(),x("span",E,C(s.vend.code),1)):v("",!0)])]),default:n(()=>[a("form",{onSubmit:S(y,["prevent"]),id:"submit"},[a("div",T,[a("div",D,[l(_,{modelValue:e.value.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value.name=o),error:e.value.errors.name,required:"true",disabled:s.vend.customer_code&&s.vend.customer_name},{default:n(()=>[p(" Name ")]),_:1},8,["modelValue","error","disabled"])]),a("div",F,[l(_,{modelValue:e.value.serial_num,"onUpdate:modelValue":t[1]||(t[1]=o=>e.value.serial_num=o),error:e.value.errors.serial_num,disabled:!s.permissions.includes("update vends")},{default:n(()=>[p(" Serial Number ")]),_:1},8,["modelValue","error","disabled"])]),a("div",q,[l(_,{modelValue:e.value.private_key,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value.private_key=o),error:e.value.errors.private_key,disabled:!s.permissions.includes("update vends")},{default:n(()=>[p(" Private Key ")]),_:1},8,["modelValue","error","disabled"])])]),a("div",z,[a("div",A,[l(b,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1",onClick:t[3]||(t[3]=o=>i.$emit("modalClose")),form:"submit"},{default:n(()=>[l(f(B),{class:"w-4 h-4"}),K]),_:1}),s.vend.latestVendBinding&&s.vend.latestVendBinding.customer&&s.permissions.includes("update vends")?(d(),c(b,{key:0,type:"button",class:"bg-yellow-500 hover:bg-yellow-600 text-white flex space-x-1",onClick:t[4]||(t[4]=o=>h(e.value.id))},{default:n(()=>[l(f(N),{class:"w-4 h-4"}),P]),_:1})):v("",!0),s.permissions.includes("update vends")?(d(),c(b,{key:1,type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:n(()=>[l(f(M),{class:"w-4 h-4"}),G]),_:1})):v("",!0)])])],40,O)]),_:1},8,["open"])]))}};export{X as default};
