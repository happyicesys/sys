import{_ as G}from"./Authenticated.29c839c2.js";import{_ as U}from"./Button.94ae22a8.js";import{r as D,a as F,T as p,_ as b,b as H,c as g}from"./TableHeadSort.40b42a01.js";import{_ as v}from"./SearchInput.e9bb8f07.js";import{_ as V}from"./MultiSelect.f58df091.js";import{i as h,j as A,o as c,g as _,a as n,b as L,w as l,F as k,H as q,d as t,t as r,m as P,p as f,c as M,f as a,J as I,n as x}from"./app.42d568d3.js";import"./open-closed.f08df4dd.js";import"./use-resolve-button-type.36166630.js";import"./RectangleStackIcon.c4a12ebf.js";import"./_plugin-vue_export-helper.cdc0426e.js";const R=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Vending Machines (List) ",-1),z={class:"m-2 sm:mx-5 sm:my-3 px-2 sm:px-4 lg:px-6"},Y={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-5 px-3 md:px-6 py-6"},Q={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},W=a(" Vend ID "),X=a(" Serial Num "),Z=a(" Temp >> "),ee=t("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Errors? ",-1),te=a(" Cust ID "),ne=a(" Cust ID Name "),oe=t("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Category ",-1),se=t("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Group ",-1),le=t("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Is Online? ",-1),ae={class:"flex flex-col space-y-3 md:flex-row md:space-y-0 justify-between mt-5"},re={class:"mt-3"},ie={class:"flex space-x-1"},de=t("span",null," Search ",-1),ue=t("span",null," Reset ",-1),ce={class:"flex flex-col space-y-2"},me={class:"text-sm text-gray-700 leading-5 flex space-x-1"},ge=t("span",null,"Showing",-1),_e={class:"font-medium"},pe=t("span",null,"to",-1),fe={class:"font-medium"},he=t("span",null,"of",-1),xe={class:"font-medium"},ye=t("span",null,"results",-1),be={class:"mt-6 flex flex-col"},ve={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},Ve={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},ke={class:"min-w-full border-separate",style:{"border-spacing":"0"}},Se={class:"bg-gray-100"},Be={class:"divide-x divide-gray-200"},Ce=a(" # "),we=a(" Code "),Te=a(" Name "),Le=a(" Category "),Pe=a(" Error(s) "),Ie=a(" Inventory Status "),Je=a(" Temp "),Ne=t("br",null,null,-1),je=a(" (Chamber) "),Ke=a(" Temp "),Oe=t("br",null,null,-1),$e=a(" (Evaporator) "),Ue=a(" Balance Stock "),Ee=a(" Out of Stock SKU "),Ge=a(" Firmware Ver "),De=a(" Status "),Fe=a(" Serial Num "),He={class:"bg-white"},Ae=t("br",null,null,-1),qe=t("br",null,null,-1),Me={class:"flex flex-col"},Re={class:"font-bold"},ze={class:"grid grid-cols-[120px_minmax(120px,_1fr)_120px] gap-1"},Ye={class:"font-semibold"},Qe={class:"text-blue-600 text-sm pl-1"},We={class:"pl-1"},Xe={class:"flex flex-col items-center"},Ze=["onClick"],et={class:"mt-1"},tt={class:"flex flex-col items-center"},nt=["onClick"],ot={key:0},st=t("br",null,null,-1),lt={key:0},at=t("br",null,null,-1),rt={class:"grid grid-cols-[80px_minmax(80px,_1fr)_80px] gap-1"},it={key:1,class:"inline-flex justify-between items-center rounded px-0.5 py-0.5 text-xs font-medium border min-w-full bg-green-200"},dt={key:0},ut=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),ct=[ut],Vt={__name:"Index",props:{categories:Object,categoryGroups:Object,vends:Object,vendChannelErrors:Object,constTempError:Number},setup(i){const S=i,o=h({code:"",serialNum:"",customer_code:"",customer_name:"",categories:[],categoryGroups:[],tempHigherThan:"",vend_channel_error_id:"",is_online:"",sortKey:"",sortBy:!0,numberPerPage:""}),B=h([]),C=h([]),J=h([]),N=h([]),w=h([]);A(()=>{B.value=[{id:"",desc:"All"},{id:"errors_only",desc:"Errors Only"},...S.vendChannelErrors.data],C.value=[{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],o.value.vend_channel_error_id=B.value[0],o.value.numberPerPage=C.value[0],J.value=S.categories.data.map(d=>({id:d.id,name:d.name})),N.value=S.categoryGroups.data.map(d=>({id:d.id,name:d.name})),w.value=[{id:"all",value:"All"},{id:"true",value:"Yes"},{id:"false",value:"No"}],o.value.is_online=w.value[1]});function T(){I.Inertia.get("/vends",{...o.value,vend_channel_error_id:o.value.vend_channel_error_id.id,categories:o.value.categories.map(d=>d.id),categoryGroups:o.value.categoryGroups.map(d=>d.id),is_online:o.value.is_online.id,numberPerPage:o.value.numberPerPage.id},{preserveState:!0,replace:!0})}function j(d,s){I.Inertia.get("/vends/"+d+"/temp/"+s)}function E(){I.Inertia.get("/vends")}function y(d){o.value.sortKey=d,o.value.sortBy=!this.filters.sortBy,T()}return(d,s)=>(c(),_(k,null,[n(L(q),{title:"Vending Machines"}),n(G,null,{header:l(()=>[R]),default:l(()=>{var K,O;return[t("div",z,[t("div",Y,[t("div",Q,[n(v,{placeholderStr:"Code",modelValue:o.value.code,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value.code=e)},{default:l(()=>[W]),_:1},8,["modelValue"]),n(v,{placeholderStr:"Serial Num",modelValue:o.value.serialNum,"onUpdate:modelValue":s[1]||(s[1]=e=>o.value.serialNum=e)},{default:l(()=>[X]),_:1},8,["modelValue"]),n(v,{placeholderStr:"Number",modelValue:o.value.tempHigherThan,"onUpdate:modelValue":s[2]||(s[2]=e=>o.value.tempHigherThan=e)},{default:l(()=>[Z]),_:1},8,["modelValue"]),t("div",null,[ee,n(V,{modelValue:o.value.vend_channel_error_id,"onUpdate:modelValue":s[3]||(s[3]=e=>o.value.vend_channel_error_id=e),options:B.value,trackBy:"id",valueProp:"id",label:"desc",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])]),n(v,{placeholderStr:"Cust ID",modelValue:o.value.customer_code,"onUpdate:modelValue":s[4]||(s[4]=e=>o.value.customer_code=e)},{default:l(()=>[te]),_:1},8,["modelValue"]),n(v,{placeholderStr:"Cust ID Name",modelValue:o.value.customer_name,"onUpdate:modelValue":s[5]||(s[5]=e=>o.value.customer_name=e)},{default:l(()=>[ne]),_:1},8,["modelValue"]),t("div",null,[oe,n(V,{modelValue:o.value.categories,"onUpdate:modelValue":s[6]||(s[6]=e=>o.value.categories=e),options:J.value,trackBy:"id",valueProp:"id",label:"name",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])]),t("div",null,[se,n(V,{modelValue:o.value.categoryGroups,"onUpdate:modelValue":s[7]||(s[7]=e=>o.value.categoryGroups=e),options:N.value,trackBy:"id",valueProp:"id",label:"name",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])]),t("div",null,[le,n(V,{modelValue:o.value.is_online,"onUpdate:modelValue":s[8]||(s[8]=e=>o.value.is_online=e),options:w.value,trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])]),t("div",ae,[t("div",re,[t("div",ie,[n(U,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:s[9]||(s[9]=e=>T())},{default:l(()=>[n(L(D),{class:"h-4 w-4","aria-hidden":"true"}),de]),_:1}),n(U,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-gray-300 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-gray-800 shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:s[10]||(s[10]=e=>E())},{default:l(()=>[n(L(F),{class:"h-4 w-4","aria-hidden":"true"}),ue]),_:1})])]),t("div",ce,[t("p",me,[ge,t("span",_e,r((K=i.vends.meta.from)!=null?K:0),1),pe,t("span",fe,r((O=i.vends.meta.to)!=null?O:0),1),he,t("span",xe,r(i.vends.meta.total),1),ye]),n(V,{modelValue:o.value.numberPerPage,"onUpdate:modelValue":s[11]||(s[11]=e=>o.value.numberPerPage=e),options:C.value,trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1",onSelected:T},null,8,["modelValue","options"])])])]),t("div",be,[t("div",ve,[t("div",Ve,[t("table",ke,[t("thead",Se,[t("tr",Be,[n(p,null,{default:l(()=>[Ce]),_:1}),n(b,{modelName:"code",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[12]||(s[12]=e=>y("code"))},{default:l(()=>[we]),_:1},8,["sortKey","sortBy"]),n(p,null,{default:l(()=>[Te]),_:1}),n(p,null,{default:l(()=>[Le]),_:1}),n(p,null,{default:l(()=>[Pe]),_:1}),n(p,null,{default:l(()=>[Ie]),_:1}),n(b,{modelName:"temp",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[13]||(s[13]=e=>y("temp"))},{default:l(()=>[Je,Ne,je]),_:1},8,["sortKey","sortBy"]),n(b,{modelName:"parameter_json->t2",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[14]||(s[14]=e=>y("parameter_json->t2"))},{default:l(()=>[Ke,Oe,$e]),_:1},8,["sortKey","sortBy"]),n(b,{modelName:"vend_channel_totals_json->balancePercent",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[15]||(s[15]=e=>y("vend_channel_totals_json->balancePercent"))},{default:l(()=>[Ue]),_:1},8,["sortKey","sortBy"]),n(b,{modelName:"vend_channel_totals_json->outOfStockSkuPercent",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[16]||(s[16]=e=>y("vend_channel_totals_json->outOfStockSkuPercent"))},{default:l(()=>[Ee]),_:1},8,["sortKey","sortBy"]),n(p,null,{default:l(()=>[Ge]),_:1}),n(p,null,{default:l(()=>[De]),_:1}),n(p,null,{default:l(()=>[Fe]),_:1})])]),t("tbody",He,[(c(!0),_(k,null,P(i.vends.data,(e,u)=>(c(),_("tr",{key:e.id,class:"divide-x divide-gray-200"},[n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[a(r(i.vends.meta.from+u),1)]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[a(r(e.code),1)]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-left"},{default:l(()=>[a(r(e.latestVendBinding&&e.latestVendBinding.customer?e.latestVendBinding.customer.code:null)+" ",1),Ae,a(" "+r(e.latestVendBinding&&e.latestVendBinding.customer?e.latestVendBinding.customer.name:null),1)]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-left"},{default:l(()=>[a(r(e.latestVendBinding&&e.latestVendBinding.customer&&e.latestVendBinding.customer.category?e.latestVendBinding.customer.category.name:null)+" ",1),qe,a(" "+r(e.latestVendBinding&&e.latestVendBinding.customer&&e.latestVendBinding.customer.category&&e.latestVendBinding.customer.category.category_group?e.latestVendBinding.customer.category.category_group.name:null),1)]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[(c(!0),_(k,null,P(e.vendChannelErrorLogsJson,m=>(c(),_("span",{class:x(["inline-flex items-center rounded px-2.5 py-0.5 text-xs font-medium border",[m.is_error_cleared?"bg-green-100 text-green-800":"bg-red-100 text-red-800"]])},[t("div",Me,[t("div",null,[a(" #"+r(m.vend_channel.code)+", ",1),t("span",Re," ("+r(m.vend_channel_error.code)+") ",1)]),t("div",null,r(m.created_at),1)])],2))),256))]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[t("div",ze,[(c(!0),_(k,null,P(e.vendChannelsJson,(m,$)=>(c(),_("div",{class:x(["inline-flex justify-between items-center rounded px-2.5 py-0.5 text-xs font-medium border min-w-full",[$>0&&String(m.code)[0]!==String(e.vendChannelsJson[$-1].code)[0]?"col-start-1":""]])},[t("div",Ye," #"+r(m.code)+", ",1),t("div",Qe,r(m.capacity-m.qty)+", ",1),t("div",We,r(m.qty)+"/"+r(m.capacity),1)],2))),256))])]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[t("div",Xe,[t("button",{type:"button",class:x(["inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs tracking-wide focus:outline-none disabled:opacity-25 transition ease-in-out duration-150 text-black w-4/5 text-right justify-center",[e.temp>-15?"bg-red-400 active:bg-red-500 hover:bg-red-600":"bg-green-400 active:bg-green-500 hover:bg-green-600"]]),onClick:m=>j(e.id,1)},r(e.is_temp_error?"Error":e.temp),11,Ze),t("span",et,r(e.temp_updated_at),1)])]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[t("div",tt,[e.parameterJson&&e.parameterJson.t2?(c(),_("button",{key:0,type:"button",class:x(["inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs tracking-wide focus:outline-none disabled:opacity-25 transition ease-in-out duration-150 text-black w-4/5 text-right justify-center",[e.temp>-15||e.parameterJson.t2==i.constTempError?"bg-red-400 active:bg-red-500 hover:bg-red-600":"bg-green-400 active:bg-green-500 hover:bg-green-600"]]),onClick:m=>j(e.id,2)},r(e.parameterJson.t2==i.constTempError?"Error":e.parameterJson.t2/10),11,nt)):f("",!0)])]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[e.vendChannelTotalsJson?(c(),_("span",ot,[a(r(e.vendChannelTotalsJson.qty)+"/ "+r(e.vendChannelTotalsJson.capacity)+" ",1),st,a(" ("+r(e.vendChannelTotalsJson.balancePercent)+"%) ",1)])):f("",!0)]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[e.vendChannelTotalsJson?(c(),_("span",lt,[a(r(e.vendChannelTotalsJson.outOfStockSku)+"/ "+r(e.vendChannelTotalsJson.count)+" ",1),at,a(" ("+r(e.vendChannelTotalsJson.outOfStockSkuPercent)+"%) ",1)])):f("",!0)]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[a(r(e.firmware_ver),1)]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[t("div",rt,[t("div",{class:x(["inline-flex justify-center items-center rounded px-0.5 py-0.5 text-xs font-medium border min-w-full",[e.is_online?"bg-green-200":"bg-red-200"]])},r(e.is_online?"Online":"Offline"),3),e.parameterJson&&e.parameterJson.Sensor?(c(),_("div",{key:0,class:x(["inline-flex justify-between items-center rounded px-0.5 py-0.5 text-xs font-medium border min-w-full",[e.parameterJson.Sensor==1?"bg-green-200":"bg-red-200"]])}," Drop Sensor: "+r(e.parameterJson.Sensor==1?"Active":"Inactive"),3)):f("",!0),e.parameterJson&&e.parameterJson.fan?(c(),_("div",it," Fan Speed: "+r(e.parameterJson.fan),1)):f("",!0)])]),_:2},1032,["currentIndex","totalLength"]),n(g,{currentIndex:u,totalLength:i.vends.length,inputClass:"text-center"},{default:l(()=>[a(r(e.serial_num),1)]),_:2},1032,["currentIndex","totalLength"])]))),128)),i.vends.data.length?f("",!0):(c(),_("tr",dt,ct))])])]),i.vends.data.length?(c(),M(H,{key:0,links:i.vends.links,meta:i.vends.meta},null,8,["links","meta"])):f("",!0)])])])]}),_:1})],64))}};export{Vt as default};
