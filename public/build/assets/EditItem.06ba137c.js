import{K as h,g as j,T as v,h as O,c as u,a,w as d,p as $,o as l,b as e,t as S,u as n,d as I,f as g,l as f,n as V,e as y,O as w}from"./app.5b17978c.js";import{_ as c}from"./Button.319ffd0e.js";import{_ as U}from"./MultiSelect.17508aba.js";import{_ as B}from"./FormInput.16aea270.js";import{_ as K}from"./Modal.ebc05960.js";import{r as D}from"./ArrowUturnLeftIcon.bb26b075.js";import{r as A}from"./CheckCircleIcon.cfa1ae74.js";import{r as E}from"./PauseCircleIcon.45ecff66.js";import{r as N}from"./PlayCircleIcon.62a48b76.js";import{r as T}from"./BackspaceIcon.3170e436.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.74b65768.js";import"./open-closed.d4894a76.js";import"./disposables.ff86311b.js";const z={class:"flex flex-col md:flex-row space-x-2"},F=e("span",{class:"text-gray-600"}," Editing Channel ID ",-1),R=["onSubmit"],q={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6 pb-2"},G={class:"sm:col-span-6"},H=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Product ",-1),J={class:"mt-1"},L=["value"],Q={class:"sm:col-span-6"},W={class:"sm:col-span-6"},X=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Sub Category ",-1),Y={key:0,class:"text-sm text-red-600"},Z={class:"sm:col-span-6"},ee={class:"flex space-x-1 mt-5 justify-end"},te=e("span",null," Back ",-1),se=e("span",null," Save ",-1),oe={key:2,class:"text-xs"},re={key:3,class:"text-xs"},ae=e("span",{class:"text-xs"}," Unbind SKU ",-1),_e={__name:"EditItem",props:{deliveryProductMapping:Object,deliveryProductMappingItemObj:Object,showModal:Boolean},emits:["modalClose"],setup(o,{emit:p}){const m=o,b=h().props.auth.permissions,M=h().props.auth.roles,s=j(v(x())),_=j([]);O(()=>{_.value=m.deliveryProductMapping.category_json.subCategories,s.value=m.deliveryProductMappingItemObj?v(m.deliveryProductMappingItemObj):v(x())});function x(){return{amount:"",sub_category_json:""}}function k(){s.value.clearErrors(),s.value.post("/delivery-product-mapping-items/"+s.value.id+"/update",{onSuccess:()=>{p("modalClose")},preserveState:!0,preserveScroll:!0,replace:!0})}function C(i){let t=i.is_active?"Are you sure to pause this SKU?":"Are you sure to resume this SKU?";!confirm(t)||w.post("/delivery-product-mapping-items/"+i.id+"/toggle-pause",{},{onSuccess:()=>{p("modalClose")},preserveState:!1,preserveScroll:!0,replace:!0})}function P(i){!confirm("Are you sure to delete this entry?")||w.delete("/delivery-product-mapping-items/"+i,{onSuccess:()=>{p("modalClose")},preserveState:!1,preserveScroll:!0,replace:!0})}return(i,t)=>(l(),u($,{to:"body"},[a(K,{open:o.showModal,onModalClose:t[5]||(t[5]=r=>i.$emit("modalClose"))},{header:d(()=>[e("div",z,[F,e("span",null,S(o.deliveryProductMappingItemObj.channel_code),1)])]),default:d(()=>[e("form",{onSubmit:y(k,["prevent"]),id:"submit"},[e("div",q,[e("div",G,[H,e("div",J,[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:o.deliveryProductMappingItemObj.product.full_name,disabled:""},null,8,L)])]),e("div",Q,[a(B,{modelValue:s.value.amount,"onUpdate:modelValue":t[0]||(t[0]=r=>s.value.amount=r),error:s.value.errors.amount,disabled:!n(b).includes("update vends")},{default:d(()=>[I(" Amount ")]),_:1},8,["modelValue","error","disabled"])]),e("div",W,[X,a(U,{modelValue:s.value.sub_category_json,"onUpdate:modelValue":t[1]||(t[1]=r=>s.value.sub_category_json=r),options:_.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1"},null,8,["modelValue","options"]),s.value.errors.sub_category_json?(l(),g("div",Y,S(s.value.errors.sub_category_json),1)):f("",!0)])]),e("div",Z,[e("div",ee,[a(c,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1",onClick:t[2]||(t[2]=r=>i.$emit("modalClose")),form:"submit"},{default:d(()=>[a(n(D),{class:"w-4 h-4"}),te]),_:1}),n(b).includes("update vends")?(l(),u(c,{key:0,type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:d(()=>[a(n(A),{class:"w-4 h-4"}),se]),_:1})):f("",!0),a(c,{class:V(["flex space-x-1",[o.deliveryProductMappingItemObj.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:t[3]||(t[3]=y(r=>C(o.deliveryProductMappingItemObj),["prevent"]))},{default:d(()=>[o.deliveryProductMappingItemObj.is_active?(l(),u(n(E),{key:0,class:"w-3 h-3"})):(l(),u(n(N),{key:1,class:"w-3 h-3"})),o.deliveryProductMappingItemObj.is_active?(l(),g("span",oe," Pause SKU ")):(l(),g("span",re," Resume SKU "))]),_:1},8,["class"]),n(M).includes("superadmin")?(l(),u(c,{key:1,class:"bg-red-400 hover:bg-red-500 text-white flex space-x-1",onClick:t[4]||(t[4]=y(r=>P(o.deliveryProductMappingItemObj.id),["prevent"]))},{default:d(()=>[a(n(T),{class:"w-3 h-3"}),ae]),_:1})):f("",!0)])])],40,R)]),_:1},8,["open"])]))}};export{_e as default};
