import{_ as h}from"./Modal.b28b2b4d.js";import{l as g,j as f,o,c as v,a as b,w as m,T as w,d as e,g as n,p as d,t as r,b as l,m as k,F as M,f as _,n as x}from"./app.e1f61b61.js";import"./open-closed.1cd11faf.js";const B={class:"flex flex-col md:flex-row space-x-2"},C={key:0,class:"text-gray-600"},V={key:1},D={key:2},N={class:"flex flex-col"},j={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-3 lg:-mx-5"},F={class:"inline-block min-w-full py-2 align-middle md:px-4 lg:px-6"},O={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},P={class:"min-w-full divide-y divide-gray-300"},S={class:"bg-gray-50"},T=e("th",{scope:"col",class:"px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," # ",-1),$=e("th",{scope:"col",class:"px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Channel # ",-1),q={key:0,scope:"col",class:"px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},E=e("th",{scope:"col",class:"px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Sold ",-1),L=e("th",{scope:"col",class:"px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Balance ",-1),Y=e("th",{scope:"col",class:"px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Capacity ",-1),z={scope:"col",class:"px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},A=_(" Price "),I={key:0},J=e("th",{scope:"col",class:"px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Error ",-1),G={key:1,scope:"col",class:"px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},H={class:"bg-white"},K={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},Q={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},R={key:0,class:"whitespace-nowrap text-sm font-semibold text-gray-900 text-center"},U={class:"flex justify-center items-center"},W=["src"],X={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-600 sm:pl-6 text-center"},Z={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},ee={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},te={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},se={class:"py-1 pl-1 pr-1 text-xs font-medium text-gray-900 sm:pl-1 text-center"},oe={key:0},ne={class:"font-bold"},re={key:1,class:"whitespace-nowrap py-4 text-sm font-semibold text-gray-900 text-center"},de={key:0},ce={key:1,class:"break-all text-xs"},ae=e("br",null,null,-1),le={key:0,class:"flex flex-col items-end text-blue-800 text-sm p-3"},ie={key:0,class:""},pe={key:1},ye={__name:"ChannelOverview",props:{vend:Object,showModal:Boolean},emits:["modalClose"],setup(s,{emit:me}){const u=s,c=g().props.value.auth.profile;f(()=>{console.log(c.base_currency.currency_symbol)});function y(a){return moment(a).format("YYMMDD hh:mm A")}return(a,i)=>(o(),v(w,{to:"body"},[b(h,{open:s.showModal,onModalClose:i[0]||(i[0]=t=>a.$emit("modalClose"))},{header:m(()=>[e("div",B,[u.profile?(o(),n("span",C," Channel Overview ")):d("",!0),s.vend.code?(o(),n("span",V," ID# "+r(s.vend.code),1)):d("",!0),s.vend.latestVendBinding?(o(),n("span",D," ("+r(s.vend.latestVendBinding.customer?s.vend.latestVendBinding.customer.code:null)+") "+r(s.vend.latestVendBinding.customer?s.vend.latestVendBinding.customer.name:null),1)):d("",!0)])]),default:m(()=>[e("div",N,[e("div",j,[e("div",F,[e("div",O,[e("table",P,[e("thead",S,[e("tr",null,[T,$,s.vend.productMapping?(o(),n("th",q," Image ")):d("",!0),E,L,Y,e("th",z,[A,l(c)&&l(c).base_currency?(o(),n("span",I," ("+r(l(c).base_currency.currency_symbol)+") ",1)):d("",!0)]),J,s.vend.productMapping?(o(),n("th",G," Product ")):d("",!0)])]),e("tbody",H,[(o(!0),n(M,null,k(s.vend.vendChannelsJson,(t,p)=>(o(),n("tr",{key:t.id,class:x(p%2===0?void 0:"bg-gray-50")},[e("td",K,r(p+1),1),e("td",Q,r(t.code),1),s.vend.productMapping?(o(),n("td",R,[e("div",U,[t.product&&t.product.thumbnail?(o(),n("img",{key:0,class:"h-16 w-16 rounded-full",src:t.product.thumbnail.full_url,alt:""},null,8,W)):d("",!0)])])):d("",!0),e("td",X,r(t.capacity-t.qty),1),e("td",Z,r(t.qty),1),e("td",ee,r(t.capacity),1),e("td",te,r((t.amount/100).toLocaleString(void 0,{minimumFractionDigits:2})),1),e("td",se,[t.vend_channel_error_logs&&t.vend_channel_error_logs[0]&&t.vend_channel_error_logs[0].is_error_cleared==0?(o(),n("span",oe,[e("div",{class:x([t.vend_channel_error_logs[0].vend_channel_error.code==4||t.vend_channel_error_logs[0].vend_channel_error.code==5||t.vend_channel_error_logs[0].vend_channel_error.code==7?" text-blue-800":" text-red-800"])},[e("span",ne," ("+r(t.vend_channel_error_logs[0].vend_channel_error.code)+") ",1),e("div",null,r(y(t.vend_channel_error_logs[0].created_at)),1)],2)])):d("",!0)]),s.vend.productMapping?(o(),n("td",re,[t.product&&t.product.code?(o(),n("span",de,r(t.product.code),1)):d("",!0),t.product&&t.product.name?(o(),n("span",ce,[ae,_(" "+r(t.product.name),1)])):d("",!0)])):d("",!0)],2))),128))])])])])])]),s.vend.productMapping?(o(),n("p",le,[s.vend.productMapping.name?(o(),n("span",ie,r(s.vend.productMapping.name),1)):d("",!0),s.vend.productMapping.remarks?(o(),n("span",pe,r(s.vend.productMapping.remarks),1)):d("",!0)])):d("",!0)]),_:1},8,["open"])]))}};export{ye as default};
