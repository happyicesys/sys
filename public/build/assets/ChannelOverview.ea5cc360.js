import{g,Q as S,h as $,c as n,a as _,w as m,p as B,o as s,b as e,f as o,t as i,l,d,k as q,F as D,n as v,e as h,u,O as b}from"./app.9b84c90b.js";import{_ as w}from"./Button.8a55519a.js";import{_ as k}from"./FormInput.3867eb99.js";import{_ as N}from"./Modal.0906468e.js";import{r as O}from"./CheckCircleIcon.a026443c.js";import{r as Q}from"./PencilSquareIcon.64be4b46.js";import{r as U}from"./PauseCircleIcon.a7f54ad7.js";import{r as A}from"./PlayCircleIcon.71245c66.js";import"./keyboard.338e4416.js";import"./disposables.0cfc25f9.js";const E={class:"flex flex-col md:flex-row space-x-2"},F=e("span",{class:"text-gray-600"}," Delivery Product Mapping Vend ",-1),I={key:0},R={key:1},T={class:"flex flex-col"},j={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-3 lg:-mx-5"},L={class:"inline-block min-w-full py-2 align-middle md:px-4 lg:px-6"},z={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},G={class:"table-auto min-w-full divide-y divide-gray-300"},H={class:"bg-gray-50"},J=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," # ",-1),K=e("th",{scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Image ",-1),W=e("th",{scope:"col",class:"w-3/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Product ",-1),X={scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},Y={key:0},Z=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[d(" Reserved "),e("br"),d(" (%) ")],-1),ee=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[d(" Reserved "),e("br"),d(" Qty ")],-1),te=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[d(" Booked "),e("br"),d(" Qty ")],-1),se=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[d(" Current "),e("br"),d(" Qty ")],-1),oe=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[d(" Current "),e("br"),d(" Capacity ")],-1),re=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Status ",-1),ie=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},null,-1),de={class:"bg-white"},ae={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},le={class:"whitespace-nowrap text-sm font-semibold text-gray-900 text-center"},pe={class:"flex justify-center items-center"},ne=["src"],ce={class:"py-4 text-sm font-semibold text-gray-900 text-center"},_e={key:0},me={key:1,class:"break-normal text-xs"},ue=e("br",null,null,-1),xe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},ye={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-red-700 sm:pl-6 text-center"},ge={key:0},ve={key:1},fe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-red-700 sm:pl-6 text-center"},he={key:0},be={key:1},we={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},ke={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},Ce={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-blue-700 sm:pl-6 text-center"},Ve={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},Me={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},Pe={key:0,class:"inline-flex items-center rounded-md bg-green-300 px-1.5 py-0.5 text-xs font-medium text-green-800 ring-1 ring-inset ring-indigo-700/10"},Se={key:1,class:"inline-flex items-center rounded-md bg-red-200 px-1.5 py-0.5 text-xs font-medium text-red-700 ring-1 ring-inset ring-indigo-700/10"},$e={class:"whitespace-nowrap py-2 pl-4 pr-2 text-sm font-normal text-gray-900 sm:pl-3 text-center flex flex-col space-y-1 py-3"},Be={key:2,class:"text-xs"},qe={key:3,class:"text-xs"},De={key:2,class:"text-xs"},Ne={key:3,class:"text-xs"},Le={__name:"ChannelOverview",props:{deliveryProductMappingVendModel:Object,showModal:Boolean},emits:["modalClose"],setup(f,{emit:C}){const x=f;g([]),S().props.auth.permissions;const r=g(x.deliveryProductMappingVendModel);g(!1);const y=C;$(()=>{});function V(a){let p=a.is_active?"Are you sure to pause this channel?":"Are you sure to resume this channel?";!confirm(p)||(b.post("/delivery-product-mappings/channels/"+a.id+"/toggle-pause",{preserveState:!1,preserveScroll:!0,replace:!0,onSuccess:()=>{y("modalClose")}}),y("modalClose"))}function M(a){x.vend.deliveryProductMappingVendChannels[x.vend.deliveryProductMappingVendChannels.findIndex(p=>p.id===a.id)].is_editable=!a.is_editable,a.is_editable||b.post("/delivery-product-mappings/channels/"+a.id+"/update",a,{preserveState:!1,preserveScroll:!0,replace:!0,onSuccess:()=>{y("modalClose")}})}return(a,p)=>(s(),n(B,{to:"body"},[_(N,{open:f.showModal,onModalClose:p[0]||(p[0]=t=>a.$emit("modalClose"))},{header:m(()=>[e("div",E,[F,r.value.vend.code?(s(),o("span",I," ID# "+i(r.value.vend.code),1)):l("",!0),r.value.vend&&r.value.vend.customer_code?(s(),o("span",R," ("+i(r.value.vend.customer_code?r.value.vend.customer_code:null)+") "+i(r.value.vend.customer_name?r.value.vend.customer_name:null),1)):l("",!0)])]),default:m(()=>[e("div",T,[e("div",j,[e("div",L,[e("div",z,[e("table",G,[e("thead",H,[e("tr",null,[J,K,W,e("th",X,[d(" Price "),r.value.deliveryProductMapping&&r.value.deliveryProductMapping.operator&&r.value.deliveryProductMapping.operator.country?(s(),o("span",Y," ("+i(r.value.deliveryProductMapping.operator.country.currency_symbol)+") ",1)):l("",!0)]),Z,ee,te,se,oe,re,ie])]),e("tbody",de,[(s(!0),o(D,null,q(r.value.deliveryProductMappingVendChannels,(t,P)=>(s(),o("tr",{key:t.id,class:v(P%2===0?void 0:"bg-gray-50")},[e("td",ae,i(t.vend_channel_code),1),e("td",le,[e("div",pe,[t.delivery_product_mapping_item&&t.delivery_product_mapping_item.product&&t.delivery_product_mapping_item.product.thumbnail.full_url?(s(),o("img",{key:0,class:"h-16 w-16 rounded-full",src:t.delivery_product_mapping_item.product.thumbnail.full_url,alt:""},null,8,ne)):l("",!0)])]),e("td",ce,[t.delivery_product_mapping_item&&t.delivery_product_mapping_item.product?(s(),o("span",_e,i(t.delivery_product_mapping_item.product.code),1)):l("",!0),t.delivery_product_mapping_item&&t.delivery_product_mapping_item.product?(s(),o("span",me,[ue,d(" "+i(t.delivery_product_mapping_item.product.name),1)])):l("",!0)]),e("td",xe,i(t.amount.toLocaleString(void 0,{minimumFractionDigits:2})),1),e("td",ye,[t.is_editable?(s(),o("span",ve,[_(k,{modelValue:t.reserved_percent,"onUpdate:modelValue":c=>t.reserved_percent=c},null,8,["modelValue","onUpdate:modelValue"])])):(s(),o("span",ge,i(t.reserved_percent),1))]),e("td",fe,[t.is_editable?(s(),o("span",be,[_(k,{modelValue:t.reserved_qty,"onUpdate:modelValue":c=>t.reserved_qty=c},null,8,["modelValue","onUpdate:modelValue"])])):(s(),o("span",he,i(t.reserved_qty),1))]),e("td",we,i(t.order_qty),1),e("td",ke,i(t.vend_channel.qty),1),e("td",Ce,i(t.vend_channel.capacity),1),e("td",Ve,[e("td",Me,[t.is_active==1?(s(),o("span",Pe," Active ")):l("",!0),t.is_active==0?(s(),o("span",Se," Paused ")):l("",!0)])]),e("td",$e,[_(w,{class:v(["flex space-x-1",[t.is_editable?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-400 hover:bg-gray-800 text-black"]]),onClick:h(c=>M(t),["prevent"])},{default:m(()=>[t.is_editable?(s(),n(u(O),{key:0,class:"w-3 h-3"})):(s(),n(u(Q),{key:1,class:"w-3 h-3"})),t.is_editable?(s(),o("span",Be," Save ")):(s(),o("span",qe," Edit "))]),_:2},1032,["class","onClick"]),t.is_editable?l("",!0):(s(),n(w,{key:0,class:v(["flex space-x-1",[t.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:h(c=>V(t),["prevent"])},{default:m(()=>[t.is_active?(s(),n(u(U),{key:0,class:"w-3 h-3"})):(s(),n(u(A),{key:1,class:"w-3 h-3"})),t.is_active?(s(),o("span",De," Pause ")):(s(),o("span",Ne," Resume "))]),_:2},1032,["class","onClick"]))])],2))),128))])])])])])])]),_:1},8,["open"])]))}};export{Le as default};
