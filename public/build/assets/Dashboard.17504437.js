import{_ as F}from"./Authenticated.af53e02d.js";import{_ as v}from"./Graph.28b2ff9d.js";import{h as o,K as L,U as V,f as d,a as y,u as Z,w as O,F as k,o as n,Z as E,b as t,l as M,m as P,t as u,d as N}from"./app.c9728998.js";import"./open-closed.808e42b1.js";import"./use-resolve-button-type.5e7f01a1.js";import"./RectangleStackIcon.bc25dd82.js";const T=t("div",{class:"flex flex-col space-y-1"},[t("div",{class:"flex space-x-2 items-center"}," Dashboard ")],-1),z={class:"p-3"},R={class:"max-w-7xl mx-auto sm:px-3 lg:px-2"},K={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},U={class:"p-1 bg-white border-b border-gray-200 flex flex-col space-y-6"},q={class:"flex flex-col md:flex-row pt-5"},H={class:"md:basis-1/3 m-1"},Q={class:"md:basis-2/3 my-1 mx-4 px-4"},W=t("p",{class:"text-sm"}," Past 7 Days - Top 10 Best Performance ",-1),X={class:"mt-2 flow-root"},Y={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},I={class:"inline-block min-w-full py-2 align-middle sm:px-3 lg:px-4"},tt={class:"overflow-auto shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},et={class:"min-w-full divide-y divide-gray-300"},at=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"py-2 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," # "),t("th",{scope:"col",class:"px-3 py-2 text-left text-sm font-semibold text-gray-900"}," Vending Machine "),t("th",{scope:"col",class:"px-3 py-2 text-left text-sm font-semibold text-gray-900"}," Amount($) "),t("th",{scope:"col",class:"px-3 py-2 text-left text-sm font-semibold text-gray-900"}," Sales(#) ")])],-1),st={class:"divide-y divide-gray-200 bg-white"},rt={class:"whitespace-nowrap py-1 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},ot={class:"whitespace-nowrap px-3 py-1 text-sm text-gray-600"},lt={key:0},it=t("br",null,null,-1),pt={key:1},ct={class:"whitespace-nowrap px-3 py-1 text-sm text-gray-500 text-right mx-3"},dt={class:"whitespace-nowrap px-3 py-1 text-sm text-gray-500 text-right mx-3"},nt={key:0},ut=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),yt=[ut],mt={class:"pt-5"},vt={__name:"Dashboard",props:{dayGraphData:Object,monthGraphData:Object,productGraphData:Object,performerGraphData:Object},setup(C){const c=C;o({day_date_from:"",day_date_to:""}),o(0);const f=L().props.auth.operator,J=o([]),h=o([]),D=o([]),A=o({scales:{x:{ticks:{min:1,max:31,stepSize:1}},y:{position:"left",title:{display:!0,text:"Sales($)"},beginAtZero:!0},y1:{position:"right",title:{display:!0,text:"Sales(#)"},beginAtZero:!0}},plugins:{title:{display:!0,text:"Sales by Days ("+f.name+")"},legend:{reverse:!0}}}),j=o([]),b=o([]),G=o([]),B=o({scales:{x:{ticks:{min:1,max:12,stepSize:1}},y:{position:"left",title:{display:!0,text:"Sales($)"},beginAtZero:!0},y1:{position:"right",title:{display:!0,text:"Sales(#)"},beginAtZero:!0}},plugins:{title:{display:!0,text:"Sales by Months ("+f.name+")"},legend:{reverse:!0}}}),g=o([]),w=o([]),S=o([]),$=o({plugins:{legend:{display:!1},title:{display:!0,text:"Past 7 Days - 10 Best Sellers ("+f.name+")"}}}),x=o([]);V(()=>{let s=["#3e95cd","#ff7f7f","#007500","#808080","#c45850"],m=["#37a2eb","#ff6384","#4cc1c0","#ff9f40","#9a66ff","#ffcd56","#c9cbcf"];J.value=JSON.parse(JSON.stringify(c.dayGraphData));let l=[];l=_.groupBy(JSON.parse(JSON.stringify(c.dayGraphData)).data,"month_name"),Object.keys(l).forEach((a,e)=>{h.value.push({label:a+" (#)",data:l[a].map(p=>p.count),backgroundColor:e%2==0?r(s[e+2],.2):r(s[e+2],.9),borderColor:e%2==0?r(s[e+2],.2):r(s[e+2],.9),yAxisID:"y1",type:"line",order:1}),h.value.push({label:a+" ($)",data:l[a].map(p=>p.amount),backgroundColor:e%2==0?r(s[e],.2):r(s[e],1),borderColor:e%2==0?r(s[e],.2):r(s[e],1),fill:!1,yAxisID:"y",type:"bar",order:2})});for(let a=1;a<=31;a++)D.value.push(a);j.value=JSON.parse(JSON.stringify(c.monthGraphData));let i=[];i=JSON.parse(JSON.stringify(c.monthGraphData)),Object.keys(i).forEach((a,e)=>{b.value.push({label:a+" (#)",data:Object.values(i[a]).map(p=>p.count),backgroundColor:e%2==0?r(s[e+2],.2):r(s[e+2],.9),borderColor:e%2==0?r(s[e+2],.2):r(s[e+2],.9),yAxisID:"y1",type:"line",order:1}),b.value.push({label:a+" ($)",data:Object.values(i[a]).map(p=>p.amount),backgroundColor:e%2==0?r(s[e],.2):r(s[e],1),borderColor:e%2==0?r(s[e],.2):r(s[e],1),fill:!1,yAxisID:"y",type:"bar",order:2})});for(let a=1;a<=12;a++)G.value.push(a);g.value=JSON.parse(JSON.stringify(c.productGraphData)),w.value.push({label:"Sales",data:g.value.data.map(a=>a.count),backgroundColor:m}),S.value=g.value.data.map(a=>a.product.code+" - "+a.product.name),x.value=JSON.parse(JSON.stringify(c.performerGraphData))});function r(s,m){var l=parseInt(s.slice(1,3),16),i=parseInt(s.slice(3,5),16),a=parseInt(s.slice(5,7),16);return"rgba("+l+", "+i+", "+a+", "+m+")"}return(s,m)=>(n(),d(k,null,[y(Z(E),{title:"Dashboard"}),y(F,null,{header:O(()=>[T]),default:O(()=>[t("div",z,[t("div",R,[t("div",K,[t("div",U,[y(v,{key:"dayGraphData",type:"scatter",labels:D.value,datasets:h.value,options:A.value},null,8,["labels","datasets","options"]),t("div",q,[t("div",H,[y(v,{key:"productGraphData",type:"pie",labels:S.value,datasets:w.value,options:$.value},null,8,["labels","datasets","options"])]),t("div",Q,[W,t("div",X,[t("div",Y,[t("div",I,[t("div",tt,[t("table",et,[at,t("tbody",st,[(n(!0),d(k,null,M(x.value.data,(l,i)=>(n(),d("tr",{key:l.id},[t("td",rt,u(i+1),1),t("td",ot,[l.customer?(n(),d("span",lt,[N(u(l.customer.code)+" ",1),it,N(" "+u(l.customer.name),1)])):(n(),d("span",pt,u(l.name),1))]),t("td",ct,u(l.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1),t("td",dt,u(l.count),1)]))),128)),x.value.data.length?P("",!0):(n(),d("tr",nt,yt))])])])])])])])]),t("div",mt,[y(v,{key:"monthGraphData",type:"scatter",labels:G.value,datasets:b.value,options:B.value},null,8,["labels","datasets","options"])])])])])])]),_:1})],64))}};export{vt as default};
