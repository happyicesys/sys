import{i as f,l as T,j as O,o as _,g as p,a as e,b as v,w as n,F,H as G,d as a,P as k,c as C,p as x,t as i,m as U,f as l,J as D}from"./app.6f1d142c.js";import{_ as j}from"./Authenticated.34e16d89.js";import{_ as I}from"./Button.224a8d6a.js";import{_ as N,r as A,T as g,a as H,b as d}from"./TableData.cf0fa460.js";import{_ as b}from"./MultiSelect.4b5bbfe9.js";import{_ as h}from"./TableHeadSort.bcaf82c4.js";import{r as R}from"./BackspaceIcon.e4cdc77f.js";import"./open-closed.ec67fade.js";import"./use-resolve-button-type.947dc198.js";import"./RectangleStackIcon.8c384d7f.js";import"./_plugin-vue_export-helper.cdc0426e.js";const E=a("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Gross Profit by Product ",-1),J={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},q={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-3 px-3 md:px-3 py-3"},z={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},Q=l(" Vend ID "),W=a("span",{class:"text-[9px]"},' ("," for multiple) ',-1),X=l(" Cust Name "),Y={key:1},Z=a("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Operator ",-1),tt={key:2},et=a("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Category ",-1),ot=a("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Current Month ",-1),st={class:"flex flex-col space-y-3 md:flex-row md:space-y-0 justify-between mt-5"},nt={class:"mt-3"},at={class:"flex space-x-1"},lt=a("span",null," Search ",-1),rt=a("span",null," Reset ",-1),it={class:"flex flex-col space-y-2"},ut={class:"text-sm text-gray-700 leading-5 flex space-x-1"},dt=a("span",null,"Showing",-1),mt={class:"font-medium"},ct=a("span",null,"to",-1),_t={class:"font-medium"},gt=a("span",null,"of",-1),ht={class:"font-medium"},ft=a("span",null,"results",-1),pt={class:"mt-6 flex flex-col"},vt={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},yt={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll m-2"},xt={class:"min-w-full border-separate",style:{"border-spacing":"0"}},bt={class:"bg-gray-100"},Lt={class:"divide-x divide-gray-200"},Bt=l(" # "),St=l(" Code "),Kt=l(" Name "),wt=l(" This Month "),$t=l(" Last Month "),Pt=l(" Last 2 Month "),Vt={class:"divide-x divide-gray-200"},Ft=l(" Sales($) "),kt=l(" GM($) "),Ct=l(" GM(%) "),Dt=l(" Sales($) "),It=l(" GM($) "),Nt=l(" GM(%) "),Mt=l(" Sales($) "),Tt=l(" GM($) "),Ot=l(" GM(%) "),Gt={class:"bg-white"},Ut={key:0},jt=a("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),At=[jt],te={__name:"IndexProduct",props:{categories:Object,monthOptions:Object,operators:Object,products:Object},setup(r){const L=r,o=f({categories:[],codes:"",currentMonth:"",customer_name:"",operator:"",sortKey:"",sortBy:!0,numberPerPage:100}),$=f([]),B=f([]),S=f([]);f("");const K=f([]),w=T().props.value.auth.permissions;O(()=>{K.value=[{id:50,value:50},{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],o.value.numberPerPage=K.value[0],$.value=L.categories.data.map(m=>({id:m.id,name:m.name})),B.value=L.monthOptions.map(m=>({id:m.id,name:m.name})),o.value.currentMonth=B.value[0],S.value=[{id:"all",full_name:"All"},...L.operators.data.map(m=>({id:m.id,full_name:m.full_name}))],o.value.operator=S.value[0]});function y(){D.Inertia.get("/reports/product",{...o.value,numberPerPage:o.value.numberPerPage.id},{preserveState:!0,replace:!0})}function M(){D.Inertia.get("/reports/product")}function c(m){o.value.sortKey=m,o.value.sortBy=!o.value.sortBy,y()}return(m,s)=>(_(),p(F,null,[e(v(G),{title:"GP by Product"}),e(j,null,{header:n(()=>[E]),default:n(()=>{var P,V;return[a("div",J,[a("div",q,[a("div",z,[e(N,{placeholderStr:"Vend ID",modelValue:o.value.codes,"onUpdate:modelValue":s[0]||(s[0]=t=>o.value.codes=t),onKeyup:s[1]||(s[1]=k(t=>y(),["enter"]))},{default:n(()=>[Q,W]),_:1},8,["modelValue"]),v(w).includes("admin-access products")?(_(),C(N,{key:0,placeholderStr:"Cust Name",modelValue:o.value.customer_name,"onUpdate:modelValue":s[2]||(s[2]=t=>o.value.customer_name=t),onKeyup:s[3]||(s[3]=k(t=>y(),["enter"]))},{default:n(()=>[X]),_:1},8,["modelValue"])):x("",!0),v(w).includes("admin-access products")?(_(),p("div",Y,[Z,e(b,{modelValue:o.value.operator,"onUpdate:modelValue":s[4]||(s[4]=t=>o.value.operator=t),options:S.value,trackBy:"id",valueProp:"id",label:"full_name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])):x("",!0),v(w).includes("admin-access products")?(_(),p("div",tt,[et,e(b,{modelValue:o.value.categories,"onUpdate:modelValue":s[5]||(s[5]=t=>o.value.categories=t),options:$.value,trackBy:"id",valueProp:"id",label:"name",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])):x("",!0),a("div",null,[ot,e(b,{modelValue:o.value.currentMonth,"onUpdate:modelValue":s[6]||(s[6]=t=>o.value.currentMonth=t),options:B.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])]),a("div",st,[a("div",nt,[a("div",at,[e(I,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:s[7]||(s[7]=t=>y())},{default:n(()=>[e(v(A),{class:"h-4 w-4","aria-hidden":"true"}),lt]),_:1}),e(I,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-gray-300 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-gray-800 shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:s[8]||(s[8]=t=>M())},{default:n(()=>[e(v(R),{class:"h-4 w-4","aria-hidden":"true"}),rt]),_:1})])]),a("div",it,[a("p",ut,[dt,a("span",mt,i((P=r.products.meta.from)!=null?P:0),1),ct,a("span",_t,i((V=r.products.meta.to)!=null?V:0),1),gt,a("span",ht,i(r.products.meta.total),1),ft]),e(b,{modelValue:o.value.numberPerPage,"onUpdate:modelValue":s[9]||(s[9]=t=>o.value.numberPerPage=t),options:K.value,trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1",onSelected:y},null,8,["modelValue","options"])])])]),a("div",pt,[a("div",vt,[a("div",yt,[a("table",xt,[a("thead",bt,[a("tr",Lt,[e(g,null,{default:n(()=>[Bt]),_:1}),e(h,{modelName:"code",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[10]||(s[10]=t=>c("code"))},{default:n(()=>[St]),_:1},8,["sortKey","sortBy"]),e(h,{modelName:"name",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[11]||(s[11]=t=>c("name"))},{default:n(()=>[Kt]),_:1},8,["sortKey","sortBy"]),e(g,{colspan:"3"},{default:n(()=>[wt]),_:1}),e(g,{colspan:"3"},{default:n(()=>[$t]),_:1}),e(g,{colspan:"3"},{default:n(()=>[Pt]),_:1})]),a("tr",Vt,[e(g,{colspan:"3"}),e(h,{modelName:"this_month_revenue",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[12]||(s[12]=t=>c("this_month_revenue"))},{default:n(()=>[Ft]),_:1},8,["sortKey","sortBy"]),e(h,{modelName:"this_month_gross_profit",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[13]||(s[13]=t=>c("this_month_gross_profit"))},{default:n(()=>[kt]),_:1},8,["sortKey","sortBy"]),e(g,null,{default:n(()=>[Ct]),_:1}),e(h,{modelName:"last_month_revenue",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[14]||(s[14]=t=>c("last_month_revenue"))},{default:n(()=>[Dt]),_:1},8,["sortKey","sortBy"]),e(h,{modelName:"last_month_gross_profit",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[15]||(s[15]=t=>c("last_month_gross_profit"))},{default:n(()=>[It]),_:1},8,["sortKey","sortBy"]),e(g,null,{default:n(()=>[Nt]),_:1}),e(h,{modelName:"last_two_month_revenue",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[16]||(s[16]=t=>c("last_two_month_revenue"))},{default:n(()=>[Mt]),_:1},8,["sortKey","sortBy"]),e(h,{modelName:"last_two_month_gross_profit",sortKey:o.value.sortKey,sortBy:o.value.sortBy,onSortTable:s[17]||(s[17]=t=>c("last_two_month_gross_profit"))},{default:n(()=>[Tt]),_:1},8,["sortKey","sortBy"]),e(g,null,{default:n(()=>[Ot]),_:1})])]),a("tbody",Gt,[(_(!0),p(F,null,U(r.products.data,(t,u)=>(_(),p("tr",{key:t.id,class:"divide-x divide-gray-200"},[e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-center"},{default:n(()=>[l(i(r.products.meta.from+u),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-center"},{default:n(()=>[l(i(t.code),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-left"},{default:n(()=>[l(i(t.name),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-right"},{default:n(()=>[l(i(t.this_month_revenue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-right"},{default:n(()=>[l(i(t.this_month_gross_profit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-right"},{default:n(()=>[l(i(t.this_month_gross_profit/t.this_month_revenue?(t.this_month_gross_profit/t.this_month_revenue*100).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}):0),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-right"},{default:n(()=>[l(i(t.last_month_revenue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-right"},{default:n(()=>[l(i(t.last_month_gross_profit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-right"},{default:n(()=>[l(i(t.last_month_gross_profit/t.last_month_revenue?(t.last_month_gross_profit/t.last_month_revenue*100).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}):0),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-right"},{default:n(()=>[l(i(t.last_two_month_revenue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-right"},{default:n(()=>[l(i(t.last_two_month_gross_profit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),_:2},1032,["currentIndex","totalLength"]),e(d,{currentIndex:u,totalLength:r.products.length,inputClass:"text-right"},{default:n(()=>[l(i(t.last_two_month_gross_profit/t.last_two_month_revenue?(t.last_two_month_gross_profit/t.last_two_month_revenue*100).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}):0),1)]),_:2},1032,["currentIndex","totalLength"])]))),128)),r.products.data.length?x("",!0):(_(),p("tr",Ut,At))])]),r.products.data.length?(_(),C(H,{key:0,links:r.products.links,meta:r.products.meta},null,8,["links","meta"])):x("",!0)])])])])]}),_:1})],64))}};export{te as default};
