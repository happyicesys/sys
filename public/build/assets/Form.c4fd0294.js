import{i as h,u as p,j as x,o as n,c as V,a as r,w as t,T as b,d as o,g as c,p as S,t as v,f as m,b as g,e as C}from"./app.63b2c55f.js";import{_ as w}from"./Button.9bf152f3.js";import{_ as u}from"./FormInput.1ffc6c48.js";import{_ as k}from"./Modal.8e870ef8.js";import{r as $}from"./ArrowUturnLeftIcon.e92e1944.js";import{r as B}from"./CheckCircleIcon.0f0723d6.js";import"./open-closed.b32d4935.js";const N={class:"flex flex-col md:flex-row space-x-2"},U={key:0,class:"text-gray-600"},M={key:1},j={key:2,class:"text-gray-600"},E=["onSubmit"],T={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6"},F={class:"col-span-12 sm:col-span-6"},O=m(" Name "),D={class:"col-span-12 sm:col-span-6"},q=m(" Email "),L={class:"col-span-12 sm:col-span-6"},P=m(" Username "),z={class:"col-span-12 sm:col-span-6"},A={class:"sm:col-span-6"},G={class:"flex space-x-1 mt-5 justify-end"},H=o("span",null," Back ",-1),I=o("span",null," Save ",-1),Z={__name:"Form",props:{user:Object,countries:Object,type:String,showModal:Boolean},emits:["modalClose"],setup(d,{emit:f}){const l=d,e=h(p(i()));x(()=>{e.value=l.user?p({...i(),...l.user}):p(i())});function i(){return{name:"",email:"",username:"",password:""}}function y(){e.value.clearErrors(),l.type==="create"&&e.value.post("/users/create",{onSuccess:()=>{f("modalClose")},preserveState:!0,replace:!0}),l.type==="update"&&e.value.post("/users/"+e.value.id+"/update",{onSuccess:()=>{f("modalClose")},preserveState:!0,replace:!0})}return(_,s)=>(n(),V(b,{to:"body"},[r(k,{open:d.showModal,onModalClose:s[5]||(s[5]=a=>_.$emit("modalClose"))},{header:t(()=>[o("div",N,[l.user?(n(),c("span",U," Editing ")):S("",!0),l.user?(n(),c("span",M,v(l.user.name),1)):(n(),c("span",j," Create New User "))])]),default:t(()=>[o("form",{onSubmit:C(y,["prevent"]),id:"submit"},[o("div",T,[o("div",F,[r(u,{modelValue:e.value.name,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value.name=a),error:e.value.errors.name,required:"true"},{default:t(()=>[O]),_:1},8,["modelValue","error"])]),o("div",D,[r(u,{modelValue:e.value.email,"onUpdate:modelValue":s[1]||(s[1]=a=>e.value.email=a),error:e.value.errors.email},{default:t(()=>[q]),_:1},8,["modelValue","error"])]),o("div",L,[r(u,{modelValue:e.value.username,"onUpdate:modelValue":s[2]||(s[2]=a=>e.value.username=a),error:e.value.errors.username},{default:t(()=>[P]),_:1},8,["modelValue","error"])]),o("div",z,[r(u,{modelValue:e.value.password,"onUpdate:modelValue":s[3]||(s[3]=a=>e.value.password=a),error:e.value.errors.password,placeholderStr:[d.type=="update"?"Leave blank for same password":""],inputType:"password",autocomplete:"new-password"},{default:t(()=>[m(" Password "+v(d.type=="update"?"(Override)":""),1)]),_:1},8,["modelValue","error","placeholderStr"])])]),o("div",A,[o("div",G,[r(w,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1",onClick:s[4]||(s[4]=a=>_.$emit("modalClose")),form:"submit"},{default:t(()=>[r(g($),{class:"w-4 h-4"}),H]),_:1}),r(w,{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:t(()=>[r(g(B),{class:"w-4 h-4"}),I]),_:1})])])],40,E)]),_:1},8,["open"])]))}};export{Z as default};
