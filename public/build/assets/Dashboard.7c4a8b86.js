import{_ as A}from"./Authenticated.c27ca9e4.js";import{_ as w}from"./Graph.0a50358a.js";import{h as r,K as V,U as $,f as p,a as D,u as j,w as k,F as G,o as i,Z as F,b as t,c as S,l as L,m as P,t as d,d as O}from"./app.5d421ec9.js";import"./open-closed.158cee3a.js";import"./use-resolve-button-type.96f065b6.js";import"./RectangleStackIcon.a115efa8.js";const T=t("div",{class:"flex flex-col space-y-1"},[t("div",{class:"flex space-x-2 items-center"}," Dashboard ")],-1),E={class:"py-12"},K={class:"max-w-7xl mx-auto sm:px-3 lg:px-2"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},R={class:"p-1 bg-white border-b border-gray-200 flex flex-col space-x-6"},Z={class:"flex flex-col md:flex-row pt-5"},z={class:"md:basis-1/3 m-1"},U={class:"md:basis-2/3 my-2 mx-4 px-4"},q=t("p",{class:"text-sm"}," Past 7 Days - Top 10 Best Performance ",-1),H={class:"mt-2 flow-root"},Q={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},W={class:"inline-block min-w-full py-2 align-middle sm:px-3 lg:px-4"},X={class:"overflow-auto shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},Y={class:"min-w-full divide-y divide-gray-300"},I=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"py-2 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," # "),t("th",{scope:"col",class:"px-3 py-2 text-left text-sm font-semibold text-gray-900"}," Vending Machine "),t("th",{scope:"col",class:"px-3 py-2 text-left text-sm font-semibold text-gray-900"}," Amount ($) "),t("th",{scope:"col",class:"px-3 py-2 text-left text-sm font-semibold text-gray-900"}," Sales (#) ")])],-1),tt={class:"divide-y divide-gray-200 bg-white"},et={class:"whitespace-nowrap py-2 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},st={class:"whitespace-nowrap px-3 py-2 text-sm text-gray-600"},at={key:0},ot=t("br",null,null,-1),rt={key:1},lt={class:"whitespace-nowrap px-3 py-2 text-sm text-gray-500 text-right mx-3"},ct={class:"whitespace-nowrap px-3 py-2 text-sm text-gray-500 text-right mx-3"},it={key:0},pt=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),dt=[pt],ht={__name:"Dashboard",props:{dayGraphData:Object,productGraphData:Object,performerGraphData:Object},setup(N){const n=N;r({day_date_from:"",day_date_to:""});const h=r(0),x=V().props.auth.operator,B=r([]),u=r([]),g=r([]),C=r({scales:{x:{ticks:{min:1,max:31,stepSize:1}},y:{position:"left",title:{display:!0,text:"Sales($)"}},y1:{position:"right",title:{display:!0,text:"Sales(#)"},ticks:{beginAtZero:!0}}},plugins:{title:{display:!0,text:"Sales by Days ("+x.name+")"},legend:{reverse:!0}}}),m=r([]),b=r([]),v=r([]),J=r({plugins:{legend:{display:!1},title:{display:!0,text:"Past 7 Days - 10 Best Sellers ("+x.name+")"}}}),y=r([]);$(()=>{B.value=JSON.parse(JSON.stringify(n.dayGraphData));let l=[],a=["#3e95cd","#ff7f7f","#007500","#808080","#c45850"],o=["#37a2eb","#ff6384","#4cc1c0","#ff9f40","#9a66ff","#ffcd56","#c9cbcf"];l=_.groupBy(JSON.parse(JSON.stringify(n.dayGraphData)).data,"month_name"),Object.keys(l).forEach((e,s)=>{u.value.push({label:e+" (#)",data:l[e].map(f=>f.count),backgroundColor:s%2==0?c(a[s+2],.2):c(a[s+2],.9),borderColor:s%2==0?c(a[s+2],.2):c(a[s+2],.9),yAxisID:"y1",type:"line",order:1}),u.value.push({label:e+" ($)",data:l[e].map(f=>f.amount),backgroundColor:s%2==0?c(a[s],.2):c(a[s],1),borderColor:s%2==0?c(a[s],.2):c(a[s],1),fill:!1,yAxisID:"y",type:"bar",order:2})});for(let e=1;e<=31;e++)g.value.push(e);m.value=JSON.parse(JSON.stringify(n.productGraphData)),b.value.push({label:"Sales",data:m.value.data.map(e=>e.count),backgroundColor:o}),v.value=m.value.data.map(e=>e.product.code+" - "+e.product.name),y.value=JSON.parse(JSON.stringify(n.performerGraphData))});function c(l,a){var o=parseInt(l.slice(1,3),16),e=parseInt(l.slice(3,5),16),s=parseInt(l.slice(5,7),16);return"rgba("+o+", "+e+", "+s+", "+a+")"}return(l,a)=>(i(),p(G,null,[D(j(F),{title:"Dashboard"}),D(A,null,{header:k(()=>[T]),default:k(()=>[t("div",E,[t("div",K,[t("div",M,[t("div",R,[(i(),S(w,{key:h.value,type:"scatter",labels:g.value,datasets:u.value,options:C.value},null,8,["labels","datasets","options"])),t("div",Z,[t("div",z,[(i(),S(w,{key:h.value,type:"pie",labels:v.value,datasets:b.value,options:J.value},null,8,["labels","datasets","options"]))]),t("div",U,[q,t("div",H,[t("div",Q,[t("div",W,[t("div",X,[t("table",Y,[I,t("tbody",tt,[(i(!0),p(G,null,L(y.value.data,(o,e)=>(i(),p("tr",{key:o.id},[t("td",et,d(e+1),1),t("td",st,[o.customer?(i(),p("span",at,[O(d(o.customer.code)+" ",1),ot,O(" "+d(o.customer.name),1)])):(i(),p("span",rt,d(o.name),1))]),t("td",lt,d(o.amount),1),t("td",ct,d(o.count),1)]))),128)),y.value.data.length?P("",!0):(i(),p("tr",it,dt))])])])])])])])])])])])])]),_:1})],64))}};export{ht as default};
