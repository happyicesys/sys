import{o as j,g as G,p as w,O as Ve,e as Qe,n as I,F as de,m as fe,r as U,P as Je,f as fl,t as Re,d as V,Q as X,R as pe,i as H,k as h,A as Y,G as Se,j as Xe,a as pl,b as hl}from"./app.f800e181.js";function _(e){return[null,void 0].indexOf(e)!==-1}function gl(e,s,a){const{object:r,valueProp:n,mode:g}=X(e),t=pe().proxy,d=a.iv,k=S=>{d.value=c(S);const T=v(S);s.emit("change",T,t),s.emit("input",T),s.emit("update:modelValue",T)},v=S=>r.value||_(S)?S:Array.isArray(S)?S.map(T=>T[n.value]):S[n.value],c=S=>_(S)?g.value==="single"?{}:[]:S;return{update:k}}function bl(e,s){const{value:a,modelValue:r,mode:n,valueProp:g}=X(e),t=H(n.value!=="single"?[]:{}),d=r&&r.value!==void 0?r:a,k=h(()=>n.value==="single"?t.value[g.value]:t.value.map(c=>c[g.value])),v=h(()=>n.value!=="single"?t.value.map(c=>c[g.value]).join(","):t.value[g.value]);return{iv:t,internalValue:t,ev:d,externalValue:d,textValue:v,plainValue:k}}function ml(e,s,a){const{regex:r}=X(e),n=pe().proxy,g=a.isOpen,t=a.open,d=H(null),k=H(null),v=()=>{d.value=""},c=P=>{d.value=P.target.value},S=P=>{if(r&&r.value){let q=r.value;typeof q=="string"&&(q=new RegExp(q)),P.key.match(q)||P.preventDefault()}},T=P=>{if(r&&r.value){let A=(P.clipboardData||window.clipboardData).getData("Text"),f=r.value;typeof f=="string"&&(f=new RegExp(f)),A.split("").every(C=>!!C.match(f))||P.preventDefault()}s.emit("paste",P,n)};return Y(d,P=>{!g.value&&P&&t(),s.emit("search-change",P,n)}),{search:d,input:k,clearSearch:v,handleSearchInput:c,handleKeypress:S,handlePaste:T}}function yl(e,s,a){const{groupSelect:r,mode:n,groups:g,disabledProp:t}=X(e),d=H(null),k=c=>{c===void 0||c!==null&&c[t.value]||g.value&&c&&c.group&&(n.value==="single"||!r.value)||(d.value=c)};return{pointer:d,setPointer:k,clearPointer:()=>{k(null)}}}function Oe(e,s=!0){return s?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim()}function Ol(e){return Object.prototype.toString.call(e)==="[object Object]"}function Sl(e,s){const a=s.slice().sort();return e.length===s.length&&e.slice().sort().every(function(r,n){return r===a[n]})}function Ll(e,s,a){const{options:r,mode:n,trackBy:g,limit:t,hideSelected:d,createTag:k,createOption:v,label:c,appendNewTag:S,appendNewOption:T,multipleLabel:P,object:q,loading:A,delay:f,resolveOnLoad:C,minChars:i,filterResults:E,clearOnSearch:m,clearOnSelect:b,valueProp:p,canDeselect:N,max:K,strict:Z,closeOnSelect:$,groups:ee,reverse:Q,infinite:re,groupOptions:F,groupHideEmpty:he,groupSelect:ge,onCreate:B,disabledProp:D,searchStart:W}=X(e),z=pe().proxy,O=a.iv,le=a.ev,M=a.search,ie=a.clearSearch,u=a.update,L=a.pointer,J=a.clearPointer,Le=a.focus,Ye=a.deactivate,ke=a.close,Pe=H([]),ae=H([]),x=H(!1),we=H(null),Te=H(re.value&&t.value===-1?10:t.value),Ge=h(()=>k.value||v.value||!1),Ze=h(()=>S.value!==void 0?S.value:T.value!==void 0?T.value:!0),ue=h(()=>{if(ee.value){let l=ae.value||[],o=[];return l.forEach(y=>{Ae(y[F.value]).forEach(R=>{o.push(Object.assign({},R,y[D.value]?{[D.value]:!0}:{}))})}),o}else{let l=Ae(ae.value||[]);return Pe.value.length&&(l=l.concat(Pe.value)),l}}),He=h(()=>ee.value?dl((ae.value||[]).map((l,o)=>{const y=Ae(l[F.value]);return{...l,index:o,group:!0,[F.value]:De(y,!1).map(R=>Object.assign({},R,l[D.value]?{[D.value]:!0}:{})),__VISIBLE__:De(y).map(R=>Object.assign({},R,l[D.value]?{[D.value]:!0}:{}))}})):[]),Ne=h(()=>{let l=ue.value;return Q.value&&(l=l.reverse()),Ie.value.length&&(l=Ie.value.concat(l)),De(l)}),ve=h(()=>{let l=Ne.value;return Te.value>0&&(l=l.slice(0,Te.value)),l}),qe=h(()=>{switch(n.value){case"single":return!_(O.value[p.value]);case"multiple":case"tags":return!_(O.value)&&O.value.length>0}}),$e=h(()=>P!==void 0&&P.value!==void 0?P.value(O.value,z):O.value&&O.value.length>1?`${O.value.length} options selected`:"1 option selected"),xe=h(()=>!ue.value.length&&!x.value&&!Ie.value.length),_e=h(()=>ue.value.length>0&&ve.value.length==0&&(M.value&&ee.value||!ee.value)),Ie=h(()=>Ge.value===!1||!M.value?[]:il(M.value)!==-1?[]:[{[p.value]:M.value,[c.value]:M.value,[te.value]:M.value,__CREATE__:!0}]),te=h(()=>g.value||c.value),el=h(()=>{switch(n.value){case"single":return null;case"multiple":case"tags":return[]}}),ll=h(()=>A.value||x.value),oe=l=>{switch(typeof l!="object"&&(l=ne(l)),n.value){case"single":u(l);break;case"multiple":case"tags":u(O.value.concat(l));break}s.emit("select",Ke(l),l,z)},ce=l=>{switch(typeof l!="object"&&(l=ne(l)),n.value){case"single":We();break;case"tags":case"multiple":u(Array.isArray(l)?O.value.filter(o=>l.map(y=>y[p.value]).indexOf(o[p.value])===-1):O.value.filter(o=>o[p.value]!=l[p.value]));break}s.emit("deselect",Ke(l),l,z)},Ke=l=>q.value?l:l[p.value],Fe=l=>{ce(l)},al=(l,o)=>{if(o.button!==0){o.preventDefault();return}Fe(l)},We=()=>{s.emit("clear",z),u(el.value)},se=l=>{if(l.group!==void 0)return n.value==="single"?!1:rl(l[F.value])&&l[F.value].length;switch(n.value){case"single":return!_(O.value)&&O.value[p.value]==l[p.value];case"tags":case"multiple":return!_(O.value)&&O.value.map(o=>o[p.value]).indexOf(l[p.value])!==-1}},Ee=l=>l[D.value]===!0,Ce=()=>K===void 0||K.value===-1||!qe.value&&K.value>0?!1:O.value.length>=K.value,tl=l=>{if(!Ee(l)){if(B&&B.value&&!se(l)&&l.__CREATE__&&(l={...l},delete l.__CREATE__,l=B.value(l,z),l instanceof Promise)){x.value=!0,l.then(o=>{x.value=!1,ze(o)});return}ze(l)}},ze=l=>{switch(l.__CREATE__&&(l={...l},delete l.__CREATE__),n.value){case"single":if(l&&se(l)){N.value&&ce(l);return}l&&Be(l),b.value&&ie(),$.value&&(J(),ke()),l&&oe(l);break;case"multiple":if(l&&se(l)){ce(l);return}if(Ce())return;l&&(Be(l),oe(l)),b.value&&ie(),d.value&&J(),$.value&&ke();break;case"tags":if(l&&se(l)){ce(l);return}if(Ce())return;l&&Be(l),b.value&&ie(),l&&oe(l),d.value&&J(),$.value&&ke();break}$.value||Le()},nl=l=>{if(!(Ee(l)||n.value==="single"||!ge.value)){switch(n.value){case"multiple":case"tags":sl(l[F.value])?ce(l[F.value]):oe(l[F.value].filter(o=>O.value.map(y=>y[p.value]).indexOf(o[p.value])===-1).filter(o=>!o[D.value]).filter((o,y)=>O.value.length+1+y<=K.value||K.value===-1));break}$.value&&Ye()}},Be=l=>{ne(l[p.value])===void 0&&Ge.value&&(s.emit("tag",l[p.value],z),s.emit("option",l[p.value],z),Ze.value&&cl(l),ie())},ul=()=>{n.value!=="single"&&oe(ve.value)},sl=l=>l.find(o=>!se(o)&&!o[D.value])===void 0,rl=l=>l.find(o=>!se(o))===void 0,ne=l=>ue.value[ue.value.map(o=>String(o[p.value])).indexOf(String(l))],il=(l,o=!0)=>ue.value.map(y=>parseInt(y[te.value])==y[te.value]?parseInt(y[te.value]):y[te.value]).indexOf(parseInt(l)==l?parseInt(l):l),ol=l=>["tags","multiple"].indexOf(n.value)!==-1&&d.value&&se(l),cl=l=>{Pe.value.push(l)},dl=l=>he.value?l.filter(o=>M.value?o.__VISIBLE__.length:o[F.value].length):l.filter(o=>M.value?o.__VISIBLE__.length:!0),De=(l,o=!0)=>{let y=l;return M.value&&E.value&&(y=y.filter(R=>W.value?Oe(R[te.value],Z.value).startsWith(Oe(M.value,Z.value)):Oe(R[te.value],Z.value).indexOf(Oe(M.value,Z.value))!==-1)),d.value&&o&&(y=y.filter(R=>!ol(R))),y},Ae=l=>{let o=l;return Ol(o)&&(o=Object.keys(o).map(y=>{let R=o[y];return{[p.value]:y,[te.value]:R,[c.value]:R}})),o=o.map(y=>typeof y=="object"?y:{[p.value]:y,[te.value]:y,[c.value]:y}),o},be=()=>{_(le.value)||(O.value=ye(le.value))},me=l=>(x.value=!0,new Promise((o,y)=>{r.value(M.value,z).then(R=>{ae.value=R||[],typeof l=="function"&&l(R),x.value=!1}).catch(R=>{console.error(R),ae.value=[],x.value=!1}).finally(()=>{o()})})),Me=()=>{if(!!qe.value)if(n.value==="single"){let l=ne(O.value[p.value]);if(l!==void 0){let o=l[c.value];O.value[c.value]=o,q.value&&(le.value[c.value]=o)}}else O.value.forEach((l,o)=>{let y=ne(O.value[o][p.value]);if(y!==void 0){let R=y[c.value];O.value[o][c.value]=R,q.value&&(le.value[o][c.value]=R)}})},vl=l=>{me(l)},ye=l=>_(l)?n.value==="single"?{}:[]:q.value?l:n.value==="single"?ne(l)||{}:l.filter(o=>!!ne(o)).map(o=>ne(o)),Ue=()=>{we.value=Y(M,l=>{l.length<i.value||!l&&i.value!==0||(x.value=!0,m.value&&(ae.value=[]),setTimeout(()=>{l==M.value&&r.value(M.value,z).then(o=>{(l==M.value||!M.value)&&(ae.value=o,L.value=ve.value.filter(y=>y[D.value]!==!0)[0]||null,x.value=!1)}).catch(o=>{console.error(o)})},f.value))},{flush:"sync"})};if(n.value!=="single"&&!_(le.value)&&!Array.isArray(le.value))throw new Error(`v-model must be an array when using "${n.value}" mode`);return r&&typeof r.value=="function"?C.value?me(be):q.value==!0&&be():(ae.value=r.value,be()),f.value>-1&&Ue(),Y(f,(l,o)=>{we.value&&we.value(),l>=0&&Ue()}),Y(le,l=>{if(_(l)){O.value=ye(l);return}switch(n.value){case"single":(q.value?l[p.value]!=O.value[p.value]:l!=O.value[p.value])&&(O.value=ye(l));break;case"multiple":case"tags":Sl(q.value?l.map(o=>o[p.value]):l,O.value.map(o=>o[p.value]))||(O.value=ye(l));break}},{deep:!0}),Y(r,(l,o)=>{typeof e.options=="function"?C.value&&me():(ae.value=e.options,Object.keys(O.value).length||be(),Me())}),Y(c,Me),{pfo:Ne,fo:ve,filteredOptions:ve,hasSelected:qe,multipleLabelText:$e,eo:ue,extendedOptions:ue,fg:He,filteredGroups:He,noOptions:xe,noResults:_e,resolving:x,busy:ll,offset:Te,select:oe,deselect:ce,remove:Fe,selectAll:ul,clear:We,isSelected:se,isDisabled:Ee,isMax:Ce,getOption:ne,handleOptionClick:tl,handleGroupClick:nl,handleTagRemove:al,refreshOptions:vl,resolveOptions:me,refreshLabels:Me}}function kl(e,s,a){const{valueProp:r,showOptions:n,searchable:g,groupLabel:t,groups:d,mode:k,groupSelect:v,disabledProp:c}=X(e),S=a.fo,T=a.fg,P=a.handleOptionClick,q=a.handleGroupClick,A=a.search,f=a.pointer,C=a.setPointer,i=a.clearPointer,E=a.multiselect,m=a.isOpen,b=h(()=>S.value.filter(u=>!u[c.value])),p=h(()=>T.value.filter(u=>!u[c.value])),N=h(()=>k.value!=="single"&&v.value),K=h(()=>f.value&&f.value.group),Z=h(()=>M(f.value)),$=h(()=>{const u=K.value?f.value:M(f.value),L=p.value.map(Le=>Le[t.value]).indexOf(u[t.value]);let J=p.value[L-1];return J===void 0&&(J=Q.value),J}),ee=h(()=>{let u=p.value.map(L=>L.label).indexOf(K.value?f.value[t.value]:M(f.value)[t.value])+1;return p.value.length<=u&&(u=0),p.value[u]}),Q=h(()=>[...p.value].slice(-1)[0]),re=h(()=>f.value.__VISIBLE__.filter(u=>!u[c.value])[0]),F=h(()=>{const u=Z.value.__VISIBLE__.filter(L=>!L[c.value]);return u[u.map(L=>L[r.value]).indexOf(f.value[r.value])-1]}),he=h(()=>{const u=M(f.value).__VISIBLE__.filter(L=>!L[c.value]);return u[u.map(L=>L[r.value]).indexOf(f.value[r.value])+1]}),ge=h(()=>[...$.value.__VISIBLE__.filter(u=>!u[c.value])].slice(-1)[0]),B=h(()=>[...Q.value.__VISIBLE__.filter(u=>!u[c.value])].slice(-1)[0]),D=u=>!!f.value&&(!u.group&&f.value[r.value]==u[r.value]||u.group!==void 0&&f.value[t.value]==u[t.value])?!0:void 0,W=()=>{C(b.value[0]||null)},z=()=>{!f.value||f.value[c.value]===!0||(K.value?q(f.value):P(f.value))},O=()=>{if(f.value===null)C((d.value&&N.value?p.value[0]:b.value[0])||null);else if(d.value&&N.value){let u=K.value?re.value:he.value;u===void 0&&(u=ee.value),C(u||null)}else{let u=b.value.map(L=>L[r.value]).indexOf(f.value[r.value])+1;b.value.length<=u&&(u=0),C(b.value[u]||null)}Se(()=>{ie()})},le=()=>{if(f.value===null){let u=b.value[b.value.length-1];d.value&&N.value&&(u=B.value,u===void 0&&(u=Q.value)),C(u||null)}else if(d.value&&N.value){let u=K.value?ge.value:F.value;u===void 0&&(u=K.value?$.value:Z.value),C(u||null)}else{let u=b.value.map(L=>L[r.value]).indexOf(f.value[r.value])-1;u<0&&(u=b.value.length-1),C(b.value[u]||null)}Se(()=>{ie()})},M=u=>p.value.find(L=>L.__VISIBLE__.map(J=>J[r.value]).indexOf(u[r.value])!==-1),ie=()=>{let u=E.value.querySelector("[data-pointed]");if(!u)return;let L=u.parentElement.parentElement;d.value&&(L=K.value?u.parentElement.parentElement.parentElement:u.parentElement.parentElement.parentElement.parentElement),u.offsetTop+u.offsetHeight>L.clientHeight+L.scrollTop&&(L.scrollTop=u.offsetTop+u.offsetHeight-L.clientHeight),u.offsetTop<L.scrollTop&&(L.scrollTop=u.offsetTop)};return Y(A,u=>{g.value&&(u.length&&n.value?W():i())}),Y(m,u=>{if(u){let L=E.value.querySelectorAll("[data-selected]")[0];if(!L)return;let J=L.parentElement.parentElement;Se(()=>{J.scrollTop>0||(J.scrollTop=L.offsetTop)})}}),{pointer:f,canPointGroups:N,isPointed:D,setPointerFirst:W,selectPointer:z,forwardPointer:O,backwardPointer:le}}function Pl(e,s,a){const{disabled:r}=X(e),n=pe().proxy,g=H(!1);return{isOpen:g,open:()=>{g.value||r.value||(g.value=!0,s.emit("open",n))},close:()=>{!g.value||(g.value=!1,s.emit("close",n))}}}function wl(e,s,a){const{searchable:r,disabled:n}=X(e),g=a.input,t=a.open,d=a.close,k=a.clearSearch,v=a.isOpen,c=H(null),S=H(null),T=H(!1),P=H(!1),q=h(()=>r.value||n.value?-1:0),A=()=>{r.value&&g.value.blur(),c.value.blur()},f=()=>{r.value&&!n.value&&g.value.focus()},C=(N=!0)=>{n.value||(T.value=!0,N&&t())},i=()=>{T.value=!1,setTimeout(()=>{T.value||(d(),k())},1)};return{multiselect:c,tags:S,tabindex:q,isActive:T,mouseClicked:P,blur:A,focus:f,activate:C,deactivate:i,handleFocusIn:()=>{C(P.value)},handleFocusOut:()=>{i()},handleCaretClick:()=>{i(),A()},handleMousedown:N=>{P.value=!0,v.value&&(N.target.isEqualNode(c.value)||N.target.isEqualNode(S.value))?setTimeout(()=>{i()},0):document.activeElement.isEqualNode(c.value)&&!v.value&&C(),setTimeout(()=>{P.value=!1},0)}}}function Tl(e,s,a){const{mode:r,addTagOn:n,openDirection:g,searchable:t,showOptions:d,valueProp:k,groups:v,addOptionOn:c,createTag:S,createOption:T,reverse:P}=X(e),q=pe().proxy,A=a.iv,f=a.update,C=a.search,i=a.setPointer,E=a.selectPointer,m=a.backwardPointer,b=a.forwardPointer,p=a.multiselect,N=a.tags,K=a.isOpen,Z=a.open,$=a.blur,ee=a.fo,Q=h(()=>S.value||T.value||!1),re=h(()=>n.value!==void 0?n.value:c.value!==void 0?c.value:["enter"]),F=()=>{r.value==="tags"&&!d.value&&Q.value&&t.value&&!v.value&&i(ee.value[ee.value.map(B=>B[k.value]).indexOf(C.value)])};return{handleKeydown:B=>{s.emit("keydown",B,q);let D,W;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(B.key)!==-1&&r.value==="tags"&&(D=[...p.value.querySelectorAll("[data-tags] > *")].filter(z=>z!==N.value),W=D.findIndex(z=>z===document.activeElement)),B.key){case"Backspace":if(r.value==="single"||t.value&&[null,""].indexOf(C.value)===-1||A.value.length===0)return;f([...A.value].slice(0,-1));break;case"Enter":if(B.preventDefault(),W!==-1&&W!==void 0){f([...A.value].filter((z,O)=>O!==W)),W===D.length-1&&(D.length-1?D[D.length-2].focus():t.value?N.value.querySelector("input").focus():p.value.focus());return}if(re.value.indexOf("enter")===-1&&Q.value)return;F(),E();break;case" ":if(!Q.value&&!t.value){B.preventDefault(),F(),E();return}if(!Q.value)return!1;if(re.value.indexOf("space")===-1&&Q.value)return;B.preventDefault(),F(),E();break;case"Tab":case";":case",":if(re.value.indexOf(B.key.toLowerCase())===-1||!Q.value)return;F(),E(),B.preventDefault();break;case"Escape":$();break;case"ArrowUp":if(B.preventDefault(),!d.value)return;K.value||Z(),m();break;case"ArrowDown":if(B.preventDefault(),!d.value)return;K.value||Z(),b();break;case"ArrowLeft":if(t.value&&N.value.querySelector("input").selectionStart||B.shiftKey||r.value!=="tags"||!A.value||!A.value.length)return;B.preventDefault(),W===-1?D[D.length-1].focus():W>0&&D[W-1].focus();break;case"ArrowRight":if(W===-1||B.shiftKey||r.value!=="tags"||!A.value||!A.value.length)return;B.preventDefault(),D.length>W+1?D[W+1].focus():t.value?N.value.querySelector("input").focus():t.value||p.value.focus();break}},handleKeyup:B=>{s.emit("keyup",B,q)},preparePointer:F}}function ql(e,s,a){const{classes:r,disabled:n,openDirection:g,showOptions:t}=X(e),d=a.isOpen,k=a.isPointed,v=a.isSelected,c=a.isDisabled,S=a.isActive,T=a.canPointGroups,P=a.resolving,q=a.fo,A=h(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer",...r.value})),f=h(()=>!!(d.value&&t.value&&(!P.value||P.value&&q.value.length)));return{classList:h(()=>{const i=A.value;return{container:[i.container].concat(n.value?i.containerDisabled:[]).concat(f.value&&g.value==="top"?i.containerOpenTop:[]).concat(f.value&&g.value!=="top"?i.containerOpen:[]).concat(S.value?i.containerActive:[]),spacer:i.spacer,singleLabel:i.singleLabel,singleLabelText:i.singleLabelText,multipleLabel:i.multipleLabel,search:i.search,tags:i.tags,tag:[i.tag].concat(n.value?i.tagDisabled:[]),tagRemove:i.tagRemove,tagRemoveIcon:i.tagRemoveIcon,tagsSearchWrapper:i.tagsSearchWrapper,tagsSearch:i.tagsSearch,tagsSearchCopy:i.tagsSearchCopy,placeholder:i.placeholder,caret:[i.caret].concat(d.value?i.caretOpen:[]),clear:i.clear,clearIcon:i.clearIcon,spinner:i.spinner,inifinite:i.inifinite,inifiniteSpinner:i.inifiniteSpinner,dropdown:[i.dropdown].concat(g.value==="top"?i.dropdownTop:[]).concat(!d.value||!t.value||!f.value?i.dropdownHidden:[]),options:[i.options].concat(g.value==="top"?i.optionsTop:[]),group:i.group,groupLabel:E=>{let m=[i.groupLabel];return k(E)?m.push(v(E)?i.groupLabelSelectedPointed:i.groupLabelPointed):v(E)&&T.value?m.push(c(E)?i.groupLabelSelectedDisabled:i.groupLabelSelected):c(E)&&m.push(i.groupLabelDisabled),T.value&&m.push(i.groupLabelPointable),m},groupOptions:i.groupOptions,option:(E,m)=>{let b=[i.option];return k(E)?b.push(v(E)?i.optionSelectedPointed:i.optionPointed):v(E)?b.push(c(E)?i.optionSelectedDisabled:i.optionSelected):(c(E)||m&&c(m))&&b.push(i.optionDisabled),b},noOptions:i.noOptions,noResults:i.noResults,fakeInput:i.fakeInput}}),showDropdown:f}}function Il(e,s,a){const{limit:r,infinite:n}=X(e),g=a.isOpen,t=a.offset,d=a.search,k=a.pfo,v=a.eo,c=H(null),S=H(null),T=h(()=>t.value<k.value.length),P=A=>{const{isIntersecting:f,target:C}=A[0];if(f){const i=C.offsetParent,E=i.scrollTop;t.value+=r.value==-1?10:r.value,Se(()=>{i.scrollTop=E})}},q=()=>{g.value&&t.value<k.value.length?c.value.observe(S.value):!g.value&&c.value&&c.value.disconnect()};return Y(g,()=>{!n.value||q()}),Y(d,()=>{!n.value||(t.value=r.value,q())},{flush:"post"}),Y(v,()=>{!n.value||q()},{immediate:!1,flush:"post"}),Xe(()=>{window&&window.IntersectionObserver&&(c.value=new IntersectionObserver(P))}),{hasMore:T,infiniteLoader:S}}function El(e,s,a){const{placeholder:r,id:n,valueProp:g,label:t,mode:d,groupLabel:k}=X(e),v=a.pointer;a.iv,a.hasSelected,a.multipleLabelText,a.isOpen;const c=H(null),S=h(()=>{let m=[];return n&&n.value&&m.push(n.value),m.push("multiselect-options"),m.join("-")}),T=h(()=>{let m=[];if(n&&n.value&&m.push(n.value),v.value)return m.push(v.value.group?"multiselect-group":"multiselect-option"),m.push(v.value.group?v.value.index:v.value[g.value]),m.join("-")}),P=h(()=>r.value),q=h(()=>d.value!=="single"),A=m=>{let b=[];return n&&n.value&&b.push(n.value),b.push("multiselect-option"),b.push(m[g.value]),b.join("-")},f=m=>{let b=[];return n&&n.value&&b.push(n.value),b.push("multiselect-group"),b.push(m.index),b.join("-")},C=m=>{let b=[];return b.push(m[t.value]),b.join(" ")},i=m=>{let b=[];return b.push(m[k.value]),b.join(" ")},E=m=>`${m} \u274E`;return Xe(()=>{if(n&&n.value&&document&&document.querySelector){let m=document.querySelector(`[for="${n.value}"]`);c.value=m?m.innerText:null}}),{ariaOwns:S,ariaPlaceholder:P,ariaMultiselectable:q,ariaActiveDescendant:T,ariaOptionId:A,ariaOptionLabel:C,ariaGroupId:f,ariaGroupLabel:i,ariaTagLabel:E}}function Cl(e,s,a,r={}){return a.forEach(n=>{n&&(r={...r,...n(e,s,r)})}),r}var je={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})}},setup(e,s){return Cl(e,s,[bl,yl,Pl,ml,gl,wl,Ll,Il,kl,Tl,ql,El])}};const Bl=["tabindex","id","dir","aria-owns","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],Dl=["type","modelValue","value","autocomplete","id","aria-owns","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Al=["onKeyup","aria-label"],Ml=["onClick"],Vl=["type","modelValue","value","id","autocomplete","aria-owns","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Rl=["innerHTML"],jl=["innerHTML"],Gl=["id"],Hl=["id","aria-label","aria-selected"],Nl=["data-pointed","onMouseenter","onClick"],Kl=["innerHTML"],Fl=["aria-label"],Wl=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],zl=["innerHTML"],Ul=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Ql=["innerHTML"],Jl=["innerHTML"],Xl=["innerHTML"],Yl=["value"],Zl=["name","value"],$l=["name","value"];function xl(e,s,a,r,n,g){return j(),G("div",Ve({ref:"multiselect",tabindex:e.tabindex,class:e.classList.container,id:a.searchable?void 0:a.id,dir:a.rtl?"rtl":void 0,onFocusin:s[9]||(s[9]=(...t)=>e.handleFocusIn&&e.handleFocusIn(...t)),onFocusout:s[10]||(s[10]=(...t)=>e.handleFocusOut&&e.handleFocusOut(...t)),onKeydown:s[11]||(s[11]=(...t)=>e.handleKeydown&&e.handleKeydown(...t)),onKeyup:s[12]||(s[12]=(...t)=>e.handleKeyup&&e.handleKeyup(...t)),onMousedown:s[13]||(s[13]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),"aria-owns":a.searchable?void 0:e.ariaOwns,"aria-placeholder":a.searchable?void 0:e.ariaPlaceholder,"aria-expanded":a.searchable?void 0:e.isOpen,"aria-activedescendant":a.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":a.searchable?void 0:e.ariaMultiselectable,role:a.searchable?void 0:"listbox"},a.searchable?{}:a.aria),[w(" Search "),a.mode!=="tags"&&a.searchable&&!a.disabled?(j(),G("input",Ve({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:a.autocomplete,id:a.searchable?a.id:void 0,onInput:s[0]||(s[0]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:s[1]||(s[1]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:s[2]||(s[2]=Qe((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input","aria-owns":e.ariaOwns,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"listbox"},{...a.attrs,...a.aria}),null,16,Dl)):w("v-if",!0),w(" Tags (with search) "),a.mode=="tags"?(j(),G("div",{key:1,class:I(e.classList.tags),"data-tags":""},[(j(!0),G(de,null,fe(e.iv,(t,d,k)=>U(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(j(),G("span",{class:I(e.classList.tag),tabindex:"-1",onKeyup:Je(v=>e.handleTagRemove(t,v),["enter"]),key:k,"aria-label":e.ariaTagLabel(t[a.label])},[fl(Re(t[a.label])+" ",1),a.disabled?w("v-if",!0):(j(),G("span",{key:0,class:I(e.classList.tagRemove),onClick:v=>e.handleTagRemove(t,v)},[V("span",{class:I(e.classList.tagRemoveIcon)},null,2)],10,Ml))],42,Al))])),256)),V("div",{class:I(e.classList.tagsSearchWrapper),ref:"tags"},[w(" Used for measuring search width "),V("span",{class:I(e.classList.tagsSearchCopy)},Re(e.search),3),w(" Actual search input "),a.searchable&&!a.disabled?(j(),G("input",Ve({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:a.searchable?a.id:void 0,autocomplete:a.autocomplete,onInput:s[3]||(s[3]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:s[4]||(s[4]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:s[5]||(s[5]=Qe((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input","aria-owns":e.ariaOwns,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"listbox"},{...a.attrs,...a.aria}),null,16,Vl)):w("v-if",!0)],2)],2)):w("v-if",!0),w(" Single label "),a.mode=="single"&&e.hasSelected&&!e.search&&e.iv?U(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[V("div",{class:I(e.classList.singleLabel),"aria-hidden":"true"},[V("span",{class:I(e.classList.singleLabelText),innerHTML:e.iv[a.label]},null,10,Rl)],2)]):w("v-if",!0),w(" Multiple label "),a.mode=="multiple"&&e.hasSelected&&!e.search?U(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[V("div",{class:I(e.classList.multipleLabel),innerHTML:e.multipleLabelText,"aria-hidden":"true"},null,10,jl)]):w("v-if",!0),w(" Placeholder "),a.placeholder&&!e.hasSelected&&!e.search?U(e.$slots,"placeholder",{key:4},()=>[V("div",{class:I(e.classList.placeholder),"aria-hidden":"true"},Re(a.placeholder),3)]):w("v-if",!0),w(" Spinner "),a.loading||e.resolving?U(e.$slots,"spinner",{key:5},()=>[V("span",{class:I(e.classList.spinner),"aria-hidden":"true"},null,2)]):w("v-if",!0),w(" Clear "),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?U(e.$slots,"clear",{key:6,clear:e.clear},()=>[V("span",{tabindex:"0",role:"button","aria-label":"\u274E",class:I(e.classList.clear),onClick:s[6]||(s[6]=(...t)=>e.clear&&e.clear(...t)),onKeyup:s[7]||(s[7]=Je((...t)=>e.clear&&e.clear(...t),["enter"]))},[V("span",{class:I(e.classList.clearIcon)},null,2)],34)]):w("v-if",!0),w(" Caret "),a.caret&&a.showOptions?U(e.$slots,"caret",{key:7},()=>[V("span",{class:I(e.classList.caret),onClick:s[8]||(s[8]=(...t)=>e.handleCaretClick&&e.handleCaretClick(...t)),"aria-hidden":"true"},null,2)]):w("v-if",!0),w(" Options "),V("div",{class:I(e.classList.dropdown),tabindex:"-1"},[U(e.$slots,"beforelist",{options:e.fo}),V("ul",{class:I(e.classList.options),id:e.ariaOwns},[a.groups?(j(!0),G(de,{key:0},fe(e.fg,(t,d,k)=>(j(),G("li",{class:I(e.classList.group),key:k,id:e.ariaGroupId(t),"aria-label":e.ariaGroupLabel(t),"aria-selected":e.isSelected(t),role:"option"},[V("div",{class:I(e.classList.groupLabel(t)),"data-pointed":e.isPointed(t),onMouseenter:v=>e.setPointer(t,d),onClick:v=>e.handleGroupClick(t)},[U(e.$slots,"grouplabel",{group:t,isSelected:e.isSelected,isPointed:e.isPointed},()=>[V("span",{innerHTML:t[a.groupLabel]},null,8,Kl)])],42,Nl),V("ul",{class:I(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(t),role:"group"},[(j(!0),G(de,null,fe(t.__VISIBLE__,(v,c,S)=>(j(),G("li",{class:I(e.classList.option(v,t)),"data-pointed":e.isPointed(v),"data-selected":e.isSelected(v)||void 0,key:S,onMouseenter:T=>e.setPointer(v),onClick:T=>e.handleOptionClick(v),id:e.ariaOptionId(v),"aria-selected":e.isSelected(v),"aria-label":e.ariaOptionLabel(v),role:"option"},[U(e.$slots,"option",{option:v,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[V("span",{innerHTML:v[a.label]},null,8,zl)])],42,Wl))),128))],10,Fl)],10,Hl))),128)):(j(!0),G(de,{key:1},fe(e.fo,(t,d,k)=>(j(),G("li",{class:I(e.classList.option(t)),"data-pointed":e.isPointed(t),"data-selected":e.isSelected(t)||void 0,key:k,onMouseenter:v=>e.setPointer(t),onClick:v=>e.handleOptionClick(t),id:e.ariaOptionId(t),"aria-selected":e.isSelected(t),"aria-label":e.ariaOptionLabel(t),role:"option"},[U(e.$slots,"option",{option:t,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[V("span",{innerHTML:t[a.label]},null,8,Ql)])],42,Ul))),128))],10,Gl),e.noOptions?U(e.$slots,"nooptions",{key:0},()=>[V("div",{class:I(e.classList.noOptions),innerHTML:a.noOptionsText},null,10,Jl)]):w("v-if",!0),e.noResults?U(e.$slots,"noresults",{key:1},()=>[V("div",{class:I(e.classList.noResults),innerHTML:a.noResultsText},null,10,Xl)]):w("v-if",!0),a.infinite&&e.hasMore?(j(),G("div",{key:2,class:I(e.classList.inifinite),ref:"infiniteLoader"},[U(e.$slots,"infinite",{},()=>[V("span",{class:I(e.classList.inifiniteSpinner)},null,2)])],2)):w("v-if",!0),U(e.$slots,"afterlist",{options:e.fo})],2),w(" Hacky input element to show HTML5 required warning "),a.required?(j(),G("input",{key:8,class:I(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,Yl)):w("v-if",!0),w(" Native input support "),a.nativeSupport?(j(),G(de,{key:9},[a.mode=="single"?(j(),G("input",{key:0,type:"hidden",name:a.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Zl)):(j(!0),G(de,{key:1},fe(e.plainValue,(t,d)=>(j(),G("input",{type:"hidden",name:`${a.name}[]`,value:t,key:d},null,8,$l))),128))],64)):w("v-if",!0),w(" Create height for empty input "),V("div",{class:I(e.classList.spacer)},null,2)],16,Bl)}je.render=xl;je.__file="src/Multiselect.vue";const _l={class:"overflow-visible"},la={__name:"MultiSelect",props:{canClear:Boolean,clearOnBlur:{type:[Boolean,String],default:!0},openDirection:{type:String,default:"bottom"},label:String,mode:String,modelValue:[Array,Object,String,Number],options:[Array,Object,String],placeholder:String,trackBy:String,valueProp:String,required:{type:[Boolean,String],default:!1}},emits:["update:modelValue","selected"],setup(e,{emit:s}){const a=e,r=H([]);function n(t){a.mode==="tags"?(r.value.push(t),s("update:modelValue",r.value)):s("update:modelValue",t),s("selected")}function g(t){a.mode==="tags"&&(r.value=r.value.filter(d=>d.id!=t.id),s("update:modelValue",r.value))}return(t,d)=>(j(),G("div",_l,[pl(hl(je),{modelValue:e.modelValue,canClear:e.canClear,canDeselect:!1,label:e.label,mode:e.mode,object:!0,options:e.options,placeholder:e.placeholder,required:e.required,searchable:!0,valueProp:e.valueProp,onSelect:n,onDeselect:g,clearOnBlur:e.clearOnBlur,openDirection:e.openDirection},null,8,["modelValue","canClear","label","mode","options","placeholder","required","valueProp","clearOnBlur","openDirection"])]))}};export{la as _};
