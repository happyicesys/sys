import{g as h,T as L,h as J,j,f as r,a as l,u as x,w as n,F as b,o as i,Z as K,b as t,d as m,t as _,l as d,e as k,i as W,n as F,k as C,O as D}from"./app.8e5e70ab.js";import{_ as X}from"./Authenticated.e0710ba5.js";import{_ as w}from"./Button.ef330701.js";import{_ as Y}from"./DatetimePicker.20c6988f.js";import{_ as f}from"./FormInput.9100332a.js";import{_ as P}from"./MultiSelect.6a0639d3.js";import{_ as g,a as y}from"./TableData.741fd4a1.js";import{r as ee}from"./ArrowUturnLeftIcon.c3527749.js";import{r as q}from"./CheckCircleIcon.67aa7dcf.js";import{r as te}from"./XCircleIcon.61ec4d5e.js";import"./keyboard.f05e4f48.js";import"./use-resolve-button-type.2e0381da.js";import"./RectangleStackIcon.73a9ad86.js";import"./main.bcee789a.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.514d544f.js";const ae={class:"font-semibold text-xl text-gray-800 leading-tight"},le={key:0},se={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},oe={class:"mt-6 flex flex-col"},re={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},ie={class:"shadow-sm ring-1 ring-black ring-opacity-5 p-5 mb-3"},ne={class:"grid grid-cols-1 gap-3 sm:grid-cols-6 pb-5 mb-3"},me={class:"sm:col-span-6"},de={class:"sm:col-span-6"},ue=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Product Mapping ",-1),_e={class:"mt-1"},pe=["value"],ce={class:"sm:col-span-6"},ve=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Platform ",-1),fe={class:"mt-1"},ge=["value"],ye={class:"sm:col-span-3"},he=t("span",{class:"text-red-500"}," * ",-1),xe={class:"sm:col-span-3"},be=t("span",{class:"text-red-500"}," * ",-1),Ve={class:"sm:col-span-6"},ke={class:"flex space-x-1 mt-5 justify-end"},Ce=t("span",null," Back ",-1),we=t("span",null," Save ",-1),Pe=t("span",null," Sync to VM & Submit to Platform ",-1),Se=t("div",{class:"sm:col-span-6 pt-2 pb-1 md:pt-5 md:pb-3"},[t("div",{class:"relative"},[t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})]),t("div",{class:"relative flex justify-center"},[t("span",{class:"px-3 bg-white text-lg font-medium text-gray-900 rounded"},"Campaign Item(s)")])])],-1),je={key:0,class:"sm:col-span-6"},De={class:"inline-flex justify-center items-center rounded px-3 py-1 my-1 text-lg font-medium border min-w-fit bg-red-300 text-gray-800"},Oe={class:"flex flex-col"},Ie={key:1,class:"sm:col-span-6"},Le=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[m(" Type "),t("span",{class:"text-red-500"}," * ")],-1),qe={key:2,class:"sm:col-span-2"},Ue={key:3,class:"sm:col-span-2"},Me={key:4,class:"sm:col-span-2"},Ne={key:5,class:"sm:col-span-2"},$e={key:6,class:"sm:col-span-2"},Be={key:7,class:"sm:col-span-5"},Fe=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[m(" Scope "),t("span",{class:"text-red-500"}," * ")],-1),Ye={key:8,class:"sm:col-span-3"},Ae=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[m(" User "),t("span",{class:"text-red-500"}," * ")],-1),Te={key:9,class:"sm:col-span-2"},Ee={key:10,class:"sm:col-span-6"},Re=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[m(" Product "),t("span",{class:"text-red-500"}," * ")],-1),He={key:0,class:"text-red-500 text-sm"},ze={key:11,class:"sm:col-span-6"},Qe=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[m(" Category "),t("span",{class:"text-red-500"}," * ")],-1),Ze={key:12,class:"sm:col-span-6"},Ge={key:13,class:"sm:col-span-6"},Je=t("span",null," Create Campaign Item ",-1),Ke={key:14,class:"sm:col-span-6 flex flex-col mt-2 mx-2 mb-3"},We={class:"mt-6 flex flex-col"},Xe={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8 px-3"},et={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},tt={class:"min-w-full border-separate",style:{"border-spacing":"0"}},at={class:"bg-gray-100"},lt={class:"divide-x divide-gray-200"},st=t("br",null,null,-1),ot={class:"bg-white"},rt=t("br",null,null,-1),it={class:"text-blue-700"},nt={key:0,role:"list",class:"divide-y divide-gray-100 overflow-scroll bg-white"},mt={class:"flex justify-between gap-x-1 px-1 py-0.5"},dt={class:"flex min-w-0 gap-x-4"},ut={class:"text-sm"},_t={class:"min-w-0 flex-auto"},pt={class:"text-sm font-semibold leading-2 text-gray-900"},ct={key:0,role:"list",class:"divide-y divide-gray-100 overflow-scroll bg-white"},vt={class:"flex justify-between gap-x-2 px-1 py-0.5"},ft={class:"flex min-w-0 gap-x-3"},gt={class:"min-w-0 flex-auto pt-1"},yt={class:"text-sm font-semibold leading-2 text-gray-900"},ht={key:0,class:"text-xs"},xt={key:0},bt=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Vt=[bt],kt={key:15,class:"sm:col-span-6 flex flex-col mt-2 mx-2 mb-3"},Ct={class:"mt-6 flex flex-col"},wt={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8 px-3"},Pt={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},St={class:"min-w-full border-separate",style:{"border-spacing":"0"}},jt={class:"bg-gray-100"},Dt={class:"divide-x divide-gray-200"},Ot={class:"bg-white"},It=t("br",null,null,-1),Lt={class:"flex flex-col space-y-1 max-w-fit"},qt={class:"flex justify-between items-center gap-x-0.5 rounded-md bg-blue-100 px-2 py-1 text-sm font-medium text-blue-700"},Ut={type:"button",class:"group -mr-1 h-4 w-4 rounded-sm hover:bg-blue-700/20"},Mt=t("span",{class:"sr-only"},"Remove",-1),Nt=["onClick"],$t=t("path",{d:"M4 4l6 6m0-6l-6 6"},null,-1),Bt=[$t],Ft=t("span",{class:"absolute -inset-1"},null,-1),Yt={key:0},At=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Tt=[At],sa={__name:"Edit",props:{deliveryPlatformCampaign:Object,deliveryPlatformCampaignItemOptions:Object,deliveryProductMappingVends:Object,type:String},setup(V){const c=V,U=h([]),u=h([]),M=h([]),e=h(L(N())),S=h(!1);h(!1);const O=h("");function N(){return{id:"",cap:"",datetime_from:"",datetime_to:"",delivery_platform_campaign_item:"",delivery_platform_campaign_item_scope:"",delivery_product_mapping_items:"",min_basket_amount:0,qty:"",total_count:"",total_count_per_user:"",promo_value:""}}J(()=>{c.type=="create"?O.value="Create New":O.value="Edit",u.value=c.deliveryPlatformCampaign.data,M.value=c.deliveryPlatformCampaign.data.deliveryProductMapping.deliveryProductMappingItems.map(o=>({id:o.id,full_name:"(#"+o.channel_code+") "+o.product.code+" "+o.product.name,img_url:o.product.thumbnail?o.product.thumbnail.full_url:"",product_id:o.product.id})),U.value=[c.deliveryPlatformCampaign.data.deliveryProductMapping.category_json?{id:c.deliveryPlatformCampaign.data.deliveryProductMapping.category_json.id,name:c.deliveryPlatformCampaign.data.deliveryProductMapping.category_json.name}:{id:"",name:""}],e.value=u.value?L(u.value):L(N())});const A=j(function(){return moment().add(30,"minutes").format("YYYY-MM-DD HH:mm:ss")}),I=j(function(){let o="";return e.value.delivery_platform_campaign_item&&e.value.promo_value&&(e.value.delivery_platform_campaign_item.phrase1&&(o+=e.value.delivery_platform_campaign_item.phrase1),e.value.delivery_platform_campaign_item.qty?o+=e.value.qty?e.value.qty:"":o+=e.value.promo_value?e.value.promo_value:"",e.value.delivery_platform_campaign_item.phrase2&&(o+=e.value.delivery_platform_campaign_item.phrase2),e.value.delivery_platform_campaign_item.cap&&(o+=e.value.cap?e.value.cap:""),e.value.delivery_platform_campaign_item.qty?o+=e.value.promo_value?e.value.promo_value:"":o+=e.value.qty?e.value.qty:"",e.value.delivery_platform_campaign_item.phrase3&&(o+=" "+e.value.delivery_platform_campaign_item.phrase3),e.value.delivery_platform_campaign_item_scope&&(o+=" "+e.value.delivery_platform_campaign_item_scope.name)),o}),T=j(function(){return moment(e.value.datetime_from).add(2,"hours").format("YYYY-MM-DD HH:mm:ss")}),$=j(function(){let o=!0;return(!e.value.delivery_platform_campaign_item||!e.value.promo_value||!e.value.delivery_platform_campaign_item_scope)&&(o=!1),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.qty&&!e.value.qty&&(o=!1),e.value.delivery_platform_campaign_item_scope_eater_type||(o=!1),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isProduct&&(e.value.delivery_product_mapping_items?(e.value.delivery_product_mapping_items.length==0&&(o=!1),e.value.delivery_platform_campaign_item_scope.singleObjectOnly&&e.value.delivery_product_mapping_items.length>1&&(o=!1)):o=!1),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isCategory&&e.value.category&&e.value.category.length==0&&(e.value.category?(e.value.category.length==0&&(o=!1),e.value.category.singleObjectOnly&&e.value.category.length>1&&(o=!1)):o=!1),o});function E(o){!confirm("Are you sure to delete this entry?")||D.delete("/delivery-platform-campaigns/item-vend/"+o,{preserveState:!1,preserveScroll:!0,replace:!0})}function R(){S.value=!0,e.value.delivery_platform_campaign_item_scope="",e.value.delivery_platform_campaign_item_scope_eater_type="",e.value.category="",e.value.qty="",e.value.promo_value="",e.value.cap="",e.value.total_count="",e.value.total_count_per_user=""}function H(){S.value=!0}function z(o){!confirm("Are you sure to delete this entry?")||D.delete("/delivery-platform-campaigns/item/"+o,{preserveState:!1,preserveScroll:!0,replace:!0})}function Q(){D.post("/delivery-platform-campaigns/"+e.value.id+"/create-item",{...e.value,delivery_platform_campaign_item:e.value.delivery_platform_campaign_item?e.value.delivery_platform_campaign_item.id:"",delivery_platform_campaign_item_scope:e.value.delivery_platform_campaign_item_scope?e.value.delivery_platform_campaign_item_scope.id:"",delivery_platform_campaign_item_scope_eater_type:e.value.delivery_platform_campaign_item_scope_eater_type?e.value.delivery_platform_campaign_item_scope_eater_type.id:"",settings_label:I.value},{preserveState:!1,preserveScroll:!0,replace:!0})}function Z(){e.value.clearErrors(),e.value.transform(o=>({name:o.name,reserved_percent:o.reserved_percent,reserved_qty:o.reserved_qty})).post("/delivery-product-mappings/"+e.value.id+"/update",{preserveState:!0,replace:!0})}function G(o){!confirm("Are you sure to submit this campaign and its items to platform?")||D.post("/delivery-platform-campaigns/"+o+"/submit-platform",{},{preserveState:!1,preserveScroll:!0,replace:!0})}return(o,s)=>(i(),r(b,null,[l(x(K),{title:"Delivery Product Mapping"}),l(X,null,{header:n(()=>[t("h2",ae,[m(_(O.value)+" Delivery Platform Campaign ",1),V.type=="update"?(i(),r("span",le,_(u.value.name),1)):d("",!0)])]),default:n(()=>[t("div",se,[t("div",oe,[t("div",re,[t("div",ie,[t("form",{onSubmit:k(Z,["prevent"]),id:"submit"},[t("div",ne,[t("div",me,[l(f,{modelValue:e.value.name,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value.name=a),error:e.value.errors.name,required:"true"},{default:n(()=>[m(" Name ")]),_:1},8,["modelValue","error"])]),t("div",de,[ue,t("div",_e,[t("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:c.deliveryPlatformCampaign.data.deliveryProductMapping.name,disabled:""},null,8,pe)])]),t("div",ce,[ve,t("div",fe,[t("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:c.deliveryPlatformCampaign.data.deliveryPlatformOperator.deliveryPlatform.name+" ("+c.deliveryPlatformCampaign.data.deliveryPlatformOperator.type+")",disabled:""},null,8,ge)])]),t("div",ye,[l(Y,{modelValue:e.value.datetime_from,"onUpdate:modelValue":s[1]||(s[1]=a=>e.value.datetime_from=a),error:e.value.errors.datetime_from,minDate:A.value,onInput:s[2]||(s[2]=a=>o.onDateFromChanged())},{default:n(()=>[m(" Begin Date "),he]),_:1},8,["modelValue","error","minDate"])]),t("div",xe,[l(Y,{modelValue:e.value.datetime_to,"onUpdate:modelValue":s[3]||(s[3]=a=>e.value.datetime_to=a),error:e.value.errors.datetime_to,minDate:T.value},{default:n(()=>[m(" End Date "),be]),_:1},8,["modelValue","error","minDate"])]),t("div",Ve,[t("div",ke,[l(x(W),{href:"/delivery-platform-campaigns"},{default:n(()=>[l(w,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1"},{default:n(()=>[l(x(ee),{class:"w-4 h-4"}),Ce]),_:1})]),_:1}),l(w,{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:n(()=>[l(x(q),{class:"w-4 h-4"}),we]),_:1}),l(w,{class:"bg-yellow-500 hover:bg-yellow-600 text-black flex space-x-1",onClick:s[4]||(s[4]=k(a=>G(u.value.id),["prevent"]))},{default:n(()=>[l(x(q),{class:"w-4 h-4"}),Pe]),_:1})])]),Se,I.value?(i(),r("div",je,[t("div",De,[t("div",Oe,_(I.value),1)])])):d("",!0),e.value.id?(i(),r("div",Ie,[Le,l(P,{modelValue:e.value.delivery_platform_campaign_item,"onUpdate:modelValue":s[5]||(s[5]=a=>e.value.delivery_platform_campaign_item=a),options:V.deliveryPlatformCampaignItemOptions,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1",onSelected:s[6]||(s[6]=a=>R())},null,8,["modelValue","options"])])):d("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.cap?(i(),r("div",qe,[l(f,{modelValue:e.value.cap,"onUpdate:modelValue":s[7]||(s[7]=a=>e.value.cap=a),error:e.value.errors.cap,placeholderStr:"Number"},{default:n(()=>[m(" Cap (Max Discount Dollar) ")]),_:1},8,["modelValue","error"])])):d("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.qty?(i(),r("div",Ue,[l(f,{modelValue:e.value.qty,"onUpdate:modelValue":s[8]||(s[8]=a=>e.value.qty=a),error:e.value.errors.qty,placeholderStr:"Number",required:"true"},{default:n(()=>[m(" Bundle Total Qty ")]),_:1},8,["modelValue","error"])])):d("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.id?(i(),r("div",Me,[l(f,{modelValue:e.value.promo_value,"onUpdate:modelValue":s[9]||(s[9]=a=>e.value.promo_value=a),error:e.value.errors.promo_value,placeholderStr:"Number",required:"true"},{default:n(()=>[m(" Value ("+_(e.value.delivery_platform_campaign_item.id)+") ",1)]),_:1},8,["modelValue","error"])])):d("",!0),e.value.delivery_platform_campaign_item?(i(),r("div",Ne,[l(f,{modelValue:e.value.total_count,"onUpdate:modelValue":s[10]||(s[10]=a=>e.value.total_count=a),error:e.value.errors.total_count,placeholderStr:"Default Unlimited"},{default:n(()=>[m(" Redemption Limit ")]),_:1},8,["modelValue","error"])])):d("",!0),e.value.delivery_platform_campaign_item?(i(),r("div",$e,[l(f,{modelValue:e.value.total_count_per_user,"onUpdate:modelValue":s[11]||(s[11]=a=>e.value.total_count_per_user=a),error:e.value.errors.total_count_per_user,placeholderStr:"Default Unlimited"},{default:n(()=>[m(" Redemtion Limit/ User ")]),_:1},8,["modelValue","error"])])):d("",!0),e.value.delivery_platform_campaign_item?(i(),r("div",Be,[Fe,l(P,{modelValue:e.value.delivery_platform_campaign_item_scope,"onUpdate:modelValue":s[12]||(s[12]=a=>e.value.delivery_platform_campaign_item_scope=a),options:e.value.delivery_platform_campaign_item.scope,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1",onSelected:s[13]||(s[13]=a=>H())},null,8,["modelValue","options"])])):d("",!0),e.value.delivery_platform_campaign_item_scope?(i(),r("div",Ye,[Ae,l(P,{modelValue:e.value.delivery_platform_campaign_item_scope_eater_type,"onUpdate:modelValue":s[14]||(s[14]=a=>e.value.delivery_platform_campaign_item_scope_eater_type=a),options:e.value.delivery_platform_campaign_item_scope.eaterType,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1"},null,8,["modelValue","options"])])):d("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.minBasketAmount?(i(),r("div",Te,[l(f,{modelValue:e.value.min_basket_amount,"onUpdate:modelValue":s[15]||(s[15]=a=>e.value.min_basket_amount=a),error:e.value.errors.min_basket_amount,placeholderStr:"Number"},{default:n(()=>[m(" Minimum Basket Amount ")]),_:1},8,["modelValue","error"])])):d("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isProduct?(i(),r("span",Ee,[Re,l(P,{modelValue:e.value.delivery_product_mapping_items,"onUpdate:modelValue":s[16]||(s[16]=a=>e.value.delivery_product_mapping_items=a),options:M.value,trackBy:"id",valueProp:"id",label:"full_name",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1",clear:S.value,max:e.value.delivery_platform_campaign_item_scope.singleObjectOnly?1:-1},null,8,["modelValue","options","clear","max"]),t("span",null,[e.value.delivery_platform_campaign_item_scope.singleObjectOnly?(i(),r("span",He," * Single Object Only ")):d("",!0)])])):d("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isCategory?(i(),r("span",ze,[Qe,l(P,{modelValue:e.value.category,"onUpdate:modelValue":s[17]||(s[17]=a=>e.value.category=a),options:U.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1",clear:S.value,max:e.value.delivery_platform_campaign_item_scope.singleObjectOnly?1:-1},null,8,["modelValue","options","clear","max"])])):d("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item_scope?(i(),r("div",Ze,[l(f,{modelValue:e.value.settings_name,"onUpdate:modelValue":s[18]||(s[18]=a=>e.value.settings_name=a),error:e.value.errors.settings_name,placeholderStr:"Campaign Item Name"},{default:n(()=>[m(" Campaign Item Name (Optional) ")]),_:1},8,["modelValue","error"])])):d("",!0),e.value.id?(i(),r("div",Ge,[l(w,{type:"button",onClick:s[19]||(s[19]=k(a=>Q(),["prevent"])),class:F(["bg-green-500 hover:bg-green-600 text-white flex space-x-1 sm:mt-1",[$.value?"":"opacity-50 cursor-not-allowed"]]),disabled:!$.value},{default:n(()=>[l(x(q),{class:"w-4 h-4"}),Je]),_:1},8,["class","disabled"])])):d("",!0),e.value.id?(i(),r("div",Ke,[t("div",We,[t("div",Xe,[t("div",et,[t("table",tt,[t("thead",at,[t("tr",lt,[l(g,null,{default:n(()=>[m(" # ")]),_:1}),l(g,null,{default:n(()=>[m(" Name "),st,m(" Label ")]),_:1}),l(g,null,{default:n(()=>[m(" Settings ")]),_:1}),l(g,null,{default:n(()=>[m(" Items ")]),_:1}),l(g,null,{default:n(()=>[m(" Action ")]),_:1})])]),t("tbody",ot,[(i(!0),r(b,null,C(u.value.deliveryPlatformCampaignItems,(a,p)=>(i(),r("tr",{key:a.id,class:"divide-x divide-gray-300"},[l(y,{currentIndex:p,totalLength:u.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[m(_(p+1),1)]),_:2},1032,["currentIndex","totalLength"]),l(y,{currentIndex:p,totalLength:u.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[m(_(a.settings_name)+" ",1),rt,t("span",it,_(a.settings_label),1)]),_:2},1032,["currentIndex","totalLength"]),l(y,{currentIndex:p,totalLength:u.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[a.settings_json?(i(),r("ul",nt,[(i(!0),r(b,null,C(a.settings_json,(v,B)=>(i(),r("li",mt,[t("div",dt,[t("span",ut,_(B)+": ",1),t("div",_t,[t("p",pt,_(v),1)])])]))),256))])):d("",!0)]),_:2},1032,["currentIndex","totalLength"]),l(y,{currentIndex:p,totalLength:u.value.deliveryPlatformCampaignItems.length,inputClass:"text-left"},{default:n(()=>[a.items_json?(i(),r("ul",ct,[(i(!0),r(b,null,C(a.items_json,v=>(i(),r("li",vt,[t("div",ft,[t("div",gt,[t("p",yt,_(v.full_name?v.full_name:v.name),1)])])]))),256))])):d("",!0)]),_:2},1032,["currentIndex","totalLength"]),l(y,{currentIndex:p,totalLength:u.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[l(w,{onClick:k(v=>z(a.id),["prevent"]),class:F(["flex flex-col bg-red-500 hover:bg-red-600 text-white",[a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0?"opacity-50 cursor-not-allowed":""]]),disabled:a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0},{default:n(()=>[l(x(te),{class:"w-4 h-4"}),a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0?(i(),r("span",ht," Campaigns running, cannot delete ")):d("",!0)]),_:2},1032,["onClick","disabled","class"])]),_:2},1032,["currentIndex","totalLength"])]))),128)),u.value.deliveryPlatformCampaignItems.length?d("",!0):(i(),r("tr",xt,Vt))])])])])])])):d("",!0),e.value.id?(i(),r("div",kt,[t("div",Ct,[t("div",wt,[t("div",Pt,[t("table",St,[t("thead",jt,[t("tr",Dt,[l(g,null,{default:n(()=>[m(" # ")]),_:1}),l(g,null,{default:n(()=>[m(" Vend ")]),_:1}),l(g,null,{default:n(()=>[m(" Campaign ")]),_:1})])]),t("tbody",Ot,[(i(!0),r(b,null,C(V.deliveryProductMappingVends.data,(a,p)=>(i(),r("tr",{key:a.id,class:"divide-x divide-gray-300"},[l(y,{currentIndex:p,totalLength:u.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[m(_(p+1),1)]),_:2},1032,["currentIndex","totalLength"]),l(y,{currentIndex:p,totalLength:u.value.deliveryPlatformCampaignItems.length,inputClass:"text-left"},{default:n(()=>[m(_(a.vend.code)+" ",1),It,m(" "+_(a.vend.cust_full_name),1)]),_:2},1032,["currentIndex","totalLength"]),l(y,{currentIndex:p,totalLength:u.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[t("div",Lt,[(i(!0),r(b,null,C(a.deliveryPlatformCampaignItemVends,v=>(i(),r("span",qt,[m(_(v.deliveryPlatformCampaignItem.settings_name)+" ",1),t("button",Ut,[Mt,(i(),r("svg",{viewBox:"0 0 14 14",class:"h-4 w-4 stroke-blue-900/50 group-hover:stroke-blue-900/75",onClick:k(B=>E(v.id),["prevent"])},Bt,8,Nt)),Ft])]))),256))])]),_:2},1032,["currentIndex","totalLength"])]))),128)),V.deliveryProductMappingVends.length?d("",!0):(i(),r("tr",Yt,Tt))])])])])])])):d("",!0)])],32)])])])])]),_:1})],64))}};export{sa as default};
