import{_ as A,r as D}from"./Authenticated.13b7b0e8.js";import{_ as g}from"./Button.ed45b51f.js";import H from"./Form.c7a86511.js";import J from"./VendForm.13cba645.js";import{_ as U,r as R,T as k,a as q,b as z,c as b}from"./TableHeadSort.e6b72903.js";import{_ as G}from"./MultiSelect.7b03238a.js";import{i as _,j as Q,o as l,g as u,a as t,b as m,w as s,F as C,H as W,d as e,t as c,m as V,p as h,c as B,f as p,J as $}from"./app.67c9dded.js";import{r as X}from"./PlusIcon.03d4d62d.js";import{r as Y}from"./BackspaceIcon.f76a474b.js";import{r as Z}from"./PencilSquareIcon.8b95aa53.js";import{r as ee}from"./TrashIcon.027fa2d7.js";import"./open-closed.bfb71d73.js";import"./use-resolve-button-type.0b3e8983.js";import"./RectangleStackIcon.1b2efe94.js";import"./FormInput.2cf67d4a.js";import"./FormTextarea.d783b737.js";import"./Modal.249bc9b0.js";import"./PlusCircleIcon.54a28c43.js";import"./ArrowUturnLeftIcon.efa435d0.js";import"./CheckCircleIcon.6eb06321.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.ce09bcbe.js";import"./_plugin-vue_export-helper.cdc0426e.js";const te=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Product Mappings ",-1),se={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},ne={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-3 px-3 md:px-3 py-3"},oe={class:"flex justify-end"},ae=e("span",null," Create ",-1),le={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},de=p(" Name "),re={class:"flex flex-col space-y-3 md:flex-row md:space-y-0 justify-between mt-5"},ie={class:"mt-3"},ue={class:"flex space-x-1"},ce=e("span",null," Search ",-1),me=e("span",null," Reset ",-1),pe={class:"flex flex-col space-y-2"},fe={class:"text-sm text-gray-700 leading-5 flex space-x-1"},ge=e("span",null,"Showing",-1),_e={class:"font-medium"},he=e("span",null,"to",-1),xe={class:"font-medium"},ve=e("span",null,"of",-1),ye={class:"font-medium"},be=e("span",null,"results",-1),we={class:"mt-6 flex flex-col"},ke={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},Ce={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},$e={class:"min-w-full border-separate",style:{"border-spacing":"0"}},Me={class:"bg-gray-100"},Pe={class:"divide-x divide-gray-200"},Ve=p(" # "),Be=p(" Name "),Le=p(" Channel - Product "),Se=p(" Binded Vending Machines "),Ne={class:"bg-white"},Fe={class:"divide-y divide-gray-200"},Ie={class:"flex py-1 px-3 space-x-2"},je={class:"text-blue-700 text-md pr-2"},Ke={key:0},Te={class:"divide-y divide-gray-200"},Ee={class:"flex py-1 px-3 space-x-2"},Oe={key:0},Ae={class:"flex justify-center space-x-1"},De=e("span",null," Edit ",-1),He=e("span",null," VM Binding ",-1),Je={class:"flex space-x-1"},Ue=e("span",null," Delete ",-1),Re=e("span",null," (Binded) ",-1),qe={key:0},ze=e("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Ge=[ze],ht={__name:"Index",props:{products:Object,productMappings:Object,unbindedVends:Object},setup(n){const d=_({name:"",sortKey:"",sortBy:!0,numberPerPage:100}),x=_(!1),w=_(!1),v=_(),y=_(""),M=_([]);Q(()=>{M.value=[{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],d.value.numberPerPage=M.value[0]});function N(){y.value="create",v.value=null,x.value=!0}function F(r){!confirm("Are you sure to delete "+r.name+"?")||$.Inertia.delete("/product-mappings/"+r.id)}function I(r){y.value="update",v.value=r,x.value=!0}function j(r){y.value="update",v.value=r,$.Inertia.visit(route("product-mappings",{id:r.id}),{only:["unbindedVends"],preserveState:!0}),w.value=!0}function P(){$.Inertia.get("/product-mappings",{...d.value,numberPerPage:d.value.numberPerPage.id},{preserveState:!0,replace:!0})}function K(){$.Inertia.get("/product-mappings")}function T(r){d.value.sortKey=r,d.value.sortBy=!d.value.sortBy,P()}function E(){x.value=!1}function O(){w.value=!1}return(r,a)=>(l(),u(C,null,[t(m(W),{title:"Payment Methods"}),t(A,null,{header:s(()=>[te]),default:s(()=>{var L,S;return[e("div",se,[e("div",ne,[e("div",oe,[t(g,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-5 py-3 md:px-4 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:a[0]||(a[0]=o=>N())},{default:s(()=>[t(m(X),{class:"h-4 w-4","aria-hidden":"true"}),ae]),_:1})]),e("div",le,[t(U,{placeholderStr:"Name",modelValue:d.value.name,"onUpdate:modelValue":a[1]||(a[1]=o=>d.value.name=o)},{default:s(()=>[de]),_:1},8,["modelValue"])]),e("div",re,[e("div",ie,[e("div",ue,[t(g,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:a[2]||(a[2]=o=>P())},{default:s(()=>[t(m(R),{class:"h-4 w-4","aria-hidden":"true"}),ce]),_:1}),t(g,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-gray-300 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-gray-800 shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:a[3]||(a[3]=o=>K())},{default:s(()=>[t(m(Y),{class:"h-4 w-4","aria-hidden":"true"}),me]),_:1})])]),e("div",pe,[e("p",fe,[ge,e("span",_e,c((L=n.productMappings.meta.from)!=null?L:0),1),he,e("span",xe,c((S=n.productMappings.meta.to)!=null?S:0),1),ve,e("span",ye,c(n.productMappings.meta.total),1),be]),t(G,{modelValue:d.value.numberPerPage,"onUpdate:modelValue":a[4]||(a[4]=o=>d.value.numberPerPage=o),options:M.value,trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1",onSelected:P},null,8,["modelValue","options"])])])]),e("div",we,[e("div",ke,[e("div",Ce,[e("table",$e,[e("thead",Me,[e("tr",Pe,[t(k,null,{default:s(()=>[Ve]),_:1}),t(q,{modelName:"name",sortKey:d.value.sortKey,sortBy:d.value.sortBy,onSortTable:a[5]||(a[5]=o=>T("name"))},{default:s(()=>[Be]),_:1},8,["sortKey","sortBy"]),t(k,null,{default:s(()=>[Le]),_:1}),t(k,null,{default:s(()=>[Se]),_:1}),t(k)])]),e("tbody",Ne,[(l(!0),u(C,null,V(n.productMappings.data,(o,f)=>(l(),u("tr",{key:o.id,class:"divide-x divide-gray-200"},[t(b,{currentIndex:f,totalLength:n.productMappings.length,inputClass:"text-center"},{default:s(()=>[p(c(n.productMappings.meta.from+f),1)]),_:2},1032,["currentIndex","totalLength"]),t(b,{currentIndex:f,totalLength:n.productMappings.length,inputClass:"text-left"},{default:s(()=>[p(c(o.name),1)]),_:2},1032,["currentIndex","totalLength"]),t(b,{currentIndex:f,totalLength:n.productMappings.length,inputClass:"text-left"},{default:s(()=>[e("ul",Fe,[(l(!0),u(C,null,V(o.productMappingItemsJson,i=>(l(),u("li",Ie,[e("span",je,c(i.channel_code),1),i.product.code?(l(),u("span",Ke,c(i.product.code),1)):h("",!0),e("span",null," - "+c(i.product.name),1)]))),256))])]),_:2},1032,["currentIndex","totalLength"]),t(b,{currentIndex:f,totalLength:n.productMappings.length,inputClass:"text-left"},{default:s(()=>[e("ul",Te,[(l(!0),u(C,null,V(o.vendsJson,i=>(l(),u("li",Ee,[i.full_name?(l(),u("span",Oe,c(i.full_name),1)):h("",!0)]))),256))])]),_:2},1032,["currentIndex","totalLength"]),t(b,{currentIndex:f,totalLength:n.productMappings.length,inputClass:"text-center"},{default:s(()=>[e("div",Ae,[t(g,{type:"button",class:"bg-gray-300 hover:bg-gray-400 px-3 py-2 text-xs text-gray-800 flex space-x-1",onClick:i=>I(o)},{default:s(()=>[t(m(Z),{class:"w-4 h-4"}),De]),_:2},1032,["onClick"]),t(g,{type:"button",class:"bg-blue-300 hover:bg-blue-400 px-3 py-2 text-xs text-gray-800 flex space-x-1",onClick:i=>j(o)},{default:s(()=>[t(m(D),{class:"w-4 h-4"}),He]),_:2},1032,["onClick"]),t(g,{type:"button",class:"bg-red-300 hover:bg-red-400 px-3 py-2 text-xs text-red-800 flex-col space-y-1",onClick:i=>F(o)},{default:s(()=>[e("span",Je,[t(m(ee),{class:"w-4 h-4"}),Ue]),Re]),_:2},1032,["onClick"])])]),_:2},1032,["currentIndex","totalLength"])]))),128)),n.productMappings.data.length?h("",!0):(l(),u("tr",qe,Ge))])]),n.productMappings.data.length?(l(),B(z,{key:0,links:n.productMappings.links,meta:n.productMappings.meta},null,8,["links","meta"])):h("",!0)])])])]),x.value?(l(),B(H,{key:0,products:n.products,productMapping:v.value,type:y.value,showModal:x.value,onModalClose:E},null,8,["products","productMapping","type","showModal"])):h("",!0),w.value?(l(),B(J,{key:1,productMapping:v.value,type:y.value,showModal:w.value,unbindedVends:n.unbindedVends,onModalClose:O},null,8,["productMapping","type","showModal","unbindedVends"])):h("",!0)]}),_:1})],64))}};export{ht as default};
