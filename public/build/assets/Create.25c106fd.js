import{g as d,T as y,K as w,h as S,f as u,a as s,u as n,w as a,F as B,o as i,Z as C,b as t,e as O,d as m,t as g,l as c,i as j,c as N}from"./app.99b2bcf2.js";import{_ as U}from"./Authenticated.59d2fb66.js";import{_ as h}from"./Button.e940bf95.js";import{_ as p}from"./FormInput.fd107ac7.js";import{_ as $}from"./FormTextarea.876e51e7.js";import{_ as V}from"./MultiSelect.8c47b747.js";import{r as T}from"./ArrowUturnLeftIcon.ccd0bfe7.js";import{r as A}from"./CheckCircleIcon.028e59f5.js";import"./open-closed.a9a0aa16.js";import"./use-resolve-button-type.15e58cc6.js";import"./RectangleStackIcon.d82c8c6d.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.a9315ab9.js";const F=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create New Operator ",-1),M={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},D={class:"mt-6 flex flex-col"},E={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},G={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll p-5"},P=["onSubmit"],R={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6"},q={class:"sm:col-span-2"},K={class:"sm:col-span-4"},Z={class:"sm:col-span-3"},H=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Country ",-1),I={key:0,class:"text-sm text-red-600"},J={class:"sm:col-span-3"},L=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Timezone ",-1),Q={key:0,class:"text-sm text-red-600"},W={class:"sm:col-span-4"},X=t("span",{class:"text-[9px]"}," (For Gross Margin Calculation) ",-1),Y={class:"sm:col-span-6"},ee={class:"sm:col-span-6"},te={class:"flex space-x-1 mt-5 justify-end"},oe=t("span",null," Back ",-1),se=t("span",null," Save ",-1),fe={__name:"Create",props:{countries:[Array,Object],timezones:[Array,Object],permissions:[Array,Object]},setup(b){const _=b,v=d([]),e=d(y(x())),k=w().props.auth.permissions,f=d([]);S(()=>{v.value=_.countries.data,e.value=y(x()),f.value=_.timezones.map((l,o)=>({id:o,name:l}))});function x(){return{code:"",name:"",gst_vat_rate:"",country_id:"",timezone:"",remarks:""}}function z(){e.value.clearErrors(),e.value.transform(l=>({...l,timezone:l.timezone?l.timezone.name:null,country_id:l.country_id?l.country_id.id:null})).post("/operators/store",{preserveState:!0,replace:!0})}return(l,o)=>(i(),u(B,null,[s(n(C),{title:"Operator"}),s(U,null,{header:a(()=>[F]),default:a(()=>[t("div",M,[t("div",D,[t("div",E,[t("div",G,[t("form",{onSubmit:O(z,["prevent"]),id:"submit"},[t("div",R,[t("div",q,[s(p,{modelValue:e.value.code,"onUpdate:modelValue":o[0]||(o[0]=r=>e.value.code=r),error:e.value.errors.code},{default:a(()=>[m(" Code ")]),_:1},8,["modelValue","error"])]),t("div",K,[s(p,{modelValue:e.value.name,"onUpdate:modelValue":o[1]||(o[1]=r=>e.value.name=r),error:e.value.errors.name,required:"true"},{default:a(()=>[m(" Name ")]),_:1},8,["modelValue","error"])]),t("div",Z,[H,s(V,{modelValue:e.value.country_id,"onUpdate:modelValue":o[2]||(o[2]=r=>e.value.country_id=r),options:v.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),e.value.errors.country_id?(i(),u("div",I,g(e.value.errors.country_id),1)):c("",!0)]),t("div",J,[L,s(V,{modelValue:e.value.timezone,"onUpdate:modelValue":o[3]||(o[3]=r=>e.value.timezone=r),options:f.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),e.value.errors.timezone?(i(),u("div",Q,g(e.value.errors.timezone),1)):c("",!0)]),t("div",W,[s(p,{modelValue:e.value.gst_vat_rate,"onUpdate:modelValue":o[4]||(o[4]=r=>e.value.gst_vat_rate=r),error:e.value.errors.gst_vat_rate},{default:a(()=>[m(" GST or VAT Rate (%) "),X]),_:1},8,["modelValue","error"])]),t("div",Y,[s($,{modelValue:e.value.remarks,"onUpdate:modelValue":o[5]||(o[5]=r=>e.value.remarks=r),error:e.value.errors.remarks},{default:a(()=>[m(" Remarks ")]),_:1},8,["modelValue","error"])]),t("div",ee,[t("div",te,[s(n(j),{href:"/operators"},{default:a(()=>[s(h,{type:"button",class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1"},{default:a(()=>[s(n(T),{class:"w-4 h-4"}),oe]),_:1})]),_:1}),n(k).includes("update operators")?(i(),N(h,{key:0,type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:a(()=>[s(n(A),{class:"w-4 h-4"}),se]),_:1})):c("",!0)])])])],40,P)])])])])]),_:1})],64))}};export{fe as default};
