import{Q as h,g as j,T as v,h as $,c as u,a,w as d,p as I,o as l,b as e,t as w,u as i,d as V,f as g,l as f,n as U,e as y,O as S}from"./app.8e5e70ab.js";import{_ as c}from"./Button.ef330701.js";import{_ as B}from"./MultiSelect.6a0639d3.js";import{_ as D}from"./FormInput.9100332a.js";import{_ as K}from"./Modal.f33697e2.js";import{r as A}from"./ArrowUturnLeftIcon.c3527749.js";import{r as E}from"./CheckCircleIcon.67aa7dcf.js";import{r as N}from"./PauseCircleIcon.4a0196fa.js";import{r as T}from"./PlayCircleIcon.7426513b.js";import{r as z}from"./BackspaceIcon.8896672f.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.514d544f.js";import"./keyboard.f05e4f48.js";import"./disposables.61fbf638.js";const F={class:"flex flex-col md:flex-row space-x-2"},Q=e("span",{class:"text-gray-600"}," Editing Channel ID ",-1),R={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6 pb-2"},q={class:"sm:col-span-6"},G=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Product ",-1),H={class:"mt-1"},J=["value"],L={class:"sm:col-span-6"},W={class:"sm:col-span-6"},X=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Sub Category ",-1),Y={key:0,class:"text-sm text-red-600"},Z={class:"sm:col-span-6"},ee={class:"flex space-x-1 mt-5 justify-end"},te=e("span",null," Back ",-1),se=e("span",null," Save ",-1),oe={key:2,class:"text-xs"},re={key:3,class:"text-xs"},ae=e("span",{class:"text-xs"}," Unbind SKU ",-1),_e={__name:"EditItem",props:{deliveryProductMapping:Object,deliveryProductMappingItemObj:Object,showModal:Boolean},emits:["modalClose"],setup(o,{emit:M}){const b=h().props.auth.permissions,k=h().props.auth.roles,p=o,m=M,s=j(v(x())),_=j([]);$(()=>{_.value=p.deliveryProductMapping.category_json.subCategories,s.value=p.deliveryProductMappingItemObj?v(p.deliveryProductMappingItemObj):v(x())});function x(){return{amount:"",sub_category_json:""}}function C(){s.value.clearErrors(),s.value.post("/delivery-product-mapping-items/"+s.value.id+"/update",{onSuccess:()=>{m("modalClose")},preserveState:!0,preserveScroll:!0,replace:!0})}function P(n){let t=n.is_active?"Are you sure to pause this SKU?":"Are you sure to resume this SKU?";!confirm(t)||S.post("/delivery-product-mapping-items/"+n.id+"/toggle-pause",{},{onSuccess:()=>{m("modalClose")},preserveState:!1,preserveScroll:!0,replace:!0})}function O(n){!confirm("Are you sure to delete this entry?")||S.delete("/delivery-product-mapping-items/"+n,{onSuccess:()=>{m("modalClose")},preserveState:!1,preserveScroll:!0,replace:!0})}return(n,t)=>(l(),u(I,{to:"body"},[a(K,{open:o.showModal,onModalClose:t[5]||(t[5]=r=>n.$emit("modalClose"))},{header:d(()=>[e("div",F,[Q,e("span",null,w(o.deliveryProductMappingItemObj.channel_code),1)])]),default:d(()=>[e("form",{onSubmit:y(C,["prevent"]),id:"submit"},[e("div",R,[e("div",q,[G,e("div",H,[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:o.deliveryProductMappingItemObj.product.full_name,disabled:""},null,8,J)])]),e("div",L,[a(D,{modelValue:s.value.amount,"onUpdate:modelValue":t[0]||(t[0]=r=>s.value.amount=r),error:s.value.errors.amount,disabled:!i(b).includes("update vends")},{default:d(()=>[V(" Amount ")]),_:1},8,["modelValue","error","disabled"])]),e("div",W,[X,a(B,{modelValue:s.value.sub_category_json,"onUpdate:modelValue":t[1]||(t[1]=r=>s.value.sub_category_json=r),options:_.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1"},null,8,["modelValue","options"]),s.value.errors.sub_category_json?(l(),g("div",Y,w(s.value.errors.sub_category_json),1)):f("",!0)])]),e("div",Z,[e("div",ee,[a(c,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1",onClick:t[2]||(t[2]=r=>n.$emit("modalClose")),form:"submit"},{default:d(()=>[a(i(A),{class:"w-4 h-4"}),te]),_:1}),i(b).includes("update vends")?(l(),u(c,{key:0,type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:d(()=>[a(i(E),{class:"w-4 h-4"}),se]),_:1})):f("",!0),a(c,{class:U(["flex space-x-1",[o.deliveryProductMappingItemObj.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:t[3]||(t[3]=y(r=>P(o.deliveryProductMappingItemObj),["prevent"]))},{default:d(()=>[o.deliveryProductMappingItemObj.is_active?(l(),u(i(N),{key:0,class:"w-3 h-3"})):(l(),u(i(T),{key:1,class:"w-3 h-3"})),o.deliveryProductMappingItemObj.is_active?(l(),g("span",oe," Pause SKU ")):(l(),g("span",re," Resume SKU "))]),_:1},8,["class"]),i(k).includes("superadmin")?(l(),u(c,{key:1,class:"bg-red-400 hover:bg-red-500 text-white flex space-x-1",onClick:t[4]||(t[4]=y(r=>O(o.deliveryProductMappingItemObj.id),["prevent"]))},{default:d(()=>[a(i(z),{class:"w-3 h-3"}),ae]),_:1})):f("",!0)])])],32)]),_:1},8,["open"])]))}};export{_e as default};
