import{i as g,u as n,j as V,o as d,c as C,a as r,w as i,T as k,d as o,g as c,p as f,t as y,b as v,e as w,f as h}from"./app.3ed8851a.js";import{_ as x}from"./Button.b997c623.js";import{_ as S}from"./FormInput.830d9037.js";import{_ as $}from"./FormTextarea.9357eb36.js";import{_ as B}from"./Modal.811223cc.js";import{_ as N}from"./MultiSelect.91a4bf59.js";import{r as j}from"./ArrowUturnLeftIcon.109282f1.js";import{r as M}from"./CheckCircleIcon.a14e1f46.js";import"./open-closed.7788d12a.js";const G={class:"flex flex-col md:flex-row space-x-2"},D={key:0,class:"text-gray-600"},E={key:1},F={key:2,class:"text-gray-600"},O=["onSubmit"],T={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6"},U={class:"sm:col-span-6"},q=h(" Name "),P={class:"sm:col-span-6"},z=h(" Desc "),A={class:"sm:col-span-6"},H=o("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Category Group ",-1),I={key:0,class:"text-sm text-red-600"},J={class:"sm:col-span-6"},K={class:"flex space-x-1 mt-5 justify-end"},L=o("span",null," Back ",-1),Q=o("span",null," Save ",-1),ae={__name:"Form",props:{category:Object,categoryGroups:Object,type:String,showModal:Boolean},emits:["modalClose"],setup(u,{emit:m}){const s=u,e=g(n(_())),p=g([]);V(()=>{p.value=s.categoryGroups.data,e.value=s.category?n(s.category):n(_()),s.type==="create"&&(e.value.category_group_id=e.value.category_group_id?e.value.category_group_id:"")});function _(){return{name:"",desc:"",category_group_id:""}}function b(){e.value.clearErrors(),s.type==="create"&&e.value.transform(a=>({...a,category_group_id:a.category_group_id.id})).post("/categories/create",{onSuccess:()=>{m("modalClose")},preserveState:!0,replace:!0}),s.type==="update"&&e.value.transform(a=>({...a,category_group_id:a.category_group_id.id})).post("/categories/"+e.value.id+"/update",{onSuccess:()=>{m("modalClose")},preserveState:!0,replace:!0})}return(a,t)=>(d(),C(k,{to:"body"},[r(B,{open:u.showModal,onModalClose:t[4]||(t[4]=l=>a.$emit("modalClose"))},{header:i(()=>[o("div",G,[s.category?(d(),c("span",D," Editing ")):f("",!0),s.category?(d(),c("span",E,y(s.category.name),1)):(d(),c("span",F," Create New Category "))])]),default:i(()=>[o("form",{onSubmit:w(b,["prevent"]),id:"submit"},[o("div",T,[o("div",U,[r(S,{modelValue:e.value.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e.value.name=l),error:e.value.errors.name,required:"true"},{default:i(()=>[q]),_:1},8,["modelValue","error"])]),o("div",P,[r($,{modelValue:e.value.desc,"onUpdate:modelValue":t[1]||(t[1]=l=>e.value.desc=l),error:e.value.errors.desc},{default:i(()=>[z]),_:1},8,["modelValue","error"])]),o("div",A,[H,r(N,{modelValue:e.value.category_group_id,"onUpdate:modelValue":t[2]||(t[2]=l=>e.value.category_group_id=l),options:p.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),e.value.errors.category_group_id?(d(),c("div",I,y(e.value.errors.category_group_id),1)):f("",!0)])]),o("div",J,[o("div",K,[r(x,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1",onClick:t[3]||(t[3]=l=>a.$emit("modalClose")),form:"submit"},{default:i(()=>[r(v(j),{class:"w-4 h-4"}),L]),_:1}),r(x,{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:i(()=>[r(v(M),{class:"w-4 h-4"}),Q]),_:1})])])],40,O)]),_:1},8,["open"])]))}};export{ae as default};
