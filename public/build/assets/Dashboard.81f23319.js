import{_ as C}from"./Authenticated.bf33fa86.js";import{_ as w}from"./Graph.06398b58.js";import{h as r,K as J,U as A,f as c,a as u,u as F,w as D,F as G,o as p,Z as V,b as t,l as $,m as j,t as d,d as S}from"./app.6f756940.js";import"./open-closed.566fb456.js";import"./use-resolve-button-type.6918639d.js";import"./RectangleStackIcon.c461ddbb.js";const L=t("div",{class:"flex flex-col space-y-1"},[t("div",{class:"flex space-x-2 items-center"}," Dashboard ")],-1),P={class:"py-12"},T={class:"max-w-7xl mx-auto sm:px-3 lg:px-2"},Z={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},E={class:"p-1 bg-white border-b border-gray-200 flex flex-col space-x-6"},M={class:"flex flex-col md:flex-row pt-5"},R={class:"md:basis-1/3 m-1"},z={class:"md:basis-2/3 my-2 mx-4 px-4"},K=t("p",{class:"text-sm"}," Past 7 Days - Top 10 Best Performance ",-1),U={class:"mt-2 flow-root"},q={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},H={class:"inline-block min-w-full py-2 align-middle sm:px-3 lg:px-4"},Q={class:"overflow-auto shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},W={class:"min-w-full divide-y divide-gray-300"},X=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"py-2 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," # "),t("th",{scope:"col",class:"px-3 py-2 text-left text-sm font-semibold text-gray-900"}," Vending Machine "),t("th",{scope:"col",class:"px-3 py-2 text-left text-sm font-semibold text-gray-900"}," Amount($) "),t("th",{scope:"col",class:"px-3 py-2 text-left text-sm font-semibold text-gray-900"}," Sales(#) ")])],-1),Y={class:"divide-y divide-gray-200 bg-white"},I={class:"whitespace-nowrap py-2 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},tt={class:"whitespace-nowrap px-3 py-2 text-sm text-gray-600"},et={key:0},st=t("br",null,null,-1),at={key:1},ot={class:"whitespace-nowrap px-3 py-2 text-sm text-gray-500 text-right mx-3"},rt={class:"whitespace-nowrap px-3 py-2 text-sm text-gray-500 text-right mx-3"},lt={key:0},it=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),ct=[it],_t={__name:"Dashboard",props:{dayGraphData:Object,productGraphData:Object,performerGraphData:Object},setup(k){const n=k;r({day_date_from:"",day_date_to:""}),r(0);const x=J().props.auth.operator,O=r([]),m=r([]),g=r([]),N=r({scales:{x:{ticks:{min:1,max:31,stepSize:1}},y:{position:"left",title:{display:!0,text:"Sales($)"},beginAtZero:!0},y1:{position:"right",title:{display:!0,text:"Sales(#)"},beginAtZero:!0},yAxes:[{}]},plugins:{title:{display:!0,text:"Sales by Days ("+x.name+")"},legend:{reverse:!0}}}),y=r([]),b=r([]),v=r([]),B=r({plugins:{legend:{display:!1},title:{display:!0,text:"Past 7 Days - 10 Best Sellers ("+x.name+")"}}}),f=r([]);A(()=>{O.value=JSON.parse(JSON.stringify(n.dayGraphData));let l=[],a=["#3e95cd","#ff7f7f","#007500","#808080","#c45850"],o=["#37a2eb","#ff6384","#4cc1c0","#ff9f40","#9a66ff","#ffcd56","#c9cbcf"];l=_.groupBy(JSON.parse(JSON.stringify(n.dayGraphData)).data,"month_name"),Object.keys(l).forEach((e,s)=>{m.value.push({label:e+" (#)",data:l[e].map(h=>h.count),backgroundColor:s%2==0?i(a[s+2],.2):i(a[s+2],.9),borderColor:s%2==0?i(a[s+2],.2):i(a[s+2],.9),yAxisID:"y1",type:"line",order:1}),m.value.push({label:e+" ($)",data:l[e].map(h=>h.amount),backgroundColor:s%2==0?i(a[s],.2):i(a[s],1),borderColor:s%2==0?i(a[s],.2):i(a[s],1),fill:!1,yAxisID:"y",type:"bar",order:2})});for(let e=1;e<=31;e++)g.value.push(e);y.value=JSON.parse(JSON.stringify(n.productGraphData)),b.value.push({label:"Sales",data:y.value.data.map(e=>e.count),backgroundColor:o}),v.value=y.value.data.map(e=>e.product.code+" - "+e.product.name),f.value=JSON.parse(JSON.stringify(n.performerGraphData))});function i(l,a){var o=parseInt(l.slice(1,3),16),e=parseInt(l.slice(3,5),16),s=parseInt(l.slice(5,7),16);return"rgba("+o+", "+e+", "+s+", "+a+")"}return(l,a)=>(p(),c(G,null,[u(F(V),{title:"Dashboard"}),u(C,null,{header:D(()=>[L]),default:D(()=>[t("div",P,[t("div",T,[t("div",Z,[t("div",E,[u(w,{key:"dayGraphData",type:"scatter",labels:g.value,datasets:m.value,options:N.value},null,8,["labels","datasets","options"]),t("div",M,[t("div",R,[u(w,{key:"productGraphData",type:"pie",labels:v.value,datasets:b.value,options:B.value},null,8,["labels","datasets","options"])]),t("div",z,[K,t("div",U,[t("div",q,[t("div",H,[t("div",Q,[t("table",W,[X,t("tbody",Y,[(p(!0),c(G,null,$(f.value.data,(o,e)=>(p(),c("tr",{key:o.id},[t("td",I,d(e+1),1),t("td",tt,[o.customer?(p(),c("span",et,[S(d(o.customer.code)+" ",1),st,S(" "+d(o.customer.name),1)])):(p(),c("span",at,d(o.name),1))]),t("td",ot,d(o.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1),t("td",rt,d(o.count),1)]))),128)),f.value.data.length?j("",!0):(p(),c("tr",lt,ct))])])])])])])])])])])])])]),_:1})],64))}};export{_t as default};
