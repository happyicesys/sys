import{g as d,T as V,K as k,h as N,f as _,a as r,u as n,w as a,F as P,o as c,Z as j,b as t,d as f,t as v,l as g,e as w,i as B,c as M,O as $}from"./app.1a1317f3.js";import{_ as D}from"./Authenticated.44695d1e.js";import{_ as y}from"./Button.fdc6e515.js";import"./main.e771366a.js";import{_ as F}from"./FormInput.d9f11987.js";import{_ as x}from"./MultiSelect.d36e597c.js";import{r as C}from"./ArrowUturnLeftIcon.9bae94f1.js";import{r as E}from"./CheckCircleIcon.3c6e93be.js";import"./open-closed.52e3df4a.js";import"./use-resolve-button-type.3adc1274.js";import"./RectangleStackIcon.580592bf.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.1522fb24.js";const U={class:"font-semibold text-xl text-gray-800 leading-tight"},A={key:0},J={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},T={class:"mt-6 flex flex-col"},I={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},K={class:"shadow-sm ring-1 ring-black ring-opacity-5 p-5"},Z=["onSubmit"],q={class:"grid grid-cols-1 gap-3 sm:grid-cols-6 pb-2"},z={class:"sm:col-span-6"},G={class:"sm:col-span-6"},H=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Operator ",-1),L={class:"sm:col-span-6"},Q=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Operator ",-1),R={class:"sm:col-span-6"},W={class:"flex space-x-1 mt-5 justify-end"},X=t("span",null," Back ",-1),Y=t("span",null," Save ",-1),ce={__name:"Form",props:{deliveryPlatformOperators:Object,deliveryProductMappings:Object,operatorOptions:Object,categoryApiOptions:[Array,Object],type:String},setup(u){const l=u,o=d(V(b()));d(!1);const p=d([]),m=d(""),h=k().props.auth.permissions;N(()=>{l.type=="create"?m.value="Create New":m.value="Edit",p.value=[...l.operatorOptions.data.map(e=>({id:e.id,full_name:e.full_name}))]});function b(){return{id:"",name:"",operator_id:"",delivery_platform_operator_id:"",category_json:""}}function O(){o.value.operator_id=o.value.operator_id.id,$.reload({only:["deliveryPlatformOperators"],preserveState:!0,preserveScroll:!0}),console.log(JSON.parse(JSON.stringify(l.deliveryPlatformOperators)))}function S(){o.value.clearErrors(),l.type==="create"&&o.value.transform(e=>({...e,customer_id:e.customer_id?e.customer_id.id:null,operator_id:e.operator_id?e.operator_id.id:null})).post("/vends/create",{preserveState:!0,replace:!0}),l.type==="update"&&o.value.transform(e=>({...e,customer_id:e.customer_id?e.customer_id.id:null,operator_id:e.operator_id?e.operator_id.id:null})).post("/vends/"+o.value.id+"/update",{preserveState:!0,replace:!0})}return(e,s)=>(c(),_(P,null,[r(n(j),{title:"Delivery Product Mapping"}),r(D,null,{header:a(()=>[t("h2",U,[f(v(m.value)+" Delivery Product Mapping ",1),u.type=="update"?(c(),_("span",A,v(e.deliveryProductMapping.name),1)):g("",!0)])]),default:a(()=>[t("div",J,[t("div",T,[t("div",I,[t("div",K,[t("form",{onSubmit:w(S,["prevent"]),id:"submit"},[t("div",q,[t("div",z,[r(F,{modelValue:o.value.name,"onUpdate:modelValue":s[0]||(s[0]=i=>o.value.name=i),error:o.value.errors.name},{default:a(()=>[f(" Name ")]),_:1},8,["modelValue","error"])]),t("div",G,[H,r(x,{modelValue:o.value.operator_id,"onUpdate:modelValue":s[1]||(s[1]=i=>o.value.operator_id=i),options:p.value,trackBy:"id",valueProp:"id",label:"full_name",placeholder:"Select","open-direction":"bottom",class:"mt-1",onSelected:O},null,8,["modelValue","options"])]),t("div",L,[Q,r(x,{modelValue:o.value.operator_id,"onUpdate:modelValue":s[2]||(s[2]=i=>o.value.operator_id=i),options:p.value,trackBy:"id",valueProp:"id",label:"full_name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])]),t("div",R,[t("div",W,[r(n(B),{href:"/settings"},{default:a(()=>[r(y,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1"},{default:a(()=>[r(n(C),{class:"w-4 h-4"}),X]),_:1})]),_:1}),n(h).includes("update vends")?(c(),M(y,{key:0,type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:a(()=>[r(n(E),{class:"w-4 h-4"}),Y]),_:1})):g("",!0)])])],40,Z)])])])])]),_:1})],64))}};export{ce as default};
