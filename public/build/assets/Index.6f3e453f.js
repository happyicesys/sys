import{_ as O}from"./Authenticated.c910776b.js";import{_}from"./Button.59093f0b.js";import{_ as I}from"./Paginator.b3291598.js";import{_ as L,r as D}from"./SearchInput.6aac4213.js";import{_ as F}from"./MultiSelect.fb8e083c.js";import{_ as y,a as p}from"./TableData.ea8487a0.js";import{_ as V}from"./TableHeadSort.03c1c168.js";import{g as h,h as T,f as u,a as s,u as m,w as l,F as v,o as d,Z as j,b as e,i as S,d as r,t as i,k,l as x,c as U,O as B,n as A}from"./app.a8665d67.js";import{r as E}from"./PlusIcon.52ba4d2e.js";import{r as R}from"./BackspaceIcon.b48c0691.js";import{r as z}from"./PencilSquareIcon.3b71c334.js";import{r as J}from"./TrashIcon.4a8d7d05.js";import"./keyboard.fb5c2133.js";import"./use-resolve-button-type.c5e60069.js";import"./RectangleStackIcon.c1d6a20a.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.08010314.js";const Z=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Delivery Platform Product Mapping ",-1),q={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},G={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-3 px-3 md:px-3 py-3"},H={class:"flex justify-end"},Q=e("span",null," Create ",-1),W={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},X={class:"flex flex-col space-y-3 md:flex-row md:space-y-0 justify-between mt-5"},Y={class:"mt-3"},M={class:"flex space-x-1"},ee=e("span",null," Search ",-1),te=e("span",null," Reset ",-1),se={class:"flex flex-col space-y-2"},le={class:"text-sm text-gray-700 leading-5 flex space-x-1"},ne=e("span",null,"Showing",-1),oe={class:"font-medium"},ae=e("span",null,"to",-1),re={class:"font-medium"},de=e("span",null,"of",-1),ie={class:"font-medium"},ue=e("span",null,"results",-1),ce={class:"mt-6 flex flex-col"},me={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},fe={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},pe={class:"min-w-full border-separate",style:{"border-spacing":"0"}},ge={class:"bg-gray-100"},_e={class:"divide-x divide-gray-200"},he={class:"bg-white"},xe={key:0},ye=e("br",null,null,-1),ve={class:"divide-y divide-gray-200"},be={class:"flex py-1 px-3 space-x-2"},we={class:"text-blue-700 text-md pr-2"},Pe={key:0},Ve={class:"divide-y divide-gray-200"},ke={class:"flex py-1 px-3 space-x-2"},Be={class:"flex flex-col justify-center space-y-1"},$e=e("span",null," Edit ",-1),Ce={class:"flex space-x-1 items-center"},Le=e("span",null," Delete ",-1),Se={key:0},Ke={key:0},Ne=e("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Oe=[Ne],We={__name:"Index",props:{deliveryProductMappings:Object},setup(a){const n=h({name:"",vend_code:"",sortKey:"",sortBy:!0,numberPerPage:100});h(!1),h(),h("");const b=h([]);T(()=>{b.value=[{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],n.value.numberPerPage=b.value[0]});function K(g){!confirm("Are you sure to delete "+g.name+"?")||B.delete("/delivery-product-mappings/"+g.id)}function w(){B.get("/delivery-product-mappings",{...n.value,numberPerPage:n.value.numberPerPage.id},{preserveState:!0,replace:!0})}function N(){B.get("/delivery-product-mappings")}function P(g){n.value.sortKey=g,n.value.sortBy=!n.value.sortBy,w()}return(g,o)=>(d(),u(v,null,[s(m(j),{title:"Delivery Platform"}),s(O,null,{header:l(()=>[Z]),default:l(()=>{var $,C;return[e("div",q,[e("div",G,[e("div",H,[s(m(S),{href:"/delivery-product-mappings/create"},{default:l(()=>[s(_,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-5 py-3 md:px-4 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:l(()=>[s(m(E),{class:"h-4 w-4","aria-hidden":"true"}),Q]),_:1})]),_:1})]),e("div",W,[s(L,{placeholderStr:"Name",modelValue:n.value.name,"onUpdate:modelValue":o[0]||(o[0]=t=>n.value.name=t)},{default:l(()=>[r(" Name ")]),_:1},8,["modelValue"]),s(L,{placeholderStr:"Vend ID",modelValue:n.value.vend_code,"onUpdate:modelValue":o[1]||(o[1]=t=>n.value.vend_code=t)},{default:l(()=>[r(" Vend ID ")]),_:1},8,["modelValue"])]),e("div",X,[e("div",Y,[e("div",M,[s(_,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:o[2]||(o[2]=t=>w())},{default:l(()=>[s(m(D),{class:"h-4 w-4","aria-hidden":"true"}),ee]),_:1}),s(_,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-gray-300 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-gray-800 shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:o[3]||(o[3]=t=>N())},{default:l(()=>[s(m(R),{class:"h-4 w-4","aria-hidden":"true"}),te]),_:1})])]),e("div",se,[e("p",le,[ne,e("span",oe,i(($=a.deliveryProductMappings.meta.from)!=null?$:0),1),ae,e("span",re,i((C=a.deliveryProductMappings.meta.to)!=null?C:0),1),de,e("span",ie,i(a.deliveryProductMappings.meta.total),1),ue]),s(F,{modelValue:n.value.numberPerPage,"onUpdate:modelValue":o[4]||(o[4]=t=>n.value.numberPerPage=t),options:b.value,trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1",onSelected:w},null,8,["modelValue","options"])])])]),e("div",ce,[e("div",me,[e("div",fe,[e("table",pe,[e("thead",ge,[e("tr",_e,[s(y,null,{default:l(()=>[r(" # ")]),_:1}),s(V,{modelName:"name",sortKey:n.value.sortKey,sortBy:n.value.sortBy,onSortTable:o[5]||(o[5]=t=>P("name"))},{default:l(()=>[r(" Name ")]),_:1},8,["sortKey","sortBy"]),s(V,{modelName:"operator_id",sortKey:n.value.sortKey,sortBy:n.value.sortBy,onSortTable:o[6]||(o[6]=t=>P("operator_id"))},{default:l(()=>[r(" Operator ")]),_:1},8,["sortKey","sortBy"]),s(V,{modelName:"delivery_platform_id",sortKey:n.value.sortKey,sortBy:n.value.sortBy,onSortTable:o[7]||(o[7]=t=>P("delivery_platform_id"))},{default:l(()=>[r(" Platform ")]),_:1},8,["sortKey","sortBy"]),s(y,null,{default:l(()=>[r(" Channel - Product ")]),_:1}),s(y,null,{default:l(()=>[r(" Binded Vending Machines ")]),_:1}),s(y)])]),e("tbody",he,[(d(!0),u(v,null,k(a.deliveryProductMappings.data,(t,c)=>(d(),u("tr",{key:t.id,class:"divide-x divide-gray-200"},[s(p,{currentIndex:c,totalLength:a.deliveryProductMappings.length,inputClass:"text-center"},{default:l(()=>[r(i(a.deliveryProductMappings.meta.from+c),1)]),_:2},1032,["currentIndex","totalLength"]),s(p,{currentIndex:c,totalLength:a.deliveryProductMappings.length,inputClass:"text-left"},{default:l(()=>[r(i(t.name),1)]),_:2},1032,["currentIndex","totalLength"]),s(p,{currentIndex:c,totalLength:a.deliveryProductMappings.length,inputClass:"text-left"},{default:l(()=>[r(i(t.operator?t.operator.name:null),1)]),_:2},1032,["currentIndex","totalLength"]),s(p,{currentIndex:c,totalLength:a.deliveryProductMappings.length,inputClass:"text-center"},{default:l(()=>[r(i(t.deliveryPlatformOperator&&t.deliveryPlatformOperator.deliveryPlatform?t.deliveryPlatformOperator.deliveryPlatform.name:null)+" ",1),t.deliveryPlatformOperator?(d(),u("span",xe,[ye,r("("+i(t.deliveryPlatformOperator?t.deliveryPlatformOperator.type:null)+") ",1)])):x("",!0)]),_:2},1032,["currentIndex","totalLength"]),s(p,{currentIndex:c,totalLength:a.deliveryProductMappings.length,inputClass:"text-left"},{default:l(()=>[e("ul",ve,[(d(!0),u(v,null,k(t.deliveryProductMappingItemsJson,f=>(d(),u("li",be,[e("span",we,i(f.channel_code),1),f.product.code?(d(),u("span",Pe,i(f.product.code),1)):x("",!0),e("span",null," - "+i(f.product.name),1)]))),256))])]),_:2},1032,["currentIndex","totalLength"]),s(p,{currentIndex:c,totalLength:a.deliveryProductMappings.length,inputClass:"text-left"},{default:l(()=>[e("ul",Ve,[(d(!0),u(v,null,k(t.deliveryProductMappingVends,f=>(d(),u("li",ke,i(f.vend.full_name),1))),256))])]),_:2},1032,["currentIndex","totalLength"]),s(p,{currentIndex:c,totalLength:a.deliveryProductMappings.length,inputClass:"text-center"},{default:l(()=>[e("div",Be,[s(m(S),{href:"/delivery-product-mappings/"+t.id+"/edit"},{default:l(()=>[s(_,{type:"button",class:"bg-gray-300 hover:bg-gray-400 px-3 py-2 text-xs text-gray-800 flex space-x-1"},{default:l(()=>[s(m(z),{class:"w-4 h-4"}),$e]),_:1})]),_:2},1032,["href"]),s(_,{type:"button",class:A(["bg-red-300 hover:bg-red-400 px-3 py-2 text-xs text-red-800 flex-col space-y-1",[t.deliveryProductMappingVends&&t.deliveryProductMappingVends.length>0?"opacity-50 cursor-not-allowed":""]]),onClick:f=>K(t),disabled:t.deliveryProductMappingVends&&t.deliveryProductMappingVends.length>0},{default:l(()=>[e("span",Ce,[s(m(J),{class:"w-4 h-4"}),Le]),t.deliveryProductMappingVends&&t.deliveryProductMappingVends.length>0?(d(),u("span",Se," (Binded) ")):x("",!0)]),_:2},1032,["class","onClick","disabled"])])]),_:2},1032,["currentIndex","totalLength"])]))),128)),a.deliveryProductMappings.data.length?x("",!0):(d(),u("tr",Ke,Oe))])]),a.deliveryProductMappings.data.length?(d(),U(I,{key:0,links:a.deliveryProductMappings.links,meta:a.deliveryProductMappings.meta},null,8,["links","meta"])):x("",!0)])])])])]}),_:1})],64))}};export{We as default};
