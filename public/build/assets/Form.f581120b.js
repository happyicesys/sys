import{g as f,T as n,h as k,R as w,c as $,a,w as l,p as B,o as i,b as o,f as c,l as v,t as x,d as g,u as y,e as M}from"./app.be5f36f8.js";import{_ as b}from"./Button.2dd609ee.js";import{_ as h}from"./FormInput.4baf9a3b.js";import{_ as N}from"./Modal.6fb501cb.js";import{r as j}from"./ArrowUturnLeftIcon.8cd7e7b2.js";import{r as T}from"./CheckCircleIcon.c06c8dcc.js";import"./keyboard.a111d22b.js";import"./disposables.0e1d279f.js";const E={class:"flex flex-col md:flex-row space-x-2"},O={key:0,class:"text-gray-600"},U={key:1},q={key:2,class:"text-gray-600"},D={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6"},F={class:"sm:col-span-6"},P={class:"sm:col-span-6"},R=o("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Telco ",-1),z={key:0,class:"text-sm text-red-600"},A={class:"sm:col-span-6"},G={class:"sm:col-span-6"},H={class:"flex space-x-1 mt-5 justify-end"},I=o("span",null," Back ",-1),J=o("span",null," Save ",-1),oe={__name:"Form",props:{simcard:Object,telcos:Object,type:String,showModal:Boolean},emits:["modalClose"],setup(m,{emit:S}){const s=m,u=S,e=f(n(_())),p=f([]);k(()=>{e.value=s.simcard?n(s.simcard):n(_()),p.value=s.telcos.data.map(d=>({id:d.id,name:d.name}))});function _(){return{code:"",phone_number:"",telco_id:""}}function V(){e.value.clearErrors(),s.type==="create"&&e.value.post("/simcards/create",{onSuccess:()=>{u("modalClose")},preserveState:!0,replace:!0}),s.type==="update"&&e.value.post("/simcards/"+e.value.id+"/update",{onSuccess:()=>{u("modalClose")},preserveState:!0,replace:!0})}return(d,t)=>{const C=w("MultiSelect");return i(),$(B,{to:"body"},[a(N,{open:m.showModal,onModalClose:t[4]||(t[4]=r=>d.$emit("modalClose"))},{header:l(()=>[o("div",E,[s.simcard?(i(),c("span",O," Editing ")):v("",!0),s.simcard?(i(),c("span",U,x(s.simcard.name),1)):(i(),c("span",q," Create New Simcard "))])]),default:l(()=>[o("form",{onSubmit:M(V,["prevent"]),id:"submit"},[o("div",D,[o("div",F,[a(h,{modelValue:e.value.code,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value.code=r),error:e.value.errors.code,required:"true"},{default:l(()=>[g(" Simcard Number ")]),_:1},8,["modelValue","error"])]),o("div",P,[R,a(C,{modelValue:e.value.telco_id,"onUpdate:modelValue":t[1]||(t[1]=r=>e.value.telco_id=r),options:p.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),e.value.errors.telco_id?(i(),c("div",z,x(e.value.errors.telco_id),1)):v("",!0)]),o("div",A,[a(h,{modelValue:e.value.code,"onUpdate:modelValue":t[2]||(t[2]=r=>e.value.code=r),error:e.value.errors.code,required:"true"},{default:l(()=>[g(" Simcard Number ")]),_:1},8,["modelValue","error"])])]),o("div",G,[o("div",H,[a(b,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1",onClick:t[3]||(t[3]=r=>d.$emit("modalClose")),form:"submit"},{default:l(()=>[a(y(j),{class:"w-4 h-4"}),I]),_:1}),a(b,{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:l(()=>[a(y(T),{class:"w-4 h-4"}),J]),_:1})])])],32)]),_:1},8,["open"])])}}};export{oe as default};
