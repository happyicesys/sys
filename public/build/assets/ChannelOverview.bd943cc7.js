import{o as s,f as o,b as e,g as x,K as y,c as _,a as g,w as u,p as b,t as i,l as n,d as c,u as a,k,F as C,n as h,e as M,O as P}from"./app.b481dd46.js";import{_ as S}from"./Button.7cb52733.js";import{_ as O}from"./Modal.c591cbe4.js";import{r as B}from"./PauseCircleIcon.11a9a42f.js";function V(r,p){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2 10a8 8 0 1116 0 8 8 0 01-16 0zm6.39-2.908a.75.75 0 01.766.027l3.5 2.25a.75.75 0 010 1.262l-3.5 2.25A.75.75 0 018 12.25v-4.5a.75.75 0 01.39-.658z","clip-rule":"evenodd"})])}const $={class:"flex flex-col md:flex-row space-x-2"},D=e("span",{class:"text-gray-600"}," Delivery Product Mapping Channel ",-1),j={key:0},z={key:1},A={class:"flex flex-col"},N={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-3 lg:-mx-5"},T={class:"inline-block min-w-full py-2 align-middle md:px-4 lg:px-6"},F={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},R={class:"table-fixed min-w-full divide-y divide-gray-300"},I={class:"bg-gray-50"},L=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," # ",-1),q=e("th",{scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Image ",-1),E=e("th",{scope:"col",class:"w-3/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Product ",-1),K={scope:"col",class:"w-2/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},Q={key:0},G=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[c(" Reserved "),e("br"),c(" (%) ")],-1),H=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},[c(" Reserved "),e("br"),c(" Qty ")],-1),J=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"}," Status ",-1),U=e("th",{scope:"col",class:"w-1/12 px-3 py-3.5 text-center text-xs font-semibold text-gray-900"},null,-1),W={class:"bg-white"},X={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},Y={class:"whitespace-nowrap text-sm font-semibold text-gray-900 text-center"},Z={class:"flex justify-center items-center"},ee=["src"],te={class:"py-4 text-sm font-semibold text-gray-900 text-center"},se={key:0},oe={key:1,class:"break-normal text-xs"},re=e("br",null,null,-1),ie={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},ne={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},ce={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},ae={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},de={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},le={key:0,class:"inline-flex items-center rounded-md bg-green-300 px-1.5 py-0.5 text-xs font-medium text-green-800 ring-1 ring-inset ring-indigo-700/10"},pe={key:1,class:"inline-flex items-center rounded-md bg-red-200 px-1.5 py-0.5 text-xs font-medium text-red-700 ring-1 ring-inset ring-indigo-700/10"},me={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},_e={key:2,class:"text-xs"},ue={key:3,class:"text-xs"},xe={__name:"ChannelOverview",props:{vend:Object,showModal:Boolean},emits:["modalClose"],setup(r,{emit:p}){const v=r;x([]),y().props.auth.permissions;const m=y().props.auth.profile;x(!1);function f(d){let l=d.is_active?"Are you sure to pause this channel?":"Are you sure to resume this channel?";!confirm(l)||(P.post("/delivery-product-mappings/channels/"+d.id+"/toggle-pause",{preserveState:!1,preserveScroll:!0,replace:!0,onSuccess:()=>{p("modalClose")}}),p("modalClose"))}return(d,l)=>(s(),_(b,{to:"body"},[g(O,{open:r.showModal,onModalClose:l[0]||(l[0]=t=>d.$emit("modalClose"))},{header:u(()=>[e("div",$,[D,r.vend.code?(s(),o("span",j," ID# "+i(r.vend.code),1)):n("",!0),r.vend.customer_code?(s(),o("span",z," ("+i(r.vend.customer_code?r.vend.customer_code:null)+") "+i(r.vend.customer_name?r.vend.customer_name:null),1)):n("",!0)])]),default:u(()=>[e("div",A,[e("div",N,[e("div",T,[e("div",F,[e("table",R,[e("thead",I,[e("tr",null,[L,q,E,e("th",K,[c(" Price "),a(m)&&a(m).base_currency?(s(),o("span",Q," ("+i(a(m).base_currency.currency_symbol)+") ",1)):n("",!0)]),G,H,J,U])]),e("tbody",W,[(s(!0),o(C,null,k(v.vend.deliveryProductMappingVendChannels,(t,w)=>(s(),o("tr",{key:t.id,class:h(w%2===0?void 0:"bg-gray-50")},[e("td",X,i(t.vend_channel_code),1),e("td",Y,[e("div",Z,[t.delivery_product_mapping_item.product&&t.delivery_product_mapping_item.product.thumbnail?(s(),o("img",{key:0,class:"h-16 w-16 rounded-full",src:t.delivery_product_mapping_item.product.thumbnail.full_url,alt:""},null,8,ee)):n("",!0)])]),e("td",te,[t.delivery_product_mapping_item.product&&t.delivery_product_mapping_item.product.code?(s(),o("span",se,i(t.delivery_product_mapping_item.product.code),1)):n("",!0),t.delivery_product_mapping_item.product&&t.delivery_product_mapping_item.product.name?(s(),o("span",oe,[re,c(" "+i(t.delivery_product_mapping_item.product.name),1)])):n("",!0)]),e("td",ie,i(t.amount.toLocaleString(void 0,{minimumFractionDigits:2})),1),e("td",ne,i(t.reserved_percent),1),e("td",ce,i(t.reserved_qty),1),e("td",ae,[e("td",de,[t.is_active==1?(s(),o("span",le," Active ")):n("",!0),t.is_active==0?(s(),o("span",pe," Paused ")):n("",!0)])]),e("td",me,[g(S,{class:h(["flex space-x-1",[t.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:M(ye=>f(t),["prevent"])},{default:u(()=>[t.is_active?(s(),_(a(B),{key:0,class:"w-3 h-3"})):(s(),_(a(V),{key:1,class:"w-3 h-3"})),t.is_active?(s(),o("span",_e," Pause ")):(s(),o("span",ue," Resume "))]),_:2},1032,["class","onClick"])])],2))),128))])])])])])])]),_:1},8,["open"])]))}},we=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"}));export{we as C,xe as _,V as r};
