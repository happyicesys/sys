import{g as b,T as v,h as D,Q as j,f as r,a,u,w as i,F as w,o,Z as O,b as e,d as f,t as n,l as d,e as _,n as y,i as S,k as $,c as P}from"./app.989e3f5b.js";import{_ as U}from"./Authenticated.1d94476f.js";import{_ as m}from"./Button.ba476f9f.js";import{_ as B}from"./FormInput.b2c5de34.js";import{_ as F}from"./FormTextarea.3feed6f6.js";import{_ as q}from"./MultiSelect.c5c004f9.js";import{r as N}from"./ArrowUturnLeftIcon.ac69e395.js";import{r as z}from"./CheckCircleIcon.dcbe9210.js";import{r as E}from"./PlusCircleIcon.5c4407ee.js";import{r as Q}from"./PauseCircleIcon.f986c196.js";import{r as A}from"./BackspaceIcon.df18bbfb.js";import"./open-closed.d7915590.js";import"./use-resolve-button-type.6a87b610.js";import"./RectangleStackIcon.aba2da1b.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.13c2b154.js";const K={class:"font-semibold text-xl text-gray-800 leading-tight"},R={key:0},T={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},L={class:"mt-6 flex flex-col"},Z={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},G={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll p-5"},H=["onSubmit"],J={class:"grid grid-cols-1 gap-y-3 gap-x-3 sm:grid-cols-6"},W={class:"sm:col-span-6"},X={class:"py-3"},Y={class:"flex flex-col"},ee={class:"font-semibold"},te={class:"sm:col-span-3"},se=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Order ID ",-1),oe={class:"mt-1"},re=["href"],le=["value"],ae={class:"sm:col-span-3"},de=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Short Order ID ",-1),ie={class:"mt-1"},ne=["value"],ce={class:"sm:col-span-6"},pe=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Platform ",-1),ue={class:"mt-1"},me=["value"],_e={class:"sm:col-span-6"},ye=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Order Datetime ",-1),ge={class:"mt-1"},ve=["value"],fe={class:"sm:col-span-6"},xe=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Vending Machine ",-1),he={key:0,class:"mt-1"},be=["href"],we=["value"],Pe={class:"sm:col-span-6"},ke=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Product Mapping ",-1),Me={key:0,class:"mt-1"},Ie=["href"],Ve=["value"],Ce={class:"sm:col-span-6"},De={class:"sm:col-span-6"},je={class:"flex space-x-1 mt-5 justify-end"},Oe=e("span",null," Back ",-1),Se=e("span",null," Save ",-1),$e=e("div",{class:"sm:col-span-6 pt-2 pb-1 md:pt-5 md:pb-3"},[e("div",{class:"relative"},[e("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center"},[e("span",{class:"px-3 bg-white text-lg font-medium text-gray-900 rounded"},"Delivery Platform Product(s) ")])])],-1),Ue={key:0,class:"sm:col-span-3"},Be=e("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Product ",-1),Fe={key:0,class:"text-sm text-red-600"},qe={key:1,class:"sm:col-span-2"},Ne={key:2,class:"sm:col-span-1"},ze=e("span",null," Add ",-1),Ee={key:3,class:"sm:col-span-6 flex flex-col mt-3"},Qe={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-3 lg:-mx-5"},Ae={class:"inline-block min-w-full py-2 align-middle md:px-4 lg:px-6"},Ke={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},Re={class:"table-fixed min-w-full divide-y divide-gray-300"},Te=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," # "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Channel ID "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Thumbnail "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Product "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Qty "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Price "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900"}," Action ")])],-1),Le={class:"bg-white"},Ze={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},Ge={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},He={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 text-center"},Je={class:"flex justify-center"},We=["src"],Xe={class:"whitespace-normal py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-left flex flex-col"},Ye={key:0},et={key:1,class:"break-words"},tt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},st={key:0,class:"inline-flex items-center rounded-md bg-green-300 px-1.5 py-0.5 text-xs font-medium text-green-800 ring-1 ring-inset ring-indigo-700/10"},ot={key:1,class:"inline-flex items-center rounded-md bg-red-200 px-1.5 py-0.5 text-xs font-medium text-red-700 ring-1 ring-inset ring-indigo-700/10"},rt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},lt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-semibold text-gray-900 sm:pl-6 text-center"},at={class:"whitespace-nowrap py-4 text-sm text-center flex flex-col space-y-1 px-2"},dt={key:2,class:"text-xs"},it={key:3,class:"text-xs"},nt=e("span",{class:"text-xs"}," Unbind SKU ",-1),ct={key:0},pt=e("td",{colspan:"7",class:"whitespace-nowrap py-4 text-sm font-medium text-gray-600 text-center"}," No Records Found ",-1),ut=[pt],Ct={__name:"Edit",props:{deliveryPlatformOrder:Object},setup(k){const p=k,t=b(v(x())),g=b([]);D(()=>{t.value=p.deliveryPlatformOrder?v(p.deliveryPlatformOrder.data):v(x()),g.value=p.deliveryPlatformOrder.data});function x(){return{id:"",order_id:"",short_order_id:"",deliveryPlatform:{name:""},operator_id:"",order_created_at:""}}function M(s){let l="";switch(s){case 1:case 2:l="bg-blue-400 text-gray-800";break;case 3:case 4:case 5:l="bg-yellow-400 text-gray-800";break;case 6:l="bg-green-400 text-white-800";break;case 98:case 99:l="bg-red-400 text-white-800";break}return l}function I(){t.value.clearErrors(),p.type==="update"&&t.value.transform(s=>({...s,timezone:s.timezone?s.timezone.name:null,country_id:s.country_id?s.country_id.id:null})).post("/operators/"+t.value.id+"/update",{preserveState:!0,replace:!0})}return(s,l)=>{const V=j("PlayCircleIcon");return o(),r(w,null,[a(u(O),{title:"Delivery Platform Order"}),a(U,null,{header:i(()=>[e("h2",K,[f(" Edit Delivery Platform Order "),s.type=="update"?(o(),r("span",R,n(t.value.order_id)+" "+n(t.value.short_order_id),1)):d("",!0)])]),default:i(()=>[e("div",T,[e("div",L,[e("div",Z,[e("div",G,[e("form",{onSubmit:_(I,["prevent"]),id:"submit"},[e("div",J,[e("div",W,[e("div",X,[e("div",{class:y(["inline-flex justify-center items-center rounded px-1.5 py-0.5 text-xs font-medium border",M(g.value.status)])},[e("div",Y,[e("span",ee,n(g.value.status_name),1)])],2)])]),e("div",te,[se,e("div",oe,[e("a",{href:"/delivery-platform-orders?order_id="+t.value.order_id,target:"_blank"},[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-pointer text-blue-600 font-medium",value:t.value.order_id,readonly:""},null,8,le)],8,re)])]),e("div",ae,[de,e("div",ie,[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:t.value.short_order_id,disabled:""},null,8,ne)])]),e("div",ce,[pe,e("div",ue,[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:t.value.deliveryPlatform.name,disabled:""},null,8,me)])]),e("div",_e,[ye,e("div",ge,[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:t.value.order_created_at,disabled:""},null,8,ve)])]),e("div",fe,[xe,t.value.deliveryProductMappingVend&&t.value.deliveryProductMappingVend.vend?(o(),r("div",he,[e("a",{href:"/vends?codes="+t.value.deliveryProductMappingVend.vend.code,target:"_blank"},[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-pointer text-blue-600 font-medium",value:t.value.deliveryProductMappingVend.vend.full_name,readonly:""},null,8,we)],8,be)])):d("",!0)]),e("div",Pe,[ke,t.value.deliveryProductMappingVend&&t.value.deliveryProductMappingVend.deliveryProductMapping?(o(),r("div",Me,[e("a",{href:"/delivery-product-mappings/"+t.value.deliveryProductMappingVend.deliveryProductMapping.id+"/edit",target:"_blank"},[e("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-pointer text-blue-600 font-medium",value:t.value.deliveryProductMappingVend.deliveryProductMapping.name,readonly:""},null,8,Ve)],8,Ie)])):d("",!0)]),e("div",Ce,[a(F,{modelValue:t.value.remarks,"onUpdate:modelValue":l[0]||(l[0]=c=>t.value.remarks=c),error:t.value.errors.remarks},{default:i(()=>[f(" Remarks ")]),_:1},8,["modelValue","error"])]),e("div",De,[e("div",je,[a(u(S),{href:"/operators"},{default:i(()=>[a(m,{type:"button",class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1"},{default:i(()=>[a(u(N),{class:"w-4 h-4"}),Oe]),_:1})]),_:1}),a(m,{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:i(()=>[a(u(z),{class:"w-4 h-4"}),Se]),_:1})])]),$e,t.value.id?(o(),r("div",Ue,[Be,a(q,{modelValue:t.value.delivery_platform_product_mapping_item_id,"onUpdate:modelValue":l[1]||(l[1]=c=>t.value.delivery_platform_product_mapping_item_id=c),options:s.deliveryPlatformProductMappingItemOptions,trackBy:"id",valueProp:"id",label:"full_name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"]),t.value.errors.product_id?(o(),r("div",Fe,n(t.value.errors.product_id),1)):d("",!0)])):d("",!0),t.value.id?(o(),r("div",qe,[a(B,{modelValue:t.value.qty,"onUpdate:modelValue":l[2]||(l[2]=c=>t.value.qty=c),error:t.value.errors.qty,placeholderStr:"Qty"},{default:i(()=>[f(" Qty ")]),_:1},8,["modelValue","error"])])):d("",!0),t.value.id?(o(),r("div",Ne,[a(m,{type:"button",onClick:l[3]||(l[3]=_(c=>s.addDeliveryProductMappingItem(),["prevent"])),class:y(["bg-green-500 hover:bg-green-600 text-white flex space-x-1 sm:mt-6",[!t.value.delivery_platform_product_mapping_item_id||!t.value.qty?"opacity-50 cursor-not-allowed":""]]),disabled:!t.value.delivery_platform_product_mapping_item_id||!t.value.qty},{default:i(()=>[a(u(E),{class:"w-4 h-4"}),ze]),_:1},8,["class","disabled"])])):d("",!0),t.value.id?(o(),r("div",Ee,[e("div",Qe,[e("div",Ae,[e("div",Ke,[e("table",Re,[Te,e("tbody",Le,[(o(!0),r(w,null,$(p.deliveryPlatformOrder.data.orderItemVendChannels,(c,h)=>(o(),r("tr",{key:c.id,class:y(h%2===0?void 0:"bg-gray-50")},[e("td",Ze,n(h+1),1),e("td",Ge,n(s.deliveryProductMappingItem.channel_code),1),e("td",He,[e("div",Je,[s.deliveryProductMappingItem.product&&s.deliveryProductMappingItem.product.thumbnail?(o(),r("img",{key:0,class:"h-24 w-24 md:h-20 md:w-20 rounded-full",src:s.deliveryProductMappingItem.product.thumbnail.full_url,alt:""},null,8,We)):d("",!0)])]),e("td",Xe,[s.deliveryProductMappingItem.product.code?(o(),r("span",Ye,n(s.deliveryProductMappingItem.product.code),1)):d("",!0),s.deliveryProductMappingItem.product.name?(o(),r("span",et,n(s.deliveryProductMappingItem.product.name),1)):d("",!0)]),e("td",tt,[s.deliveryProductMappingItem.is_active==1?(o(),r("span",st," Active ")):d("",!0),s.deliveryProductMappingItem.is_active==0?(o(),r("span",ot," Paused ")):d("",!0)]),e("td",rt,n(s.deliveryProductMappingItem.amount.toLocaleString(void 0,{minimumFractionDigits:s.operatorCountry.is_currency_exponent_hidden?0:s.operatorCountry.currency_exponent,maximumFractionDigits:s.operatorCountry.is_currency_exponent_hidden?0:s.operatorCountry.currency_exponent})),1),e("td",lt,n(s.deliveryProductMappingItem.sub_category_json.name),1),e("td",at,[a(m,{class:y(["flex space-x-1",[s.deliveryProductMappingItem.is_active?"bg-yellow-300 hover:bg-yellow-400 text-black":"bg-green-500 hover:bg-green-600 text-white"]]),onClick:l[4]||(l[4]=_(C=>s.togglePauseDeliveryProductMappingItem(s.deliveryProductMappingItem),["prevent"]))},{default:i(()=>[s.deliveryProductMappingItem.is_active?(o(),P(u(Q),{key:0,class:"w-3 h-3"})):(o(),P(V,{key:1,class:"w-3 h-3"})),s.deliveryProductMappingItem.is_active?(o(),r("span",dt," Pause SKU ")):(o(),r("span",it," Resume SKU "))]),_:1},8,["class"]),a(m,{class:"bg-red-400 hover:bg-red-500 text-white flex space-x-1",onClick:l[5]||(l[5]=_(C=>s.unbindDeliveryProductMappingItem(s.deliveryProductMappingItem.id),["prevent"]))},{default:i(()=>[a(u(A),{class:"w-3 h-3"}),nt]),_:1})])],2))),128)),!p.deliveryProductMapping.data.deliveryProductMappingItems||!p.deliveryProductMapping.data.deliveryProductMappingItems.length?(o(),r("tr",ct,ut)):d("",!0)])])])])])])):d("",!0)])],40,H)])])])])]),_:1})],64)}}};export{Ct as default};
