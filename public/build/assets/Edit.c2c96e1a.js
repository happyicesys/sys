import{g as f,T as I,h as ae,j as w,f as o,a as s,u as g,w as n,F as j,o as r,Z as le,b as t,d,t as _,l as m,e as V,i as se,n as S,k as D,O as P}from"./app.6af6508f.js";import{_ as ie}from"./Authenticated.74b5b5b4.js";import{_ as k}from"./Button.a4d44f97.js";import{_ as H}from"./DatetimePicker.7ce9d901.js";import{_ as x}from"./FormInput.c0914d97.js";import{_ as C}from"./MultiSelect.6339eae7.js";import{_ as b,a as h}from"./TableData.92d9440d.js";import{r as oe}from"./ArrowUturnLeftIcon.e2e342e8.js";import{r as O}from"./CheckCircleIcon.9d1d3427.js";import{r as re}from"./XCircleIcon.447babf7.js";import"./keyboard.323db3db.js";import"./use-resolve-button-type.51d89bea.js";import"./RectangleStackIcon.8659e491.js";import"./main.ab5aa008.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.7d4b5b55.js";const ne={class:"font-semibold text-xl text-gray-800 leading-tight"},de={key:0},me={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},_e={class:"mt-6 flex flex-col"},pe={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},ue={class:"shadow-sm ring-1 ring-black ring-opacity-5 p-5 mb-3"},ce={class:"grid grid-cols-1 gap-3 sm:grid-cols-6 pb-5 mb-3"},ve={class:"sm:col-span-6"},fe={class:"sm:col-span-6"},ge=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Product Mapping ",-1),ye={class:"mt-1"},xe=["value"],be={class:"sm:col-span-6"},he=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Platform ",-1),Ve={class:"mt-1"},ke=["value"],Ce={class:"sm:col-span-6"},we={class:"flex space-x-1 mt-5 justify-end"},je=t("span",null," Back ",-1),Pe=t("span",null," Save ",-1),Se=t("div",{class:"sm:col-span-6 pt-2 pb-1 md:pt-5 md:pb-3"},[t("div",{class:"relative"},[t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})]),t("div",{class:"relative flex justify-center"},[t("span",{class:"px-3 bg-white text-lg font-medium text-gray-900 rounded"},"Campaign Item(s)")])])],-1),De={key:0,class:"sm:col-span-6"},Oe={class:"inline-flex justify-center items-center rounded px-3 py-1 my-1 text-lg font-medium border min-w-fit bg-red-300 text-gray-800"},Be={class:"flex flex-col"},Me={key:1,class:"sm:col-span-6"},Ue=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Type "),t("span",{class:"text-red-500"}," * ")],-1),Ie={key:2,class:"sm:col-span-2"},Le={key:3,class:"sm:col-span-2"},qe={key:4,class:"sm:col-span-2"},Ne={key:5,class:"sm:col-span-2"},$e={key:6,class:"sm:col-span-2"},Fe={key:7,class:"sm:col-span-5"},Ye=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Scope "),t("span",{class:"text-red-500"}," * ")],-1),Ae={key:8,class:"sm:col-span-3"},Te=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" User "),t("span",{class:"text-red-500"}," * ")],-1),Ee={key:9,class:"sm:col-span-2"},Re={key:10,class:"sm:col-span-6"},He=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Product "),t("span",{class:"text-red-500"}," * ")],-1),ze={key:0,class:"text-red-500 text-sm"},Qe={key:11,class:"sm:col-span-6"},Ze=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Category "),t("span",{class:"text-red-500"}," * ")],-1),Ge={key:12,class:"sm:col-span-6"},Je={key:13,class:"sm:col-span-6"},Ke=t("span",null," Create Campaign Item ",-1),We={key:14,class:"sm:col-span-6 flex flex-col mt-2 mx-2 mb-3"},Xe={class:"mt-6 flex flex-col"},et={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8 px-3"},tt={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},at={class:"min-w-full border-separate",style:{"border-spacing":"0"}},lt={class:"bg-gray-100"},st={class:"divide-x divide-gray-200"},it=t("br",null,null,-1),ot={class:"bg-white"},rt=t("br",null,null,-1),nt={class:"text-blue-700"},dt={key:0,role:"list",class:"divide-y divide-gray-100 overflow-scroll bg-white"},mt={class:"flex justify-between gap-x-1 px-1 py-0.5"},_t={class:"flex min-w-0 gap-x-4"},pt={class:"text-sm"},ut={class:"min-w-0 flex-auto"},ct={class:"text-sm font-semibold leading-2 text-gray-900"},vt={key:0,role:"list",class:"divide-y divide-gray-100 overflow-scroll bg-white"},ft={class:"flex justify-between gap-x-2 px-1 py-0.5"},gt={class:"flex min-w-0 gap-x-3"},yt={class:"min-w-0 flex-auto pt-1"},xt={key:0,class:"text-sm font-semibold leading-2 text-gray-900"},bt={key:1},ht={key:0,class:"text-xs"},Vt={key:0},kt=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Ct=[kt],wt=t("div",{class:"sm:col-span-6 pt-2 pb-1 md:pt-5 md:pb-3"},[t("div",{class:"relative"},[t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})]),t("div",{class:"relative flex justify-center"},[t("span",{class:"px-3 bg-white text-lg font-medium text-gray-900 rounded"},"Binded Campaign(s)")])])],-1),jt={key:15,class:"sm:col-span-6"},Pt=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Campaign Item(s) "),t("span",{class:"text-red-500"}," * ")],-1),St={key:16,class:"sm:col-span-6"},Dt=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"},[d(" Vend "),t("span",{class:"text-red-500"}," * ")],-1),Ot={class:"sm:col-span-3"},Bt=t("span",{class:"text-red-500"}," * ",-1),Mt={class:"sm:col-span-3"},Ut=t("span",{class:"text-red-500"}," * ",-1),It={key:17,class:"sm:col-span-6 flex justify-between"},Lt={class:"flex space-x-1"},qt=t("span",null," Bind Campaign to VM ",-1),Nt=t("span",null," Batch Bind Campaign to VM ",-1),$t=t("span",null," Submit to Platform ",-1),Ft={key:18,class:"sm:col-span-6 flex flex-col mt-2 mx-2 mb-3"},Yt={class:"mt-6 flex flex-col"},At={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8 px-3"},Tt={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},Et={class:"min-w-full border-separate",style:{"border-spacing":"0"}},Rt={class:"bg-gray-100"},Ht={class:"divide-x divide-gray-200"},zt={class:"bg-white"},Qt=t("br",null,null,-1),Zt={class:"flex flex-col space-y-1 max-w-fit"},Gt={type:"button",class:"group -mr-1 h-4 w-4 rounded-sm hover:bg-blue-700/20"},Jt=t("span",{class:"sr-only"},"Remove",-1),Kt=["onClick"],Wt=t("path",{d:"M4 4l6 6m0-6l-6 6"},null,-1),Xt=[Wt],ea={key:0},ta=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),aa=[ta],ya={__name:"Edit",props:{deliveryPlatformCampaign:Object,deliveryPlatformCampaignItemOptions:Object,deliveryProductMappingVends:Object,type:String},setup(y){const c=y,L=f([]),p=f([]),q=f([]),N=f([]),$=f([]),e=f(I(F())),B=f(!1);f(!1);const M=f("");function F(){return{id:"",cap:"",datetime_from:"",datetime_to:"",delivery_platform_campaign_item:"",delivery_platform_campaign_item_scope:"",delivery_product_mapping_items:"",min_basket_amount:0,qty:"",total_count:"",total_count_per_user:"",promo_value:""}}ae(()=>{c.type=="create"?M.value="Create New":M.value="Edit",p.value=c.deliveryPlatformCampaign.data,q.value=c.deliveryPlatformCampaign.data.deliveryProductMapping.deliveryProductMappingItems.map(l=>({id:l.id,full_name:"(#"+l.channel_code+") "+l.product.code+" "+l.product.name,img_url:l.product.thumbnail?l.product.thumbnail.full_url:"",product_id:l.product.id})),N.value=c.deliveryProductMappingVends.data.map(l=>({id:l.id,name:l.vend.cust_full_name,code:l.vend.code})),$.value=c.deliveryPlatformCampaign.data.deliveryPlatformCampaignItems.map(l=>({id:l.id,name:l.settings_name,settings_json:l.settings_json,settings_label:l.settings_label,settings_name:l.settings_name,items_json:l.items_json})),L.value=[c.deliveryPlatformCampaign.data.deliveryProductMapping.category_json?{id:c.deliveryPlatformCampaign.data.deliveryProductMapping.category_json.id,name:c.deliveryPlatformCampaign.data.deliveryProductMapping.category_json.name}:{id:"",name:""}],e.value=p.value?I(p.value):I(F()),e.value.datetime_from=Y.value,console.log(e.value.delivery_platform_campaign_item)});const Y=w(function(){return moment().add(30,"minutes").format("YYYY-MM-DD HH:mm:ss")}),U=w(function(){let l="";return e.value.delivery_platform_campaign_item&&e.value.promo_value&&(e.value.delivery_platform_campaign_item.phrase1&&(l+=e.value.delivery_platform_campaign_item.phrase1),e.value.delivery_platform_campaign_item.qty?l+=e.value.qty?e.value.qty:"":e.value.delivery_platform_campaign_item.promo_value&&(l+=e.value.promo_value?e.value.promo_value:""),e.value.delivery_platform_campaign_item.phrase2&&(l+=e.value.delivery_platform_campaign_item.phrase2),e.value.delivery_platform_campaign_item.cap&&(l+=e.value.cap?e.value.cap:""),e.value.delivery_platform_campaign_item.qty?e.value.delivery_platform_campaign_item.promo_value&&(l+=e.value.promo_value?e.value.promo_value:""):l+=e.value.qty?e.value.qty:"",e.value.delivery_platform_campaign_item.phrase3&&(l+=" "+e.value.delivery_platform_campaign_item.phrase3),e.value.delivery_platform_campaign_item_scope&&(l+=" "+e.value.delivery_platform_campaign_item_scope.name)),l}),z=w(function(){return moment(e.value.datetime_from).add(2,"hours").format("YYYY-MM-DD HH:mm:ss")}),A=w(function(){let l=!0;return(!e.value.delivery_platform_campaign_item||!e.value.delivery_platform_campaign_item_scope)&&(l=!1),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.qty&&!e.value.qty&&(l=!1),e.value.delivery_platform_campaign_item_scope_eater_type||(l=!1),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isProduct&&(e.value.delivery_product_mapping_items?(e.value.delivery_product_mapping_items.length==0&&(l=!1),e.value.delivery_platform_campaign_item_scope.singleObjectOnly&&e.value.delivery_product_mapping_items.length>1&&(l=!1)):l=!1),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isCategory&&e.value.category&&e.value.category.length==0&&(e.value.category?(e.value.category.length==0&&(l=!1),e.value.category.singleObjectOnly&&e.value.category.length>1&&(l=!1)):l=!1),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.promo_value&&e.value.promo_value==null&&(l=!1),l}),T=w(function(){let l=!0;return(!e.value.bind_delivery_platform_campaign_item||!e.value.bind_delivery_product_mapping_vend||!e.value.datetime_from||!e.value.datetime_to)&&(l=!1),l}),E=w(function(){let l=!0;return(!e.value.bind_delivery_platform_campaign_item||!e.value.datetime_from||!e.value.datetime_to||e.value.bind_delivery_product_mapping_vend)&&(l=!1),l});function Q(){P.post("/delivery-platform-campaigns/"+e.value.id+"/item-vend",{...e.value,delivery_platform_campaign_item_id:e.value.bind_delivery_platform_campaign_item?e.value.bind_delivery_platform_campaign_item.id:"",delivery_product_mapping_vend_id:e.value.bind_delivery_product_mapping_vend?e.value.bind_delivery_product_mapping_vend.id:"",settings_json:e.value.bind_delivery_platform_campaign_item?e.value.bind_delivery_platform_campaign_item.settings_json:"",settings_label:e.value.bind_delivery_platform_campaign_item?e.value.bind_delivery_platform_campaign_item.settings_label:"",settings_name:e.value.bind_delivery_platform_campaign_item?e.value.bind_delivery_platform_campaign_item.settings_name:"",vend_code:e.value.bind_delivery_product_mapping_vend?e.value.bind_delivery_product_mapping_vend.code:""},{preserveState:!1,preserveScroll:!0,replace:!0})}function Z(){P.post("/delivery-platform-campaigns/"+e.value.id+"/batch-item-vend",{...e.value,delivery_platform_campaign_item_id:e.value.bind_delivery_platform_campaign_item?e.value.bind_delivery_platform_campaign_item.id:"",settings_json:e.value.bind_delivery_platform_campaign_item?e.value.bind_delivery_platform_campaign_item.settings_json:"",settings_label:e.value.bind_delivery_platform_campaign_item?e.value.bind_delivery_platform_campaign_item.settings_label:"",settings_name:e.value.bind_delivery_platform_campaign_item?e.value.bind_delivery_platform_campaign_item.settings_name:""},{preserveState:!1,preserveScroll:!0,replace:!0})}function G(l){!confirm("Are you sure to delete this entry?")||P.delete("/delivery-platform-campaigns/item-vend/"+l,{preserveState:!1,preserveScroll:!0,replace:!0})}function J(){B.value=!0,e.value.delivery_platform_campaign_item_scope="",e.value.delivery_platform_campaign_item_scope_eater_type="",e.value.category="",e.value.qty="",e.value.promo_value="",e.value.cap="",e.value.total_count="",e.value.total_count_per_user=""}function K(){B.value=!0}function W(l){!confirm("Are you sure to delete this entry?")||P.delete("/delivery-platform-campaigns/item/"+l,{preserveState:!1,preserveScroll:!0,replace:!0})}function X(){P.post("/delivery-platform-campaigns/"+e.value.id+"/create-item",{...e.value,delivery_platform_campaign_item:e.value.delivery_platform_campaign_item?e.value.delivery_platform_campaign_item.id:"",delivery_platform_campaign_item_scope:e.value.delivery_platform_campaign_item_scope?e.value.delivery_platform_campaign_item_scope.id:"",delivery_platform_campaign_item_scope_eater_type:e.value.delivery_platform_campaign_item_scope_eater_type?e.value.delivery_platform_campaign_item_scope_eater_type.id:"",settings_label:U.value},{preserveState:!1,preserveScroll:!0,replace:!0})}function ee(){e.value.clearErrors(),e.value.transform(l=>({name:l.name,reserved_percent:l.reserved_percent,reserved_qty:l.reserved_qty})).post("/delivery-product-mappings/"+e.value.id+"/update",{preserveState:!0,replace:!0})}function te(l){!confirm("Are you sure to submit this campaign and its items to platform?")||P.post("/delivery-platform-campaigns/"+l+"/submit-platform",{},{preserveState:!1,preserveScroll:!0,replace:!0})}return(l,i)=>(r(),o(j,null,[s(g(le),{title:"Delivery Product Mapping"}),s(ie,null,{header:n(()=>[t("h2",ne,[d(_(M.value)+" Delivery Platform Campaign ",1),y.type=="update"?(r(),o("span",de,_(p.value.name),1)):m("",!0)])]),default:n(()=>[t("div",me,[t("div",_e,[t("div",pe,[t("div",ue,[t("form",{onSubmit:V(ee,["prevent"]),id:"submit"},[t("div",ce,[t("div",ve,[s(x,{modelValue:e.value.name,"onUpdate:modelValue":i[0]||(i[0]=a=>e.value.name=a),error:e.value.errors.name,required:"true"},{default:n(()=>[d(" Name ")]),_:1},8,["modelValue","error"])]),t("div",fe,[ge,t("div",ye,[t("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:c.deliveryPlatformCampaign.data.deliveryProductMapping.name,disabled:""},null,8,xe)])]),t("div",be,[he,t("div",Ve,[t("input",{type:"text",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-sm border-gray-300 rounded-md bg-gray-200 hover:cursor-not-allowed",value:c.deliveryPlatformCampaign.data.deliveryPlatformOperator.deliveryPlatform.name+" ("+c.deliveryPlatformCampaign.data.deliveryPlatformOperator.type+")",disabled:""},null,8,ke)])]),t("div",Ce,[t("div",we,[s(g(se),{href:"/delivery-platform-campaigns"},{default:n(()=>[s(k,{class:"bg-gray-300 hover:bg-gray-400 text-gray-700 flex space-x-1"},{default:n(()=>[s(g(oe),{class:"w-4 h-4"}),je]),_:1})]),_:1}),s(k,{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white flex space-x-1"},{default:n(()=>[s(g(O),{class:"w-4 h-4"}),Pe]),_:1})])]),Se,U.value?(r(),o("div",De,[t("div",Oe,[t("div",Be,_(U.value),1)])])):m("",!0),e.value.id?(r(),o("div",Me,[Ue,s(C,{modelValue:e.value.delivery_platform_campaign_item,"onUpdate:modelValue":i[1]||(i[1]=a=>e.value.delivery_platform_campaign_item=a),options:y.deliveryPlatformCampaignItemOptions,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1",onSelected:i[2]||(i[2]=a=>J())},null,8,["modelValue","options"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.cap?(r(),o("div",Ie,[s(x,{modelValue:e.value.cap,"onUpdate:modelValue":i[3]||(i[3]=a=>e.value.cap=a),error:e.value.errors.cap,placeholderStr:"Number"},{default:n(()=>[d(" Cap (Max Discount Dollar) ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.qty?(r(),o("div",Le,[s(x,{modelValue:e.value.qty,"onUpdate:modelValue":i[4]||(i[4]=a=>e.value.qty=a),error:e.value.errors.qty,placeholderStr:"Number",required:"true"},{default:n(()=>[d(" Bundle Total Qty ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item.id&&e.value.delivery_platform_campaign_item.promo_value?(r(),o("div",qe,[s(x,{modelValue:e.value.promo_value,"onUpdate:modelValue":i[5]||(i[5]=a=>e.value.promo_value=a),error:e.value.errors.promo_value,placeholderStr:"Number",required:"true"},{default:n(()=>[d(" Value ("+_(e.value.delivery_platform_campaign_item.id)+") ",1)]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item?(r(),o("div",Ne,[s(x,{modelValue:e.value.total_count,"onUpdate:modelValue":i[6]||(i[6]=a=>e.value.total_count=a),error:e.value.errors.total_count,placeholderStr:"Default Unlimited"},{default:n(()=>[d(" Redemption Limit ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item?(r(),o("div",$e,[s(x,{modelValue:e.value.total_count_per_user,"onUpdate:modelValue":i[7]||(i[7]=a=>e.value.total_count_per_user=a),error:e.value.errors.total_count_per_user,placeholderStr:"Default Unlimited"},{default:n(()=>[d(" Redemtion Limit/ User ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item?(r(),o("div",Fe,[Ye,s(C,{modelValue:e.value.delivery_platform_campaign_item_scope,"onUpdate:modelValue":i[8]||(i[8]=a=>e.value.delivery_platform_campaign_item_scope=a),options:e.value.delivery_platform_campaign_item.scope,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1",onSelected:i[9]||(i[9]=a=>K())},null,8,["modelValue","options"])])):m("",!0),e.value.delivery_platform_campaign_item_scope?(r(),o("div",Ae,[Te,s(C,{modelValue:e.value.delivery_platform_campaign_item_scope_eater_type,"onUpdate:modelValue":i[10]||(i[10]=a=>e.value.delivery_platform_campaign_item_scope_eater_type=a),options:e.value.delivery_platform_campaign_item_scope.eaterType,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1"},null,8,["modelValue","options"])])):m("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.minBasketAmount?(r(),o("div",Ee,[s(x,{modelValue:e.value.min_basket_amount,"onUpdate:modelValue":i[11]||(i[11]=a=>e.value.min_basket_amount=a),error:e.value.errors.min_basket_amount,placeholderStr:"Number"},{default:n(()=>[d(" Minimum Basket Amount ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isProduct?(r(),o("span",Re,[He,s(C,{modelValue:e.value.delivery_product_mapping_items,"onUpdate:modelValue":i[12]||(i[12]=a=>e.value.delivery_product_mapping_items=a),options:q.value,trackBy:"id",valueProp:"id",label:"full_name",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1",clear:B.value,max:e.value.delivery_platform_campaign_item_scope.singleObjectOnly?1:-1},null,8,["modelValue","options","clear","max"]),t("span",null,[e.value.delivery_platform_campaign_item_scope.singleObjectOnly?(r(),o("span",ze," * Single Object Only ")):m("",!0)])])):m("",!0),e.value.delivery_platform_campaign_item_scope&&e.value.delivery_platform_campaign_item_scope.isCategory?(r(),o("span",Qe,[Ze,s(C,{modelValue:e.value.category,"onUpdate:modelValue":i[13]||(i[13]=a=>e.value.category=a),options:L.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1",clear:B.value,max:e.value.delivery_platform_campaign_item_scope.singleObjectOnly?1:-1},null,8,["modelValue","options","clear","max"])])):m("",!0),e.value.delivery_platform_campaign_item&&e.value.delivery_platform_campaign_item_scope?(r(),o("div",Ge,[s(x,{modelValue:e.value.settings_name,"onUpdate:modelValue":i[14]||(i[14]=a=>e.value.settings_name=a),error:e.value.errors.settings_name,placeholderStr:"Campaign Item Name"},{default:n(()=>[d(" Campaign Item Name (Optional) ")]),_:1},8,["modelValue","error"])])):m("",!0),e.value.id?(r(),o("div",Je,[s(k,{type:"button",onClick:i[15]||(i[15]=V(a=>X(),["prevent"])),class:S(["bg-green-500 hover:bg-green-600 text-white flex space-x-1 sm:mt-1",[A.value?"":"opacity-50 cursor-not-allowed"]]),disabled:!A.value},{default:n(()=>[s(g(O),{class:"w-4 h-4"}),Ke]),_:1},8,["class","disabled"])])):m("",!0),e.value.id?(r(),o("div",We,[t("div",Xe,[t("div",et,[t("div",tt,[t("table",at,[t("thead",lt,[t("tr",st,[s(b,null,{default:n(()=>[d(" # ")]),_:1}),s(b,null,{default:n(()=>[d(" Name "),it,d(" Label ")]),_:1}),s(b,null,{default:n(()=>[d(" Settings ")]),_:1}),s(b,null,{default:n(()=>[d(" Items ")]),_:1}),s(b,null,{default:n(()=>[d(" Action ")]),_:1})])]),t("tbody",ot,[(r(!0),o(j,null,D(p.value.deliveryPlatformCampaignItems,(a,v)=>(r(),o("tr",{key:a.id,class:"divide-x divide-gray-300"},[s(h,{currentIndex:v,totalLength:p.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[d(_(v+1),1)]),_:2},1032,["currentIndex","totalLength"]),s(h,{currentIndex:v,totalLength:p.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[d(_(a.settings_name)+" ",1),rt,t("span",nt,_(a.settings_label),1)]),_:2},1032,["currentIndex","totalLength"]),s(h,{currentIndex:v,totalLength:p.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[a.settings_json?(r(),o("ul",dt,[(r(!0),o(j,null,D(a.settings_json,(u,R)=>(r(),o("li",mt,[t("div",_t,[t("span",pt,_(R)+": ",1),t("div",ut,[t("p",ct,_(u),1)])])]))),256))])):m("",!0)]),_:2},1032,["currentIndex","totalLength"]),s(h,{currentIndex:v,totalLength:p.value.deliveryPlatformCampaignItems.length,inputClass:"text-left"},{default:n(()=>[a.items_json?(r(),o("ul",vt,[(r(!0),o(j,null,D(a.items_json,u=>(r(),o("li",ft,[t("div",gt,[t("div",yt,[u&&"full_name"in u?(r(),o("p",xt,_(u.full_name?u.full_name:u.name),1)):m("",!0)])])]))),256))])):m("",!0),a.items_json?m("",!0):(r(),o("div",bt," NA "))]),_:2},1032,["currentIndex","totalLength"]),s(h,{currentIndex:v,totalLength:p.value.deliveryPlatformCampaignItems.length,inputClass:"text-center"},{default:n(()=>[s(k,{onClick:V(u=>W(a.id),["prevent"]),class:S(["flex flex-col bg-red-500 hover:bg-red-600 text-white",[a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0?"opacity-50 cursor-not-allowed":""]]),disabled:a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0},{default:n(()=>[s(g(re),{class:"w-4 h-4"}),a.deliveryPlatformCampaignItemVends&&a.deliveryPlatformCampaignItemVends.length>0?(r(),o("span",ht," Campaigns running, cannot delete ")):m("",!0)]),_:2},1032,["onClick","disabled","class"])]),_:2},1032,["currentIndex","totalLength"])]))),128)),p.value.deliveryPlatformCampaignItems.length?m("",!0):(r(),o("tr",Vt,Ct))])])])])])])):m("",!0),wt,e.value.id?(r(),o("div",jt,[Pt,s(C,{modelValue:e.value.bind_delivery_platform_campaign_item,"onUpdate:modelValue":i[16]||(i[16]=a=>e.value.bind_delivery_platform_campaign_item=a),options:$.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1"},null,8,["modelValue","options"])])):m("",!0),e.value.id?(r(),o("div",St,[Dt,s(C,{modelValue:e.value.bind_delivery_product_mapping_vend,"onUpdate:modelValue":i[17]||(i[17]=a=>e.value.bind_delivery_product_mapping_vend=a),options:N.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"top",class:"mt-1"},null,8,["modelValue","options"])])):m("",!0),t("div",Ot,[s(H,{modelValue:e.value.datetime_from,"onUpdate:modelValue":i[18]||(i[18]=a=>e.value.datetime_from=a),error:e.value.errors.datetime_from,minDate:Y.value},{default:n(()=>[d(" Begin Date "),Bt]),_:1},8,["modelValue","error","minDate"])]),t("div",Mt,[s(H,{modelValue:e.value.datetime_to,"onUpdate:modelValue":i[19]||(i[19]=a=>e.value.datetime_to=a),error:e.value.errors.datetime_to,minDate:z.value},{default:n(()=>[d(" End Date "),Ut]),_:1},8,["modelValue","error","minDate"])]),e.value.id?(r(),o("div",It,[t("span",Lt,[s(k,{type:"button",onClick:i[20]||(i[20]=V(a=>Q(),["prevent"])),class:S(["bg-green-500 hover:bg-green-600 text-white flex space-x-1 sm:mt-1",[T.value?"":"opacity-50 cursor-not-allowed"]]),disabled:!T.value},{default:n(()=>[s(g(O),{class:"w-4 h-4"}),qt]),_:1},8,["class","disabled"]),s(k,{type:"button",onClick:i[21]||(i[21]=V(a=>Z(),["prevent"])),class:S(["bg-green-700 hover:bg-green-800 text-white flex space-x-1 sm:mt-1",[E.value?"":"opacity-50 cursor-not-allowed"]]),disabled:!E.value},{default:n(()=>[s(g(O),{class:"w-4 h-4"}),Nt]),_:1},8,["class","disabled"])]),s(k,{class:"bg-yellow-500 hover:bg-yellow-600 text-black flex space-x-1 sm:mt-1",onClick:i[22]||(i[22]=V(a=>te(p.value.id),["prevent"]))},{default:n(()=>[s(g(O),{class:"w-4 h-4"}),$t]),_:1})])):m("",!0),e.value.id?(r(),o("div",Ft,[t("div",Yt,[t("div",At,[t("div",Tt,[t("table",Et,[t("thead",Rt,[t("tr",Ht,[s(b,null,{default:n(()=>[d(" # ")]),_:1}),s(b,null,{default:n(()=>[d(" Vend ")]),_:1}),s(b,null,{default:n(()=>[d(" Campaign(s) ")]),_:1})])]),t("tbody",zt,[(r(!0),o(j,null,D(y.deliveryProductMappingVends.data,(a,v)=>(r(),o("tr",{key:a.id,class:"divide-x divide-gray-300"},[s(h,{currentIndex:v,totalLength:y.deliveryProductMappingVends.data.length,inputClass:"text-center"},{default:n(()=>[d(_(v+1),1)]),_:2},1032,["currentIndex","totalLength"]),s(h,{currentIndex:v,totalLength:y.deliveryProductMappingVends.data.length,inputClass:"text-left"},{default:n(()=>[d(_(a.vend.code)+" ",1),Qt,d(" "+_(a.vend.cust_full_name),1)]),_:2},1032,["currentIndex","totalLength"]),s(h,{currentIndex:v,totalLength:y.deliveryProductMappingVends.data.length,inputClass:"text-center"},{default:n(()=>[t("div",Zt,[(r(!0),o(j,null,D(a.deliveryPlatformCampaignItemVends,u=>(r(),o("span",{class:S(["flex justify-between items-center gap-x-0.5 rounded-md px-2 py-1 text-sm font-medium",[u.platform_ref_id?"bg-green-100 text-green-700":"bg-red-100 text-red-700"]])},[d(_(u.settings_name)+" ",1),t("button",Gt,[Jt,(r(),o("svg",{viewBox:"0 0 14 14",class:"h-4 w-4 stroke-blue-900/50 group-hover:stroke-blue-900/75",onClick:V(R=>G(u.id),["prevent"])},Xt,8,Kt))])],2))),256))])]),_:2},1032,["currentIndex","totalLength"])]))),128)),y.deliveryProductMappingVends.data.length?m("",!0):(r(),o("tr",ea,aa))])])])])])])):m("",!0)])],32)])])])])]),_:1})],64))}};export{ya as default};
