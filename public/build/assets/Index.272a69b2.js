import{_ as F}from"./Authenticated.fbcce26d.js";import{_ as v}from"./Button.8daa624a.js";import{_ as $}from"./DatePicker.1b287fce.js";import{_ as M}from"./Paginator.baf965e4.js";import{_ as U,r as T}from"./SearchInput.1930747c.js";import{_ as B}from"./MultiSelect.b7a1dc2d.js";import{g as P,U as D,Q as I,h as A,f as m,a as e,u as f,w as a,F as x,o as u,Z as E,b as t,i as S,d as n,t as d,k as w,l as V,c as R,O as j}from"./app.34c76a73.js";import{_,a as c}from"./TableData.c0b5f0c6.js";import{_ as K}from"./TableHeadSort.e48f09ae.js";import{r as Q}from"./PlusIcon.1067e12c.js";import{r as Z}from"./BackspaceIcon.21634d49.js";import{r as q}from"./PencilSquareIcon.1b15d2a9.js";import"./keyboard.94490800.js";import"./use-resolve-button-type.3f3d42c7.js";import"./RectangleStackIcon.eebbac05.js";import"./main.050b96aa.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.96789c34.js";const z=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Delivery Platform Campaign ",-1),G={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},H={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-3 px-3 md:px-3 py-3"},J={class:"flex justify-end"},W=t("span",null," Create ",-1),X={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},ee=t("label",{for:"text",class:"flex justify-start text-sm font-medium text-gray-700"}," Delivery Platform ",-1),te={class:"flex flex-col space-y-3 md:flex-row md:space-y-0 justify-between mt-5"},ae={class:"mt-3"},le={class:"flex space-x-1"},se=t("span",null," Search ",-1),oe=t("span",null," Reset ",-1),re={class:"flex flex-col space-y-2"},ne={class:"text-sm text-gray-700 leading-5 flex space-x-1"},de=t("span",null,"Showing",-1),ie={class:"font-medium"},ue=t("span",null,"to",-1),me={class:"font-medium"},ce=t("span",null,"of",-1),fe={class:"font-medium"},_e=t("span",null,"results",-1),pe={class:"mt-6 flex flex-col"},ge={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8 px-3"},ve={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},xe={class:"min-w-full border-separate",style:{"border-spacing":"0"}},he={class:"bg-gray-100"},ye={class:"divide-x divide-gray-200"},be={class:"bg-white"},Pe={class:"divide-y divide-gray-200"},we={class:"flex flex-col py-1 px-3 space-x-2"},Ve={class:"text-blue-700"},Le={class:"divide-y divide-gray-200 pl-3"},Ce={class:"flex py-1 px-3 space-x-2"},ke={key:0},Oe={class:"flex justify-center space-x-1"},$e=t("span",null," Edit ",-1),Be={key:0},De=t("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Ie=[De],He={__name:"Index",props:{deliveryPlatformCampaigns:Object,deliveryPlatformOperatorOptions:Object,deliveryPlatformOrderStatusOptions:Object,totals:Object},setup(o){const N=o,l=P({order_id:"",short_order_id:"",vend_code:"",date_from:D().format("YYYY-MM-DD"),date_to:D().format("YYYY-MM-DD"),delivery_platform_operator_id:"",has_complaint:"all",sortKey:"",sortBy:!1,status:"",numberPerPage:100}),h=P([]);I().props.auth.operatorCountry;const y=P([]);I().props.auth.permissions,A(()=>{y.value=[{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],l.value.numberPerPage=y.value[0],h.value=[{id:"all",name:"All"},...N.deliveryPlatformOperatorOptions.data.map(p=>({id:p.id,name:p.deliveryPlatform.name+" ("+p.type+")"}))],l.value.delivery_platform_operator_id=h.value[0]});function b(){j.get("/delivery-platform-orders",{...l.value,delivery_platform_operator_id:l.value.delivery_platform_operator_id.id,status:l.value.status.id,has_complaint:l.value.has_complaint.id,numberPerPage:l.value.numberPerPage.id},{preserveState:!0,replace:!0})}function Y(){j.get("/delivery-platform-orders")}function L(p){l.value.sortKey=p,l.value.sortBy=!l.value.sortBy,b()}return(p,r)=>(u(),m(x,null,[e(f(E),{title:"Delivery Platform"}),e(F,null,{header:a(()=>[z]),default:a(()=>{var C,k;return[t("div",G,[t("div",H,[t("div",J,[e(f(S),{href:"/delivery-platform-campaigns/create"},{default:a(()=>[e(v,{type:"button",class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-5 py-3 md:px-4 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:a(()=>[e(f(Q),{class:"h-4 w-4","aria-hidden":"true"}),W]),_:1})]),_:1})]),t("div",X,[e(U,{placeholderStr:"Vend ID",modelValue:l.value.vend_code,"onUpdate:modelValue":r[0]||(r[0]=s=>l.value.vend_code=s)},{default:a(()=>[n(" Vend ID ")]),_:1},8,["modelValue"]),e($,{modelValue:l.value.date_from,"onUpdate:modelValue":r[1]||(r[1]=s=>l.value.date_from=s)},{default:a(()=>[n(" From ")]),_:1},8,["modelValue"]),e($,{modelValue:l.value.date_to,"onUpdate:modelValue":r[2]||(r[2]=s=>l.value.date_to=s),minDate:l.value.date_from},{default:a(()=>[n(" To ")]),_:1},8,["modelValue","minDate"]),t("div",null,[ee,e(B,{modelValue:l.value.delivery_platform_operator_id,"onUpdate:modelValue":r[3]||(r[3]=s=>l.value.delivery_platform_operator_id=s),options:h.value,trackBy:"id",valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])]),t("div",te,[t("div",ae,[t("div",le,[e(v,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:r[4]||(r[4]=s=>b())},{default:a(()=>[e(f(T),{class:"h-4 w-4","aria-hidden":"true"}),se]),_:1}),e(v,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-gray-300 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-gray-800 shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:r[5]||(r[5]=s=>Y())},{default:a(()=>[e(f(Z),{class:"h-4 w-4","aria-hidden":"true"}),oe]),_:1})])]),t("div",re,[t("p",ne,[de,t("span",ie,d((C=o.deliveryPlatformCampaigns.meta.from)!=null?C:0),1),ue,t("span",me,d((k=o.deliveryPlatformCampaigns.meta.to)!=null?k:0),1),ce,t("span",fe,d(o.deliveryPlatformCampaigns.meta.total),1),_e]),e(B,{modelValue:l.value.numberPerPage,"onUpdate:modelValue":r[6]||(r[6]=s=>l.value.numberPerPage=s),options:y.value,trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1",onSelected:b},null,8,["modelValue","options"])])])]),t("div",pe,[t("div",ge,[t("div",ve,[t("table",xe,[t("thead",he,[t("tr",ye,[e(_,null,{default:a(()=>[n(" # ")]),_:1}),e(_,null,{default:a(()=>[n(" Platform ")]),_:1}),e(K,{modelName:"datetime_from",sortKey:l.value.sortKey,sortBy:l.value.sortBy,onSortTable:r[7]||(r[7]=s=>L("datetime_from"))},{default:a(()=>[n(" Date From ")]),_:1},8,["sortKey","sortBy"]),e(K,{modelName:"datetime_to",sortKey:l.value.sortKey,sortBy:l.value.sortBy,onSortTable:r[8]||(r[8]=s=>L("datetime_to"))},{default:a(()=>[n(" Date To ")]),_:1},8,["sortKey","sortBy"]),e(_,null,{default:a(()=>[n(" Name ")]),_:1}),e(_,null,{default:a(()=>[n(" Status ")]),_:1}),e(_,null,{default:a(()=>[n(" Campaign Item(s) ")]),_:1}),e(_,null,{default:a(()=>[n(" Product Mapping ")]),_:1}),e(_)])]),t("tbody",be,[(u(!0),m(x,null,w(o.deliveryPlatformCampaigns.data,(s,i)=>(u(),m("tr",{key:s.id,class:"divide-x divide-gray-200"},[e(c,{currentIndex:i,totalLength:o.deliveryPlatformCampaigns.length,inputClass:"text-center"},{default:a(()=>[n(d(o.deliveryPlatformCampaigns.meta.from+i),1)]),_:2},1032,["currentIndex","totalLength"]),e(c,{currentIndex:i,totalLength:o.deliveryPlatformCampaigns.length,inputClass:"text-center"},{default:a(()=>[n(d(s.deliveryPlatformOperator.deliveryPlatform.name)+" ("+d(s.deliveryPlatformOperator.type)+") ",1)]),_:2},1032,["currentIndex","totalLength"]),e(c,{currentIndex:i,totalLength:o.deliveryPlatformCampaigns.length,inputClass:"text-center"},{default:a(()=>[n(d(s.datetime_from),1)]),_:2},1032,["currentIndex","totalLength"]),e(c,{currentIndex:i,totalLength:o.deliveryPlatformCampaigns.length,inputClass:"text-center"},{default:a(()=>[n(d(s.datetime_to),1)]),_:2},1032,["currentIndex","totalLength"]),e(c,{currentIndex:i,totalLength:o.deliveryPlatformCampaigns.length,inputClass:"text-center"},{default:a(()=>[n(d(s.name),1)]),_:2},1032,["currentIndex","totalLength"]),e(c,{currentIndex:i,totalLength:o.deliveryPlatformCampaigns.length,inputClass:"text-center"},{default:a(()=>[n(d(s.is_active?"Active":"Inactive"),1)]),_:2},1032,["currentIndex","totalLength"]),e(c,{currentIndex:i,totalLength:o.deliveryPlatformCampaigns.length,inputClass:"text-left"},{default:a(()=>[t("ul",Pe,[(u(!0),m(x,null,w(s.deliveryPlatformCampaignItems,O=>(u(),m("li",we,[t("span",Ve,d(O.settings_label),1),t("ul",Le,[(u(!0),m(x,null,w(O.items_json,g=>(u(),m("li",Ce,[g&&"full_name"in g?(u(),m("span",ke,d(g.full_name?g.full_name:g.name),1)):V("",!0)]))),256))])]))),256))])]),_:2},1032,["currentIndex","totalLength"]),e(c,{currentIndex:i,totalLength:o.deliveryPlatformCampaigns.length,inputClass:"text-center"},{default:a(()=>[n(d(s.deliveryProductMapping.name),1)]),_:2},1032,["currentIndex","totalLength"]),e(c,{currentIndex:i,totalLength:o.deliveryPlatformCampaigns.length,inputClass:"text-center"},{default:a(()=>[t("div",Oe,[e(f(S),{href:"/delivery-platform-campaigns/"+s.id+"/edit"},{default:a(()=>[e(v,{type:"button",class:"bg-gray-300 hover:bg-gray-400 px-3 py-2 text-xs text-gray-800 flex space-x-1"},{default:a(()=>[e(f(q),{class:"w-4 h-4"}),$e]),_:1})]),_:2},1032,["href"])])]),_:2},1032,["currentIndex","totalLength"])]))),128)),o.deliveryPlatformCampaigns.data.length?V("",!0):(u(),m("tr",Be,Ie))])]),o.deliveryPlatformCampaigns.data.length?(u(),R(M,{key:0,links:o.deliveryPlatformCampaigns.links,meta:o.deliveryPlatformCampaigns.meta},null,8,["links","meta"])):V("",!0)])])])])]}),_:1})],64))}};export{He as default};
