import{_ as R}from"./Authenticated.031ded9a.js";import{_ as k}from"./Button.0016e5ae.js";import D from"./Form.f92c6e68.js";import{_ as Y}from"./Paginator.4a204205.js";import{_ as S,r as Z}from"./SearchInput.80c9f42b.js";import{_ as U}from"./MultiSelect.230270ee.js";import{_ as y,a as h}from"./TableData.4be859f1.js";import{_ as N}from"./TableHeadSort.ff57c3e9.js";import{g as p,K as $,h as q,f as v,a as o,u as d,w as a,F as j,o as r,Z as z,b as e,c as x,l as u,d as i,t as c,k as H,O as K}from"./app.1622c92a.js";import{r as J}from"./PlusIcon.4e65739b.js";import{r as Q}from"./BackspaceIcon.026688f4.js";import{r as W}from"./PencilSquareIcon.b28be10c.js";import"./open-closed.78e61628.js";import"./use-resolve-button-type.78773379.js";import"./RectangleStackIcon.4dac5ef0.js";import"./DatePicker.0a432a2b.js";import"./main.6c6b5b88.js";import"./Uom.78152ab7.js";import"./FormInput.7b4635bf.js";import"./Modal.dfeac61a.js";import"./disposables.ec6b4139.js";import"./ArrowUturnLeftIcon.a2093612.js";import"./CheckCircleIcon.cfa0e37e.js";import"./MultiSelect.vue_vue_type_style_index_1_lang.9c57bc66.js";import"./FormTextarea.ef293812.js";import"./PlusCircleIcon.1e406b63.js";const X=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Product (List) ",-1),ee={class:"m-2 sm:mx-5 sm:my-3 px-1 sm:px-2 lg:px-3"},te={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-3 px-3 md:px-3 py-3"},oe={class:"flex justify-end mb-4"},se=e("span",null," Create ",-1),ae={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},le={key:0},ne=e("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Operator ",-1),re={class:"flex flex-col space-y-3 md:flex-row md:space-y-0 justify-between mt-5"},ie={class:"mt-3"},de={class:"flex space-x-1"},ue=e("span",null," Search ",-1),ce=e("span",null," Reset ",-1),me={class:"flex flex-col space-y-2"},pe={class:"text-sm text-gray-700 leading-5 flex space-x-1"},fe=e("span",null,"Showing",-1),ge={class:"font-medium"},he=e("span",null,"to",-1),ve={class:"font-medium"},xe=e("span",null,"of",-1),_e={class:"font-medium"},ye=e("span",null,"results",-1),be={class:"mt-6 flex flex-col"},ke={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},Ce={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},we={class:"min-w-full border-separate",style:{"border-spacing":"0"}},Oe={class:"bg-gray-100"},Pe={class:"divide-x divide-gray-200"},$e={class:"bg-white"},Be={class:"flex justify-center"},Le=["src"],Ve={key:0},Se=e("br",null,null,-1),Ue={class:"flex justify-center space-x-1"},Ne=e("span",null," Edit ",-1),je={key:0},Ke=e("td",{colspan:"24",class:"relative whitespace-nowrap py-4 pr-4 pl-3 text-sm font-medium sm:pr-6 lg:pr-8 text-center"}," No Results Found ",-1),Ie=[Ke],ut={__name:"Index",props:{categories:Object,categoryGroups:Object,measurementUnitOptions:Object,operatorOptions:Object,products:Object,uoms:Object},setup(s){const I=s,l=p({code:"",name:"",operator:"",sortKey:"",sortBy:!0,numberPerPage:100}),F=p([]),M=p([]),_=p(!1);$().props.auth.roles;const f=$().props.auth.permissions,b=p([]);$().props.auth.operatorRole;const C=p(),w=p(""),O=p([]);q(()=>{O.value=[{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],F.value=[{id:1,value:"Yes"},{id:0,value:"No"}],M.value=[{id:"",value:"All"},{id:"comm",value:"Comm Only"},{id:"sf",value:"SF Only"},{id:"both",value:"Both Comm & SF"}],b.value=[{id:"all",full_name:"All"},...I.operatorOptions.data.map(g=>({id:g.id,full_name:g.full_name}))],l.value.numberPerPage=O.value[0],l.value.operator=b.value[0]});function T(){w.value="create",C.value=null,_.value=!0}function A(g){w.value="update",C.value=g,_.value=!0}function P(){K.get("/products",{...l.value,numberPerPage:l.value.numberPerPage.id,operator_id:l.value.operator.id},{preserveState:!0,replace:!0})}function G(){K.get("/products")}function B(g){l.value.sortKey=g,l.value.sortBy=!l.value.sortBy,P()}function E(){_.value=!1}return(g,n)=>(r(),v(j,null,[o(d(z),{title:"Product"}),o(R,null,{header:a(()=>[X]),default:a(()=>{var L,V;return[e("div",ee,[e("div",te,[e("div",oe,[d(f).includes("create products")?(r(),x(k,{key:0,class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-5 py-3 md:px-4 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:n[0]||(n[0]=t=>T())},{default:a(()=>[o(d(J),{class:"h-4 w-4","aria-hidden":"true"}),se]),_:1})):u("",!0)]),e("div",ae,[o(S,{placeholderStr:"Code",modelValue:l.value.code,"onUpdate:modelValue":n[1]||(n[1]=t=>l.value.code=t)},{default:a(()=>[i(" Code ")]),_:1},8,["modelValue"]),o(S,{placeholderStr:"Name",modelValue:l.value.name,"onUpdate:modelValue":n[2]||(n[2]=t=>l.value.name=t)},{default:a(()=>[i(" Name ")]),_:1},8,["modelValue"]),d(f).includes("admin-access products")?(r(),v("div",le,[ne,o(U,{modelValue:l.value.operator,"onUpdate:modelValue":n[3]||(n[3]=t=>l.value.operator=t),options:b.value,trackBy:"id",valueProp:"id",label:"full_name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])])):u("",!0)]),e("div",re,[e("div",ie,[e("div",de,[o(k,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:n[4]||(n[4]=t=>P())},{default:a(()=>[o(d(Z),{class:"h-4 w-4","aria-hidden":"true"}),ue]),_:1}),o(k,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-gray-300 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-gray-800 shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:n[5]||(n[5]=t=>G())},{default:a(()=>[o(d(Q),{class:"h-4 w-4","aria-hidden":"true"}),ce]),_:1})])]),e("div",me,[e("p",pe,[fe,e("span",ge,c((L=s.products.meta.from)!=null?L:0),1),he,e("span",ve,c((V=s.products.meta.to)!=null?V:0),1),xe,e("span",_e,c(s.products.meta.total),1),ye]),o(U,{modelValue:l.value.numberPerPage,"onUpdate:modelValue":n[6]||(n[6]=t=>l.value.numberPerPage=t),options:O.value,trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1",onSelected:P},null,8,["modelValue","options"])])])]),e("div",be,[e("div",ke,[e("div",Ce,[e("table",we,[e("thead",Oe,[e("tr",Pe,[o(y,null,{default:a(()=>[i(" # ")]),_:1}),o(N,{modelName:"code",sortKey:l.value.sortKey,sortBy:l.value.sortBy,onSortTable:n[7]||(n[7]=t=>B("code"))},{default:a(()=>[i(" Code ")]),_:1},8,["sortKey","sortBy"]),o(N,{modelName:"name",sortKey:l.value.sortKey,sortBy:l.value.sortBy,onSortTable:n[8]||(n[8]=t=>B("name"))},{default:a(()=>[i(" Name ")]),_:1},8,["sortKey","sortBy"]),o(y,null,{default:a(()=>[i(" Thumbnail ")]),_:1}),d(f).includes("admin-access products")?(r(),x(y,{key:0},{default:a(()=>[i(" Operator ")]),_:1})):u("",!0),d(f).includes("admin-access products")?(r(),x(y,{key:1},{default:a(()=>[i(" Unit Cost ")]),_:1})):u("",!0),o(y)])]),e("tbody",$e,[(r(!0),v(j,null,H(s.products.data,(t,m)=>(r(),v("tr",{key:t.id,class:"divide-x divide-gray-200"},[o(h,{currentIndex:m,totalLength:s.products.length,inputClass:"text-center"},{default:a(()=>[i(c(s.products.meta.from+m),1)]),_:2},1032,["currentIndex","totalLength"]),o(h,{currentIndex:m,totalLength:s.products.length,inputClass:"text-center"},{default:a(()=>[i(c(t.code),1)]),_:2},1032,["currentIndex","totalLength"]),o(h,{currentIndex:m,totalLength:s.products.length,inputClass:"text-left"},{default:a(()=>[i(c(t.name),1)]),_:2},1032,["currentIndex","totalLength"]),o(h,{currentIndex:m,totalLength:s.products.length,inputClass:"text-center"},{default:a(()=>[e("div",Be,[t.thumbnail?(r(),v("img",{key:0,class:"h-24 w-24 md:h-20 md:w-20 rounded-full",src:t.thumbnail.full_url,alt:""},null,8,Le)):u("",!0)])]),_:2},1032,["currentIndex","totalLength"]),d(f).includes("admin-access products")?(r(),x(h,{key:0,currentIndex:m,totalLength:s.products.length,inputClass:"text-left"},{default:a(()=>[t.operator?(r(),v("span",Ve,[i(c(t.operator.code)+" ",1),Se,i(" "+c(t.operator.name),1)])):u("",!0)]),_:2},1032,["currentIndex","totalLength"])):u("",!0),d(f).includes("admin-access products")?(r(),x(h,{key:1,currentIndex:m,totalLength:s.products.length,inputClass:"text-right"},{default:a(()=>[i(c(t.latestUnitCost?t.latestUnitCost.cost:null),1)]),_:2},1032,["currentIndex","totalLength"])):u("",!0),o(h,{currentIndex:m,totalLength:s.products.length,inputClass:"text-center"},{default:a(()=>[e("div",Ue,[o(k,{type:"button",class:"bg-gray-300 hover:bg-gray-400 px-3 py-2 text-xs text-gray-800 flex space-x-1",onClick:Fe=>A(t)},{default:a(()=>[o(d(W),{class:"w-4 h-4"}),Ne]),_:2},1032,["onClick"])])]),_:2},1032,["currentIndex","totalLength"])]))),128)),s.products.data.length?u("",!0):(r(),v("tr",je,Ie))])]),s.products.data.length?(r(),x(Y,{key:0,links:s.products.links,meta:s.products.meta},null,8,["links","meta"])):u("",!0)])])])]),_.value?(r(),x(D,{key:0,product:C.value,categories:s.categories,categoryGroups:s.categoryGroups,uoms:s.uoms,type:w.value,showModal:_.value,measurementUnitOptions:s.measurementUnitOptions,operatorOptions:b.value,permissions:d(f),onModalClose:E},null,8,["product","categories","categoryGroups","uoms","type","showModal","measurementUnitOptions","operatorOptions","permissions"])):u("",!0)]}),_:1})],64))}};export{ut as default};
