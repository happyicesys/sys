import{_ as M}from"./Authenticated.24167e3d.js";import{_ as C}from"./Button.d37096d8.js";import{d as O}from"./main.83f019f6.js";import{_ as v}from"./_plugin-vue_export-helper.cdc0426e.js";import{I as c,o as m,g as p,d as e,r as B,a,a0 as y,G as U,w as u,F as f,t as n,m as x,l as z,f as k,n as i}from"./app.5132a92b.js";import{M as T,O as A,P as F}from"./MultiSelect.fa37bae2.js";import{S as j}from"./SearchInput.100f5a13.js";import{r as E}from"./SearchIcon.e2025b28.js";const K={components:{Datepicker:O},props:{modelValue:Date,minDate:String,maxDate:String,enableTimePicker:{type:Boolean,default:!1}},emit:["update:modelValue"],methods:{onSelected(r){this.$emit("update:modelValue",r)}}},L={for:"text",class:"block text-sm font-medium text-gray-700"},N={class:"mt-1"};function H(r,l,s,w,o,h){const g=c("Datepicker");return m(),p("div",null,[e("label",L,[B(r.$slots,"default")]),e("div",N,[a(g,{modelValue:s.modelValue,"onUpdate:modelValue":h.onSelected,format:"yyyy-MM-dd",clearable:!1,monthChangeOnScroll:!1,autoApply:"",closeOnAutoApply:!0,minDate:s.minDate,maxDate:s.maxDate,enableTimePicker:s.enableTimePicker},null,8,["modelValue","onUpdate:modelValue","minDate","maxDate","enableTimePicker"])])])}const G=v(K,[["render",H]]),q={components:{BreezeAuthenticatedLayout:M,Button:C,DatePicker:G,MultiSelect:T,OptionDropdown:A,Paginator:F,SearchIcon:E,SearchInput:j},props:{paymentMethods:Object,vends:Object,vendTransactions:Object,vendChannelErrors:Object},created(){this.vendOptions=this.vends.data.map(r=>({id:r.id,code:r.code})),this.vendChannelErrorOptions=this.vendChannelErrors.data.map(r=>({id:r.id,desc:r.desc})),this.paymentMethodOptions=[{id:"",name:"All"},...this.paymentMethods.data.map(r=>({id:r.id,name:r.name}))]},data(){return{filters:this.getFiltersDefault(),vendOptions:[],vendChannelErrorOptions:[],paymentMethodOptions:[]}},watch:{"filters.numberPerPage"(){this.onSearchFilterUpdated()}},methods:{getFiltersDefault(){return{codes:[],errors:[],paymentMethod:"",date_from:y().startOf("month").toDate(),date_to:y().toDate(),sortKey:"",sortBy:!0,numberPerPage:100}},onSearchFilterUpdated:U.exports.debounce(function(){this.$inertia.get("/vends/transactions",this.filters,{preserveState:!0,replace:!0})},500),sortTable(r){this.filters.sortKey=r,this.filters.sortBy=!this.filters.sortBy,this.onSearchFilterUpdated()}}},J=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," VM Transactions ",-1),Q={class:"m-2 sm:mx-5 sm:my-3 px-2 sm:px-4 lg:px-6"},R={class:"-mx-4 sm:-mx-6 lg:-mx-8 bg-white rounded-md border my-5 px-3 md:px-6 py-6"},W={class:"grid grid-cols-1 md:grid-cols-5 gap-2"},X={class:"col-span-5 md:col-span-1"},Y=e("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Code ",-1),Z={class:"col-span-5 md:col-span-1"},I=e("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Errors? ",-1),$={class:"col-span-5 md:col-span-1"},ee=e("label",{for:"text",class:"block text-sm font-medium text-gray-700"}," Pay Method ",-1),te={class:"col-span-5 md:col-span-1"},oe=k(" From "),se={class:"col-span-5 md:col-span-1"},le=k(" To "),re={class:"flex justify-between mt-5"},ae={class:"mt-3"},ne=e("span",null," Search ",-1),de={class:"flex flex-col space-y-2"},ie={class:"text-sm text-gray-700 leading-5 flex space-x-1"},ce=e("span",null,"Showing",-1),me={class:"font-medium"},pe=e("span",null,"to",-1),he={class:"font-medium"},ue=e("span",null,"of",-1),be={class:"font-medium"},ge=e("span",null,"results",-1),_e={class:"mt-6 flex flex-col"},ye={class:"-my-2 -mx-4 sm:-mx-6 lg:-mx-8"},fe={class:"shadow-sm ring-1 ring-black ring-opacity-5 overflow-scroll"},xe={class:"min-w-full border-separate",style:{"border-spacing":"0"}},ve={class:"bg-gray-100"},ke={class:"divide-x divide-gray-200"},we=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," # ",-1),Ve={scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"},Se={class:"flex justify-center"},De={class:"pt-0.5 pl-0.5 text-blue-600 hover:text-blue-800"},Pe={key:0},Me=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1),Ce=[Me],Oe={key:1},Be=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1),Ue=[Be],ze=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Code ",-1),Te=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Channel ",-1),Ae=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Amount ",-1),Fe=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Pay Method ",-1),je=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Channels Error ",-1),Ee=e("th",{scope:"col",class:"sticky top-0 z-10 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-center text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8"}," Order ID ",-1),Ke={class:"bg-white"};function Le(r,l,s,w,o,h){const g=c("Head"),b=c("MultiSelect"),_=c("DatePicker"),V=c("SearchIcon"),S=c("Button"),D=c("Paginator"),P=c("BreezeAuthenticatedLayout");return m(),p(f,null,[a(g,{title:"Vending Machine"}),a(P,null,{header:u(()=>[J]),default:u(()=>[e("div",Q,[e("div",R,[e("div",W,[e("div",X,[Y,a(b,{modelValue:o.filters.codes,"onUpdate:modelValue":l[0]||(l[0]=t=>o.filters.codes=t),options:o.vendOptions,valueProp:"id",label:"code",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])]),e("div",Z,[I,a(b,{modelValue:o.filters.errors,"onUpdate:modelValue":l[1]||(l[1]=t=>o.filters.errors=t),options:o.vendChannelErrorOptions,valueProp:"id",label:"desc",mode:"tags",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])]),e("div",$,[ee,a(b,{modelValue:o.filters.paymentMethod,"onUpdate:modelValue":l[2]||(l[2]=t=>o.filters.paymentMethod=t),options:o.paymentMethodOptions,valueProp:"id",label:"name",placeholder:"Select","open-direction":"bottom",class:"mt-1"},null,8,["modelValue","options"])]),e("div",te,[a(_,{modelValue:o.filters.date_from,"onUpdate:modelValue":l[3]||(l[3]=t=>o.filters.date_from=t),class:"col-span-5 md:col-span-1"},{default:u(()=>[oe]),_:1},8,["modelValue"])]),e("div",se,[a(_,{modelValue:o.filters.date_to,"onUpdate:modelValue":l[4]||(l[4]=t=>o.filters.date_to=t),minDate:o.filters.date_from,class:"col-span-5 md:col-span-1"},{default:u(()=>[le]),_:1},8,["modelValue","minDate"])])]),e("div",re,[e("div",ae,[a(S,{class:"inline-flex space-x-1 items-center rounded-md border border-green bg-green-500 px-8 py-3 md:px-5 text-sm font-medium leading-4 text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:l[5]||(l[5]=t=>h.onSearchFilterUpdated())},{default:u(()=>[a(V,{class:"h-4 w-4","aria-hidden":"true"}),ne]),_:1})]),e("div",de,[e("p",ie,[ce,e("span",me,n(s.vendTransactions.meta.from),1),pe,e("span",he,n(s.vendTransactions.meta.to),1),ue,e("span",be,n(s.vendTransactions.meta.total),1),ge]),a(b,{modelValue:o.filters.numberPerPage,"onUpdate:modelValue":l[6]||(l[6]=t=>o.filters.numberPerPage=t),options:[{id:100,value:100},{id:200,value:200},{id:500,value:500},{id:"All",value:"All"}],trackBy:"id",valueProp:"id",label:"value",placeholder:"Select","open-direction":"bottom",class:"mt-1",onChange:l[7]||(l[7]=t=>h.onSearchFilterUpdated())},null,8,["modelValue"])])])]),e("div",_e,[e("div",ye,[e("div",fe,[e("table",xe,[e("thead",ve,[e("tr",ke,[we,e("th",Ve,[e("div",Se,[e("a",{href:"#",class:"text-blue-600 hover:text-blue-800",onClick:l[8]||(l[8]=t=>h.sortTable("transaction_datetime"))}," DateTime "),e("div",De,[o.filters.sortKey==="transaction_datetime"&&o.filters.sortBy?(m(),p("span",Pe,Ce)):x("",!0),o.filters.sortKey==="transaction_datetime"&&!o.filters.sortBy?(m(),p("span",Oe,Ue)):x("",!0)])])]),ze,Te,Ae,Fe,je,Ee])]),e("tbody",Ke,[(m(!0),p(f,null,z(s.vendTransactions.data,(t,d)=>(m(),p("tr",{key:t.id,class:"divide-x divide-gray-200"},[e("td",{class:i([[d!==s.vendTransactions.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-600 sm:pl-6 lg:pl-8"],"text-center"])},n(s.vendTransactions.meta.from+d),3),e("td",{class:i([[d!==s.vendTransactions.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-left"])},n(t.transaction_datetime),3),e("td",{class:i([[d!==s.vendTransactions.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-right"])},n(t.vend_code),3),e("td",{class:i([[d!==s.vendTransactions.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-right"])},n(t.vend_channel_code),3),e("td",{class:i([[d!==s.vendTransactions.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-right"])},n(t.amount),3),e("td",{class:i([[d!==s.vendTransactions.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-left"])},n(t.payment_method_name),3),e("td",{class:i([[d!==s.vendTransactions.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-right"])},n(t.vend_channel_error_desc),3),e("td",{class:i([[d!==s.vendTransactions.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-800 sm:pl-6 lg:pl-8"],"text-left"])},n(t.order_id),3)]))),128))])]),a(D,{links:s.vendTransactions.links,meta:s.vendTransactions.meta},null,8,["links","meta"])])])])])]),_:1})],64)}const Xe=v(q,[["render",Le]]);export{Xe as default};
